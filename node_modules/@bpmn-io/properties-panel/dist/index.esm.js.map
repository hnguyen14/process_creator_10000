{"version":3,"file":"index.esm.js","sources":["../src/components/Header.js","../src/context/DescriptionContext.js","../src/context/ErrorsContext.js","../src/context/EventContext.js","../src/context/LayoutContext.js","../src/context/TooltipContext.js","../src/hooks/useTooltipContext.js","../src/components/entries/Tooltip.js","../src/hooks/useDescriptionContext.js","../src/hooks/useError.js","../src/hooks/useEvent.js","../src/hooks/useKeyFactory.js","../src/hooks/useLayoutState.js","../src/hooks/usePrevious.js","../src/hooks/useShowEntryEvent.js","../src/hooks/useStickyIntersectionObserver.js","../src/hooks/useStaticCallback.js","../src/components/Group.js","../src/components/Placeholder.js","../src/components/entries/Description.js","../src/components/entries/templating/TemplatingEditor.js","../src/components/entries/FEEL/FeelEditor.js","../src/components/entries/FEEL/FeelIndicator.js","../src/components/entries/FEEL/FeelIcon.js","../src/components/entries/FEEL/context/FeelPopupContext.js","../src/components/util/dragger.js","../src/components/Popup.js","../src/components/entries/FEEL/FeelPopup.js","../src/components/entries/ToggleSwitch.js","../src/components/entries/NumberField.js","../src/components/entries/FEEL/Feel.js","../src/PropertiesPanel.js","../src/components/DropdownButton.js","../src/components/HeaderButton.js","../src/components/entries/Collapsible.js","../src/components/ListItem.js","../src/components/ListGroup.js","../src/components/entries/Checkbox.js","../src/components/entries/templating/Templating.js","../src/components/entries/List.js","../src/components/entries/Select.js","../src/components/entries/Simple.js","../src/components/entries/TextArea.js","../src/components/entries/TextField.js","../src/features/debounce-input/debounceInput.js","../src/features/debounce-input/index.js","../src/features/feel-popup/FeelPopupModule.js","../src/features/feel-popup/index.js"],"sourcesContent":["import { ExternalLinkIcon } from './icons';\n\n/**\n * @typedef { {\n *  getElementLabel: (element: object) => string,\n *  getTypeLabel: (element: object) => string,\n *  getElementIcon: (element: object) => import('preact').Component,\n *  getDocumentationRef: (element: object) => string\n * } } HeaderProvider\n */\n\n/**\n * @param {Object} props\n * @param {Object} props.element,\n * @param {HeaderProvider} props.headerProvider\n */\nexport default function Header(props) {\n\n  const {\n    element,\n    headerProvider\n  } = props;\n\n  const {\n    getElementIcon,\n    getDocumentationRef,\n    getElementLabel,\n    getTypeLabel,\n  } = headerProvider;\n\n  const label = getElementLabel(element);\n  const type = getTypeLabel(element);\n  const documentationRef = getDocumentationRef && getDocumentationRef(element);\n\n  const ElementIcon = getElementIcon(element);\n\n  return (<div class=\"bio-properties-panel-header\">\n    <div class=\"bio-properties-panel-header-icon\">\n      { ElementIcon && <ElementIcon width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" /> }\n    </div>\n    <div class=\"bio-properties-panel-header-labels\">\n      <div title={ type } class=\"bio-properties-panel-header-type\">{ type }</div>\n      { label ?\n        <div title={ label } class=\"bio-properties-panel-header-label\">{ label }</div> :\n        null\n      }\n    </div>\n    <div class=\"bio-properties-panel-header-actions\">\n      { documentationRef ?\n        <a\n          rel=\"noopener\"\n          class=\"bio-properties-panel-header-link\"\n          href={ documentationRef }\n          title=\"Open documentation\"\n          target=\"_blank\">\n          <ExternalLinkIcon />\n        </a> :\n        null\n      }\n    </div>\n  </div>);\n}","import {\n  createContext\n} from 'preact';\n\nconst DescriptionContext = createContext({\n  description: {},\n  getDescriptionForId: () => {}\n});\n\nexport default DescriptionContext;\n","import {\n  createContext\n} from 'preact';\n\nconst ErrorsContext = createContext({\n  errors: {}\n});\n\nexport default ErrorsContext;","/**\n * @typedef {Function} <propertiesPanel.showEntry> callback\n *\n * @example\n *\n * useEvent('propertiesPanel.showEntry', ({ focus = false, ...rest }) => {\n *   // ...\n * });\n *\n * @param {Object} context\n * @param {boolean} [context.focus]\n *\n * @returns void\n */\n\n/**\n * @typedef {Function} <propertiesPanel.showError> callback\n *\n * @example\n *\n * useEvent('propertiesPanel.showError', ({ focus = false, message, ...rest }) => {\n *   // ...\n * });\n *\n * @param {Object} context\n * @param {string} context.message\n * @param {boolean} [context.focus]\n *\n * @returns void\n */\n\nimport { createContext } from 'preact';\n\nconst EventContext = createContext({ eventBus: null });\n\nexport default EventContext;\n","import {\n  createContext\n} from 'preact';\n\nconst LayoutContext = createContext({\n  layout: {},\n  setLayout: () => {},\n  getLayoutForKey: () => {},\n  setLayoutForKey: () => {}\n});\n\nexport default LayoutContext;","import {\n  createContext\n} from 'preact';\n\nconst TooltipContext = createContext({\n  tooltip: {},\n  getTooltipForId: () => {}\n});\n\nexport default TooltipContext;\n","import {\n  useContext\n} from 'preact/hooks';\n\nimport {\n  TooltipContext\n} from '../context';\n\n/**\n * Accesses the global TooltipContext and returns a tooltip for a given id and element.\n *\n * @example\n * ```jsx\n * function TextField(props) {\n *   const tooltip = useTooltipContext('input1', element);\n * }\n * ```\n *\n * @param {string} id\n * @param {object} element\n *\n * @returns {string}\n */\nexport function useTooltipContext(id, element) {\n  const {\n    getTooltipForId\n  } = useContext(TooltipContext);\n\n  return getTooltipForId(id, element);\n}\n","import {\n  useRef,\n  useEffect,\n  useState\n} from 'preact/hooks';\n\nimport { useTooltipContext } from '../../hooks/useTooltipContext';\n\nimport { createPortal } from 'preact/compat';\n\n/**\n * @param {Object} props\n * @param {String} props.forId\n * @param {String} props.value\n */\nexport default function TooltipWrapper(props) {\n  const {\n    forId,\n    element\n  } = props;\n\n  const contextDescription = useTooltipContext(forId, element);\n\n  const value = props.value || contextDescription;\n\n  if (!value) {\n    return props.children;\n  }\n\n  return <Tooltip { ...props } value={ value } forId={ prefixId(forId) } />;\n}\n\nfunction Tooltip(props) {\n  const {\n    forId,\n    value,\n    parent,\n    direction = 'right',\n    position\n  } = props;\n\n  const [ visible, setShow ] = useState(false);\n  const [ focusedViaKeyboard, setFocusedViaKeyboard ] = useState(false);\n\n  let timeout = null;\n\n  const wrapperRef = useRef(null);\n  const tooltipRef = useRef(null);\n\n  const showTooltip = async (event) => {\n    const show = () => setShow(true);\n\n    if (!visible && !timeout) {\n      if (event instanceof MouseEvent) {\n        timeout = setTimeout(show, 200);\n      } else {\n        show();\n        setFocusedViaKeyboard(true);\n      }\n    }\n  };\n\n  const hideTooltip = () => {\n    setShow(false);\n    setFocusedViaKeyboard(false);\n  };\n\n  const hideTooltipViaEscape = (e) => {\n    e.code === 'Escape' && hideTooltip();\n  };\n\n  const isTooltipHovered = ({ x, y }) => {\n    const tooltip = tooltipRef.current;\n    const wrapper = wrapperRef.current;\n\n    return tooltip && (\n      inBounds(x, y, wrapper.getBoundingClientRect()) ||\n      inBounds(x, y, tooltip.getBoundingClientRect())\n    );\n  };\n\n  useEffect(() => {\n    const { current } = wrapperRef;\n\n    if (!current) {\n      return;\n    }\n\n    const hideHoveredTooltip = (e) => {\n      const isFocused = document.activeElement === wrapperRef.current\n                        || document.activeElement.closest('.bio-properties-panel-tooltip');\n\n      if (visible && !isTooltipHovered({ x: e.x, y: e.y }) && !(isFocused && focusedViaKeyboard)) {\n        hideTooltip();\n      }\n    };\n\n    const hideFocusedTooltip = (e) => {\n      const { relatedTarget } = e;\n      const isTooltipChild = (el) => !!el.closest('.bio-properties-panel-tooltip');\n\n\n      if (visible && !isHovered(wrapperRef.current) && relatedTarget && !isTooltipChild(relatedTarget)) {\n        hideTooltip();\n      }\n    };\n\n    document.addEventListener('wheel', hideHoveredTooltip);\n    document.addEventListener('focusout', hideFocusedTooltip);\n    document.addEventListener('mousemove', hideHoveredTooltip);\n\n    return () => {\n      document.removeEventListener('wheel', hideHoveredTooltip);\n      document.removeEventListener('mousemove', hideHoveredTooltip);\n      document.removeEventListener('focusout', hideFocusedTooltip);\n    };\n  }, [ wrapperRef.current, visible, focusedViaKeyboard ]);\n\n  const renderTooltip = () => {\n    return (\n      <div\n        class={ `bio-properties-panel-tooltip ${direction}` }\n        role=\"tooltip\"\n        id=\"bio-properties-panel-tooltip\"\n        aria-labelledby={ forId }\n        style={ position || getTooltipPosition(wrapperRef.current) }\n        ref={ tooltipRef }\n        onClick={ (e)=> e.stopPropagation() }\n      >\n        <div class=\"bio-properties-panel-tooltip-content\">\n          {value}\n        </div>\n        <div class=\"bio-properties-panel-tooltip-arrow\" />\n      </div>\n    );};\n\n  return (\n    <div class=\"bio-properties-panel-tooltip-wrapper\" tabIndex=\"0\"\n      ref={ wrapperRef }\n      onMouseEnter={ showTooltip }\n      onMouseLeave={ ()=> {\n        clearTimeout(timeout);\n        timeout = null;\n      } }\n      onFocus={ showTooltip }\n      onKeyDown={ hideTooltipViaEscape }\n    >\n      {props.children}\n      {visible ?\n        (parent ?\n          createPortal(renderTooltip(), parent.current)\n          : renderTooltip()\n        ) : null\n      }\n    </div>\n  );\n}\n\n\n// helper\nfunction inBounds(x, y, bounds) {\n  const { top, right, bottom, left } = bounds;\n  return x >= left && x <= right && y >= top && y <= bottom;\n}\n\nfunction getTooltipPosition(refElement) {\n  const refPosition = refElement.getBoundingClientRect();\n\n  const right = `calc(100% - ${refPosition.x}px)`;\n  const top = `${refPosition.top - 10}px`;\n\n  return `right: ${right}; top: ${top};`;\n}\n\nfunction isHovered(element) {\n  return element.matches(':hover');\n}\n\nfunction prefixId(id) {\n  return `bio-properties-panel-${ id }`;\n}\n","import {\n  useContext\n} from 'preact/hooks';\n\nimport {\n  DescriptionContext\n} from '../context';\n\n/**\n * Accesses the global DescriptionContext and returns a description for a given id and element.\n *\n * @example\n * ```jsx\n * function TextField(props) {\n *   const description = useDescriptionContext('input1', element);\n * }\n * ```\n *\n * @param {string} id\n * @param {object} element\n *\n * @returns {string}\n */\nexport function useDescriptionContext(id, element) {\n  const {\n    getDescriptionForId\n  } = useContext(DescriptionContext);\n\n  return getDescriptionForId(id, element);\n}\n","import { useContext } from 'preact/hooks';\n\nimport { ErrorsContext } from '../context';\n\nexport function useError(id) {\n  const { errors } = useContext(ErrorsContext);\n\n  return errors[ id ];\n}\n\nexport function useErrors() {\n  const { errors } = useContext(ErrorsContext);\n\n  return errors;\n}","import { useContext, useEffect, useRef } from 'preact/hooks';\n\nimport { EventContext } from '../context';\n\n\n/**\n * Subscribe to an event immediately. Update subscription after inputs changed.\n *\n * @param {string} event\n * @param {Function} callback\n */\nexport function useEvent(event, callback, eventBus) {\n  const eventContext = useContext(EventContext);\n\n  if (!eventBus) {\n    ({ eventBus } = eventContext);\n  }\n\n  const didMount = useRef(false);\n\n  // (1) subscribe immediately\n  if (eventBus && !didMount.current) {\n    eventBus.on(event, callback);\n  }\n\n  // (2) update subscription after inputs changed\n  useEffect(() => {\n    if (eventBus && didMount.current) {\n      eventBus.on(event, callback);\n    }\n\n    didMount.current = true;\n\n    return () => {\n      if (eventBus) {\n        eventBus.off(event, callback);\n      }\n    };\n  }, [ callback, event, eventBus ]);\n}\n","import { useMemo } from 'preact/hooks';\n\nconst KEY_LENGTH = 6;\n\n/**\n * Create a persistent key factory for plain objects without id.\n *\n * @example\n * ```jsx\n * function List({ objects }) {\n *   const getKey = useKeyFactory();\n *   return (<ol>{\n *     objects.map(obj => {\n *       const key = getKey(obj);\n *       return <li key={key}>obj.name</li>\n *     })\n *   }</ol>);\n * }\n * ```\n *\n * @param {any[]} dependencies\n * @returns {(element: object) => string}\n */\nexport function useKeyFactory(dependencies = []) {\n  const map = useMemo(() => new Map(), dependencies);\n\n  const getKey = el => {\n    let key = map.get(el);\n\n    if (!key) {\n      key = Math.random().toString().slice(-KEY_LENGTH);\n      map.set(el, key);\n    }\n\n    return key;\n  };\n\n  return getKey;\n}\n","import {\n  useCallback,\n  useContext\n} from 'preact/hooks';\n\nimport {\n  LayoutContext\n} from '../context';\n\n/**\n * Creates a state that persists in the global LayoutContext.\n *\n * @example\n * ```jsx\n * function Group(props) {\n *   const [ open, setOpen ] = useLayoutState([ 'groups', 'foo', 'open' ], false);\n * }\n * ```\n *\n * @param {(string|number)[]} path\n * @param {any} [defaultValue]\n *\n * @returns {[ any, Function ]}\n */\nexport function useLayoutState(path, defaultValue) {\n  const {\n    getLayoutForKey,\n    setLayoutForKey\n  } = useContext(LayoutContext);\n\n  const layoutForKey = getLayoutForKey(path, defaultValue);\n\n  const setState = useCallback ((newValue) => {\n    setLayoutForKey(path, newValue);\n  }, [ setLayoutForKey ]);\n\n\n  return [ layoutForKey, setState ];\n}\n","import {\n  useEffect,\n  useRef\n} from 'preact/hooks';\n\n/**\n * @pinussilvestrus: we need to introduce our own hook to persist the previous\n * state on updates.\n *\n * cf. https://reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state\n */\n\nexport function usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}","import {\n  useCallback,\n  useContext,\n  useEffect,\n  useRef\n} from 'preact/hooks';\n\nimport { isFunction } from 'min-dash';\n\nimport { PropertiesPanelContext } from '../context';\n\nimport { useEvent } from './useEvent';\n\n/**\n * Subscribe to `propertiesPanel.showEntry`.\n *\n * @param {string} id\n *\n * @returns {import('preact').Ref}\n */\nexport function useShowEntryEvent(id) {\n  const { onShow } = useContext(PropertiesPanelContext);\n\n  const ref = useRef();\n\n  const focus = useRef(false);\n\n  const onShowEntry = useCallback((event) => {\n    if (event.id === id) {\n      onShow();\n\n      if (!focus.current) {\n        focus.current = true;\n      }\n    }\n  }, [ id ]);\n\n  useEffect(() => {\n    if (focus.current && ref.current) {\n      if (isFunction(ref.current.focus)) {\n        ref.current.focus();\n      }\n\n      if (isFunction(ref.current.select)) {\n        ref.current.select();\n      }\n\n      focus.current = false;\n    }\n  });\n\n  useEvent('propertiesPanel.showEntry', onShowEntry);\n\n  return ref;\n}","import {\n  useCallback,\n  useEffect,\n  useState\n} from 'preact/hooks';\n\nimport {\n  query as domQuery\n} from 'min-dom';\n\nimport { useEvent } from './useEvent';\n\n\n/**\n * @callback setSticky\n * @param {boolean} value\n */\n\n/**\n * Use IntersectionObserver to identify when DOM element is in sticky mode.\n * If sticky is observered setSticky(true) will be called.\n * If sticky mode is left, setSticky(false) will be called.\n *\n *\n * @param {Object} ref\n * @param {string} scrollContainerSelector\n * @param {setSticky} setSticky\n */\nexport function useStickyIntersectionObserver(ref, scrollContainerSelector, setSticky) {\n\n  const [ scrollContainer, setScrollContainer ] = useState(domQuery(scrollContainerSelector));\n\n  const updateScrollContainer = useCallback(() => {\n    const newScrollContainer = domQuery(scrollContainerSelector);\n\n    if (newScrollContainer !== scrollContainer) {\n      setScrollContainer(newScrollContainer);\n    }\n  }, [ scrollContainerSelector, scrollContainer ]);\n\n  useEffect(() => {\n    updateScrollContainer();\n  }, [ updateScrollContainer ]);\n\n  useEvent('propertiesPanel.attach', updateScrollContainer);\n  useEvent('propertiesPanel.detach', updateScrollContainer);\n\n  useEffect(() => {\n    const Observer = IntersectionObserver;\n\n    // return early if IntersectionObserver is not available\n    if (!Observer) {\n      return;\n    }\n\n    // TODO(@barmac): test this\n    if (!ref.current || !scrollContainer) {\n      return;\n    }\n\n    const observer = new Observer((entries) => {\n\n      // scroll container is unmounted, do not update sticky state\n      if (scrollContainer.scrollHeight === 0) {\n        return;\n      }\n\n      entries.forEach(entry => {\n        if (entry.intersectionRatio < 1) {\n          setSticky(true);\n        }\n        else if (entry.intersectionRatio === 1) {\n          setSticky(false);\n        }\n      });\n    },\n    {\n      root: scrollContainer,\n      rootMargin: '0px 0px 999999% 0px', // Use bottom margin to avoid stickyness when scrolling out to bottom\n      threshold: [ 1 ]\n    });\n    observer.observe(ref.current);\n\n    // Unobserve if unmounted\n    return () => {\n      observer.unobserve(ref.current);\n    };\n\n  }, [ ref.current, scrollContainer, setSticky ]);\n}\n","import { useCallback, useRef } from 'preact/hooks';\n\n/**\n * Creates a static function reference with changing body.\n * This is necessary when external libraries require a callback function\n * that has references to state variables.\n *\n * Usage:\n * const callback = useStaticCallback((val) => {val === currentState});\n *\n * The `callback` reference is static and can be safely used in external\n * libraries or as a prop that does not cause rerendering of children.\n *\n * @param {Function} callback function with changing reference\n * @returns {Function} static function reference\n */\nexport function useStaticCallback(callback) {\n  const callbackRef = useRef(callback);\n  callbackRef.current = callback;\n\n  return useCallback(\n    (...args) => callbackRef.current(...args),\n    []\n  );\n}","import {\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState\n} from 'preact/hooks';\n\nimport Tooltip from './entries/Tooltip';\n\nimport classnames from 'classnames';\n\nimport {\n  query as domQuery\n} from 'min-dom';\n\nimport {\n  isFunction\n} from 'min-dash';\n\nimport {\n  useErrors,\n  useLayoutState\n} from '../hooks';\n\nimport { PropertiesPanelContext } from '../context';\n\nimport { useStickyIntersectionObserver } from '../hooks';\n\nimport { ArrowIcon } from './icons';\n\n/**\n * @param {import('../PropertiesPanel').GroupDefinition} props\n */\nexport default function Group(props) {\n  const {\n    element,\n    entries = [],\n    id,\n    label,\n    shouldOpen = false,\n  } = props;\n\n  const groupRef = useRef(null);\n\n  const [ open, setOpen ] = useLayoutState(\n    [ 'groups', id, 'open' ],\n    shouldOpen\n  );\n\n  const onShow = useCallback(() => setOpen(true), [ setOpen ]);\n\n  const toggleOpen = () => setOpen(!open);\n\n  const [ edited, setEdited ] = useState(false);\n\n  const [ sticky, setSticky ] = useState(false);\n\n  // set edited state depending on all entries\n  useEffect(() => {\n\n    // TODO(@barmac): replace with CSS when `:has()` is supported in all major browsers, or rewrite as in https://github.com/camunda/camunda-modeler/issues/3815#issuecomment-1733038161\n    const scheduled = requestAnimationFrame(() => {\n      const hasOneEditedEntry = entries.find(entry => {\n        const {\n          id,\n          isEdited\n        } = entry;\n\n        const entryNode = domQuery(`[data-entry-id=\"${id}\"]`);\n\n        if (!isFunction(isEdited) || !entryNode) {\n          return false;\n        }\n\n        const inputNode = domQuery('.bio-properties-panel-input', entryNode);\n\n        return isEdited(inputNode);\n      });\n\n      setEdited(hasOneEditedEntry);\n    });\n\n    return () => cancelAnimationFrame(scheduled);\n  }, [ entries, setEdited ]);\n\n  // set error state depending on all entries\n  const allErrors = useErrors();\n  const hasErrors = entries.some(entry => allErrors[entry.id]);\n\n  // set css class when group is sticky to top\n  useStickyIntersectionObserver(groupRef, 'div.bio-properties-panel-scroll-container', setSticky);\n\n  const propertiesPanelContext = {\n    ...useContext(PropertiesPanelContext),\n    onShow\n  };\n\n  return <div class=\"bio-properties-panel-group\" data-group-id={ 'group-' + id } ref={ groupRef }>\n    <div class={ classnames(\n      'bio-properties-panel-group-header',\n      edited ? '' : 'empty',\n      open ? 'open' : '',\n      (sticky && open) ? 'sticky' : ''\n    ) } onClick={ toggleOpen }>\n      <div\n        title={ props.tooltip ? null : label }\n        data-title={ label }\n        class=\"bio-properties-panel-group-header-title\"\n      >\n        <Tooltip value={ props.tooltip } forId={ 'group-' + id } element={ element } parent={ groupRef }>\n          { label }\n        </Tooltip>\n      </div>\n      <div class=\"bio-properties-panel-group-header-buttons\">\n        {\n          <DataMarker\n            edited={ edited }\n            hasErrors={ hasErrors }\n          />\n        }\n        <button\n          type=\"button\"\n          title=\"Toggle section\"\n          class=\"bio-properties-panel-group-header-button bio-properties-panel-arrow\"\n        >\n          <ArrowIcon class={ open ? 'bio-properties-panel-arrow-down' : 'bio-properties-panel-arrow-right' } />\n        </button>\n      </div>\n    </div>\n    <div class={ classnames(\n      'bio-properties-panel-group-entries',\n      open ? 'open' : ''\n    ) }>\n      <PropertiesPanelContext.Provider value={ propertiesPanelContext }>\n        {\n          entries.map(entry => {\n            const {\n              component: Component,\n              id\n            } = entry;\n\n            return (\n              <Component\n                { ...entry }\n                element={ element }\n                key={ id } />\n            );\n          })\n        }\n      </PropertiesPanelContext.Provider>\n    </div>\n  </div>;\n}\n\nfunction DataMarker(props) {\n  const {\n    edited,\n    hasErrors\n  } = props;\n\n  if (hasErrors) {\n    return (\n      <div title=\"Section contains an error\" class=\"bio-properties-panel-dot bio-properties-panel-dot--error\"></div>\n    );\n  }\n\n  if (edited) {\n    return (\n      <div title=\"Section contains data\" class=\"bio-properties-panel-dot\"></div>\n    );\n  }\n  return null;\n}","/**\n * @typedef { {\n *  text: (element: object) => string,\n *  icon?: (element: Object) => import('preact').Component\n * } } PlaceholderDefinition\n *\n * @param { PlaceholderDefinition } props\n */\nexport default function Placeholder(props) {\n  const {\n    text,\n    icon: Icon\n  } = props;\n\n  return (\n    <div class=\"bio-properties-panel open\">\n      <section class=\"bio-properties-panel-placeholder\">\n        { Icon && <Icon class=\"bio-properties-panel-placeholder-icon\" /> }\n        <p class=\"bio-properties-panel-placeholder-text\">{ text }</p>\n      </section>\n    </div>\n  );\n}","import {\n  useDescriptionContext\n} from '../../hooks';\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.forId - id of the entry the description is used for\n * @param {String} props.value\n */\nexport default function Description(props) {\n  const {\n    element,\n    forId,\n    value\n  } = props;\n\n  const contextDescription = useDescriptionContext(forId, element);\n\n  const description = value || contextDescription;\n\n  if (description) {\n    return (\n      <div class=\"bio-properties-panel-description\">\n        { description }\n      </div>\n    );\n  }\n}\n","import classNames from 'classnames';\nimport { useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { forwardRef } from 'preact/compat';\n\nimport { FeelersEditor } from 'feelers';\nimport { useStaticCallback } from '../../../hooks';\n\nimport { ExternalLinkIcon } from '../../icons';\n\nconst noop = () => {};\n\n/**\n * Buffer `.focus()` calls while the editor is not initialized.\n * Set Focus inside when the editor is ready.\n */\nconst useBufferedFocus = function(editor, ref) {\n\n  const [ buffer, setBuffer ] = useState(undefined);\n\n  ref.current = useMemo(() => ({\n    focus: (offset) => {\n      if (editor) {\n        editor.focus(offset);\n      } else {\n        if (typeof offset === 'undefined') {\n          offset = Infinity;\n        }\n        setBuffer(offset);\n      }\n    }\n  }), [ editor ]);\n\n  useEffect(() => {\n    if (typeof buffer !== 'undefined' && editor) {\n      editor.focus(buffer);\n      setBuffer(false);\n    }\n  }, [ editor, buffer ]);\n};\n\nconst CodeEditor = forwardRef((props, ref) => {\n\n  const {\n    onInput,\n    disabled,\n    tooltipContainer,\n    enableGutters,\n    value,\n    onLint = noop,\n    onPopupOpen = noop,\n    popupOpen,\n    contentAttributes = {},\n    hostLanguage = null,\n    singleLine = false\n  } = props;\n\n  const inputRef = useRef();\n  const [ editor, setEditor ] = useState();\n  const [ localValue, setLocalValue ] = useState(value || '');\n\n  useBufferedFocus(editor, ref);\n\n  const handleInput = useStaticCallback(newValue => {\n    onInput(newValue);\n    setLocalValue(newValue);\n  });\n\n  useEffect(() => {\n\n    let editor;\n\n    editor = new FeelersEditor({\n      container: inputRef.current,\n      onChange: handleInput,\n      value: localValue,\n      onLint,\n      contentAttributes,\n      tooltipContainer,\n      enableGutters,\n      hostLanguage,\n      singleLine\n    });\n\n    setEditor(\n      editor\n    );\n\n    return () => {\n      onLint([]);\n      inputRef.current.innerHTML = '';\n      setEditor(null);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n\n    if (value === localValue) {\n      return;\n    }\n\n    editor.setValue(value);\n    setLocalValue(value);\n  }, [ value ]);\n\n  const handleClick = () => {\n    ref.current.focus();\n  };\n\n  return <div class={ classNames(\n    'bio-properties-panel-feelers-editor-container',\n    popupOpen ? 'popupOpen' : null\n  ) }>\n    <div class=\"bio-properties-panel-feelers-editor__open-popup-placeholder\">Opened in editor</div>\n    <div\n      name={ props.name }\n      class={ classNames('bio-properties-panel-feelers-editor bio-properties-panel-input', localValue ? 'edited' : null, disabled ? 'disabled' : null) }\n      ref={ inputRef }\n      onClick={ handleClick }\n    ></div>\n\n    <button\n      type=\"button\"\n      title=\"Open pop-up editor\"\n      class=\"bio-properties-panel-open-feel-popup\"\n      onClick={ () => onPopupOpen('feelers') }><ExternalLinkIcon /></button>\n  </div>;\n});\n\nexport default CodeEditor;","import classNames from 'classnames';\nimport { useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { forwardRef } from 'preact/compat';\n\nimport FeelEditor from '@bpmn-io/feel-editor';\n\nimport { EditorView, lineNumbers } from '@codemirror/view';\n\nimport { useStaticCallback } from '../../../hooks';\n\nimport { PopupIcon } from '../../icons';\n\nconst noop = () => {};\n\n/**\n * Buffer `.focus()` calls while the editor is not initialized.\n * Set Focus inside when the editor is ready.\n */\nconst useBufferedFocus = function(editor, ref) {\n\n  const [ buffer, setBuffer ] = useState(undefined);\n\n  ref.current = useMemo(() => ({\n    focus: (offset) => {\n      if (editor) {\n        editor.focus(offset);\n      } else {\n        if (typeof offset === 'undefined') {\n          offset = Infinity;\n        }\n        setBuffer(offset);\n      }\n    }\n  }), [ editor ]);\n\n  useEffect(() => {\n    if (typeof buffer !== 'undefined' && editor) {\n      editor.focus(buffer);\n      setBuffer(false);\n    }\n  }, [ editor, buffer ]);\n};\n\nconst CodeEditor = forwardRef((props, ref) => {\n\n  const {\n    contentAttributes,\n    enableGutters,\n    value,\n    onInput,\n    onFeelToggle = noop,\n    onLint = noop,\n    onPopupOpen = noop,\n    popupOpen,\n    disabled,\n    tooltipContainer,\n    variables\n  } = props;\n\n  const inputRef = useRef();\n  const [ editor, setEditor ] = useState();\n  const [ localValue, setLocalValue ] = useState(value || '');\n\n  useBufferedFocus(editor, ref);\n\n  const handleInput = useStaticCallback(newValue => {\n    onInput(newValue);\n    setLocalValue(newValue);\n  });\n\n  useEffect(() => {\n\n    let editor;\n\n    /* Trigger FEEL toggle when\n     *\n     * - `backspace` is pressed\n     * - AND the cursor is at the beginning of the input\n     */\n    const onKeyDown = e => {\n      if (e.key !== 'Backspace' || !editor) {\n        return;\n      }\n\n      const selection = editor.getSelection();\n      const range = selection.ranges[selection.mainIndex];\n\n      if (range.from === 0 && range.to === 0) {\n        onFeelToggle();\n      }\n    };\n\n    editor = new FeelEditor({\n      container: inputRef.current,\n      onChange: handleInput,\n      onKeyDown: onKeyDown,\n      onLint: onLint,\n      tooltipContainer: tooltipContainer,\n      value: localValue,\n      variables: variables,\n      extensions: [\n        ...enableGutters ? [ lineNumbers() ] : [],\n        EditorView.lineWrapping\n      ],\n      contentAttributes\n    });\n\n    setEditor(\n      editor\n    );\n\n    return () => {\n      onLint([]);\n      inputRef.current.innerHTML = '';\n      setEditor(null);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n\n    if (value === localValue) {\n      return;\n    }\n\n    editor.setValue(value);\n    setLocalValue(value);\n  }, [ value ]);\n\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n\n    editor.setVariables(variables);\n  }, [ variables ]);\n\n  const handleClick = () => {\n    ref.current.focus();\n  };\n\n  return <div class={ classNames(\n    'bio-properties-panel-feel-editor-container',\n    disabled ? 'disabled' : null,\n    popupOpen ? 'popupOpen' : null)\n  }>\n    <div class=\"bio-properties-panel-feel-editor__open-popup-placeholder\">Opened in editor</div>\n    <div\n      name={ props.name }\n      class={ classNames('bio-properties-panel-input', localValue ? 'edited' : null) }\n      ref={ inputRef }\n      onClick={ handleClick }\n    ></div>\n    <button\n      type=\"button\"\n      title=\"Open pop-up editor\"\n      class=\"bio-properties-panel-open-feel-popup\"\n      onClick={ () => onPopupOpen() }><PopupIcon /></button>\n  </div>;\n});\n\nexport default CodeEditor;","export function FeelIndicator(props) {\n  const {\n    active\n  } = props;\n\n  if (!active) {\n    return null;\n  }\n\n  return <span class=\"bio-properties-panel-feel-indicator\">\n    =\n  </span>;\n}","import classNames from 'classnames';\nimport { FeelIcon as FeelIconSvg } from '../../icons';\n\nconst noop = () => {};\n\n/**\n * @param {Object} props\n * @param {Object} props.label\n * @param {String} props.feel\n */\nexport default function FeelIcon(props) {\n\n  const {\n    feel = false,\n    active,\n    disabled = false,\n    onClick = noop\n  } = props;\n\n  const feelRequiredLabel = 'FEEL expression is mandatory';\n  const feelOptionalLabel = `Click to ${active ? 'remove' : 'set a'} dynamic value with FEEL expression`;\n\n  const handleClick = e => {\n    onClick(e);\n\n    // when pointer event was created from keyboard, keep focus on button\n    if (!e.pointerType) {\n      e.stopPropagation();\n    }\n  };\n\n  return (\n    <button\n      type=\"button\"\n      class={ classNames('bio-properties-panel-feel-icon',\n        active ? 'active' : null,\n        feel === 'required' ? 'required' : 'optional') }\n      onClick={ handleClick }\n      disabled={ feel === 'required' || disabled }\n      title={\n        feel === 'required' ? feelRequiredLabel : feelOptionalLabel\n      }\n    >\n      <FeelIconSvg />\n    </button>\n  );\n}","import {\n  createContext\n} from 'preact';\n\nconst FeelPopupContext = createContext({\n  open: () => {},\n  close: () => {},\n  source: null\n});\n\nexport default FeelPopupContext;","import { domify } from 'min-dom';\n\n/**\n * Add a dragger that calls back the passed function with\n * { event, delta } on drag.\n *\n * @example\n *\n * function dragMove(event, delta) {\n *   // we are dragging (!!)\n * }\n *\n * domElement.addEventListener('dragstart', dragger(dragMove));\n *\n * @param {Function} fn\n * @param {Element} [dragPreview]\n *\n * @return {Function} drag start callback function\n */\nexport function createDragger(fn, dragPreview) {\n\n  let self;\n\n  let startX, startY;\n\n  /** drag start */\n  function onDragStart(event) {\n\n    self = this;\n\n    startX = event.clientX;\n    startY = event.clientY;\n\n    // (1) prevent preview image\n    if (event.dataTransfer) {\n      event.dataTransfer.setDragImage(dragPreview || emptyCanvas(), 0, 0);\n    }\n\n    // (2) setup drag listeners\n\n    // attach drag + cleanup event\n    // we need to do this to make sure we track cursor\n    // movements before we reach other drag event handlers,\n    // e.g. in child containers.\n    document.addEventListener('dragover', onDrag, true);\n    document.addEventListener('dragenter', preventDefault, true);\n\n    document.addEventListener('dragend', onEnd);\n    document.addEventListener('drop', preventDefault);\n  }\n\n  function onDrag(event) {\n    const delta = {\n      x: event.clientX - startX,\n      y: event.clientY - startY\n    };\n\n    // call provided fn with event, delta\n    return fn.call(self, event, delta);\n  }\n\n  function onEnd() {\n    document.removeEventListener('dragover', onDrag, true);\n    document.removeEventListener('dragenter', preventDefault, true);\n\n    document.removeEventListener('dragend', onEnd);\n    document.removeEventListener('drop', preventDefault);\n  }\n\n  return onDragStart;\n}\n\nfunction preventDefault(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\nfunction emptyCanvas() {\n  return domify('<canvas width=\"0\" height=\"0\" />');\n}","import { createPortal, forwardRef } from 'preact/compat';\n\nimport { useEffect, useMemo, useRef } from 'preact/hooks';\n\nimport classNames from 'classnames';\n\nimport { query as domQuery } from 'min-dom';\n\nimport * as focusTrap from 'focus-trap';\n\nimport { DragIcon } from './icons';\n\nimport { createDragger } from './util/dragger';\nimport { useEvent } from '../hooks/useEvent';\n\n\nconst noop = () => {};\n\n/**\n * A generic popup component.\n *\n * @param {Object} props\n * @param {HTMLElement} [props.container]\n * @param {string} [props.className]\n * @param {boolean} [props.delayInitialFocus]\n * @param {{x: number, y: number}} [props.position]\n * @param {number} [props.width]\n * @param {number} [props.height]\n * @param {Function} props.onClose\n * @param {Function} [props.onPostActivate]\n * @param {Function} [props.onPostDeactivate]\n * @param {boolean} [props.returnFocus]\n * @param {boolean} [props.closeOnEscape]\n * @param {string} props.title\n * @param {Ref} [ref]\n */\nfunction PopupComponent(props, globalRef) {\n\n  const {\n    container,\n    className,\n    delayInitialFocus,\n    position,\n    width,\n    height,\n    onClose,\n    onPostActivate = noop,\n    onPostDeactivate = noop,\n    returnFocus = true,\n    closeOnEscape = true,\n    title\n  } = props;\n\n  const focusTrapRef = useRef(null);\n  const localRef = useRef(null);\n  const popupRef = globalRef || localRef;\n\n  const containerNode = useMemo(() => getContainerNode(container), [ container ]);\n\n  const handleKeydown = event => {\n\n    // do not allow keyboard events to bubble\n    event.stopPropagation();\n\n    if (closeOnEscape && event.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  // re-activate focus trap on focus\n  const handleFocus = () => {\n    if (focusTrapRef.current) {\n      focusTrapRef.current.activate();\n    }\n  };\n\n  let style = {};\n\n  if (position) {\n    style = {\n      ...style,\n      top: position.top + 'px',\n      left: position.left + 'px'\n    };\n  }\n\n  if (width) {\n    style.width = width + 'px';\n  }\n\n  if (height) {\n    style.height = height + 'px';\n  }\n\n  useEffect(() => {\n    if (popupRef.current) {\n      popupRef.current.addEventListener('focusin', handleFocus);\n    }\n\n    return () => { popupRef.current.removeEventListener('focusin', handleFocus); };\n  }, [ popupRef ]);\n\n  useEffect(() => {\n    if (popupRef.current) {\n      focusTrapRef.current = focusTrap.createFocusTrap(popupRef.current, {\n        clickOutsideDeactivates: true,\n        delayInitialFocus,\n        fallbackFocus: popupRef.current,\n        onPostActivate,\n        onPostDeactivate,\n        returnFocusOnDeactivate: returnFocus\n      });\n\n      focusTrapRef.current.activate();\n    }\n\n    return () => focusTrapRef.current && focusTrapRef.current.deactivate();\n  }, [ popupRef ]);\n\n  useEvent('propertiesPanel.detach', onClose);\n\n  return createPortal(\n    <div\n      aria-label={ title }\n      tabIndex={ -1 }\n      ref={ popupRef }\n      onKeyDown={ handleKeydown }\n      role=\"dialog\"\n      class={ classNames('bio-properties-panel-popup', className) }\n      style={ style }>{ props.children }</div>\n    , containerNode || document.body\n  );\n}\n\nexport const Popup = forwardRef(PopupComponent);\n\nPopup.Title = Title;\nPopup.Body = Body;\nPopup.Footer = Footer;\n\nfunction Title(props) {\n  const {\n    children,\n    className,\n    draggable,\n    emit = () => {},\n    title,\n    ...rest\n  } = props;\n\n  // we can't use state as we need to\n  // manipulate this inside dragging events\n  const context = useRef({\n    startPosition: null,\n    newPosition: null\n  });\n\n  const dragPreviewRef = useRef();\n\n  const titleRef = useRef();\n\n  const onMove = (event, delta) => {\n    cancel(event);\n\n    const { x: dx, y: dy } = delta;\n\n    const newPosition = {\n      x: context.current.startPosition.x + dx,\n      y: context.current.startPosition.y + dy\n    };\n\n    const popupParent = getPopupParent(titleRef.current);\n\n    popupParent.style.top = newPosition.y + 'px';\n    popupParent.style.left = newPosition.x + 'px';\n\n    // notify interested parties\n    emit('dragover', { newPosition, delta });\n  };\n\n  const onMoveStart = (event) => {\n\n    // initialize drag handler\n    const onDragStart = createDragger(onMove, dragPreviewRef.current);\n    onDragStart(event);\n\n    event.stopPropagation();\n\n    const popupParent = getPopupParent(titleRef.current);\n\n    const bounds = popupParent.getBoundingClientRect();\n    context.current.startPosition = {\n      x: bounds.left,\n      y: bounds.top\n    };\n\n    // notify interested parties\n    emit('dragstart');\n  };\n\n  const onMoveEnd = () => {\n    context.current.newPosition = null;\n\n    // notify interested parties\n    emit('dragend');\n  };\n\n  return (\n    <div\n      class={ classNames(\n        'bio-properties-panel-popup__header',\n        draggable && 'draggable',\n        className\n      ) }\n      ref={ titleRef }\n      draggable={ draggable }\n      onDragStart={ onMoveStart }\n      onDragEnd={ onMoveEnd }\n      { ...rest }>\n      { draggable && (\n        <>\n          <div ref={ dragPreviewRef } class=\"bio-properties-panel-popup__drag-preview\"></div>\n          <div class=\"bio-properties-panel-popup__drag-handle\">\n            <DragIcon />\n          </div>\n        </>\n      )}\n      <div class=\"bio-properties-panel-popup__title\">{ title }</div>\n      { children }\n    </div>\n  );\n}\n\nfunction Body(props) {\n  const {\n    children,\n    className,\n    ...rest\n  } = props;\n\n  return (\n    <div class={ classNames('bio-properties-panel-popup__body', className) } { ...rest }>\n      { children }\n    </div>\n  );\n}\n\nfunction Footer(props) {\n  const {\n    children,\n    className,\n    ...rest\n  } = props;\n\n  return (\n    <div class={ classNames('bio-properties-panel-popup__footer', className) } { ...rest }>\n      { props.children }\n    </div>\n  );\n}\n\n\n// helpers //////////////////////\n\nfunction getPopupParent(node) {\n  return node.closest('.bio-properties-panel-popup');\n}\n\nfunction cancel(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\nfunction getContainerNode(node) {\n  if (typeof node === 'string') {\n    return domQuery(node);\n  }\n\n  return node;\n}","import {\n  useCallback,\n  useEffect,\n  useRef,\n  useState\n} from 'preact/hooks';\n\nimport { FeelPopupContext } from './context';\n\nimport { usePrevious } from '../../../hooks';\n\nimport { Popup } from '../../Popup';\n\nimport CodeEditor from './FeelEditor';\n\nimport TemplatingEditor from '../templating/TemplatingEditor';\nimport { HelpIcon } from '../../icons';\n\nexport const FEEL_POPUP_WIDTH = 700;\nexport const FEEL_POPUP_HEIGHT = 250;\n\n\n/**\n * FEEL popup component, built as a singleton. Emits lifecycle events as follows:\n *  - `feelPopup.open` - fired before the popup is mounted\n *  - `feelPopup.opened` - fired after the popup is mounted. Event context contains the DOM node of the popup\n *  - `feelPopup.close` - fired before the popup is unmounted. Event context contains the DOM node of the popup\n *  - `feelPopup.closed` - fired after the popup is unmounted\n */\nexport default function FEELPopupRoot(props) {\n  const {\n    element,\n    eventBus = { fire() {}, on() {}, off() {} },\n    popupContainer\n  } = props;\n\n  const prevElement = usePrevious(element);\n\n  const [ popupConfig, setPopupConfig ] = useState({});\n  const [ open, setOpen ] = useState(false);\n  const [ source, setSource ] = useState(null);\n  const [ sourceElement, setSourceElement ] = useState(null);\n\n  const emit = (type, context) => {\n    eventBus.fire('feelPopup.' + type, context);\n  };\n\n  const isOpen = useCallback(() => {\n    return !!open;\n  }, [ open ]);\n\n  useUpdateEffect(() => {\n    if (!open) {\n      emit('closed');\n    }\n  }, [ open ]);\n\n  const handleOpen = (entryId, config, _sourceElement) => {\n    setSource(entryId);\n    setPopupConfig(config);\n    setOpen(true);\n    setSourceElement(_sourceElement);\n    emit('open');\n  };\n\n  const handleClose = (event = { }) => {\n    const { id } = event;\n    if (id && id !== source) {\n      return;\n    }\n\n    setOpen(false);\n    setSource(null);\n  };\n\n  const feelPopupContext = {\n    open: handleOpen,\n    close: handleClose,\n    source\n  };\n\n  // close popup on element change, cf. https://github.com/bpmn-io/properties-panel/issues/270\n  useEffect(() => {\n    if (element && prevElement && element !== prevElement) {\n      handleClose();\n    }\n  }, [ element ]);\n\n  // allow close and open via events\n  useEffect(() => {\n\n    const handlePopupOpen = (context) => {\n      const {\n        entryId,\n        popupConfig,\n        sourceElement\n      } = context;\n\n      handleOpen(entryId, popupConfig, sourceElement);\n    };\n\n    const handleIsOpen = () => {\n      return isOpen();\n    };\n\n    eventBus.on('feelPopup._close', handleClose);\n    eventBus.on('feelPopup._open', handlePopupOpen);\n    eventBus.on('feelPopup._isOpen', handleIsOpen);\n\n    return () => {\n      eventBus.off('feelPopup._close', handleClose);\n      eventBus.off('feelPopup._open', handleOpen);\n      eventBus.off('feelPopup._isOpen', handleIsOpen);\n    };\n\n  }, [ eventBus, isOpen ]);\n\n  return (\n    <FeelPopupContext.Provider value={ feelPopupContext }>\n      { open && (\n        <FeelPopupComponent\n          onClose={ handleClose }\n          container={ popupContainer }\n          sourceElement={ sourceElement }\n          emit={ emit }\n          { ...popupConfig } />\n      )}\n      { props.children }\n    </FeelPopupContext.Provider>\n  );\n}\n\nfunction FeelPopupComponent(props) {\n  const {\n    container,\n    id,\n    hostLanguage,\n    onInput,\n    onClose,\n    position,\n    singleLine,\n    sourceElement,\n    title,\n    tooltipContainer,\n    type,\n    value,\n    variables,\n    emit\n  } = props;\n\n  const editorRef = useRef();\n  const popupRef = useRef();\n\n  const isAutoCompletionOpen = useRef(false);\n\n  const handleSetReturnFocus = () => {\n    sourceElement && sourceElement.focus();\n  };\n\n  const onKeyDownCapture = (event) => {\n\n    // we use capture here to make sure we handle the event before the editor does\n    if (event.key === 'Escape') {\n      isAutoCompletionOpen.current = autoCompletionOpen(event.target);\n    }\n  };\n\n  const onKeyDown = (event) => {\n\n    if (event.key === 'Escape') {\n\n      // close popup only if auto completion is not open\n      // we need to do check this because the editor is not\n      // stop propagating the keydown event\n      // cf. https://discuss.codemirror.net/t/how-can-i-replace-the-default-autocompletion-keymap-v6/3322/5\n      if (!isAutoCompletionOpen.current) {\n        onClose();\n        isAutoCompletionOpen.current = false;\n      }\n    }\n  };\n\n  useEffect(() => {\n    emit('opened', { domNode: popupRef.current });\n    return () => emit('close', { domNode: popupRef.current });\n  }, []);\n\n  useEffect(() => {\n\n    // Set focus on editor when popup is opened\n    if (editorRef.current) {\n      editorRef.current.focus();\n    }\n  }, [ editorRef ]);\n\n  return (\n    <Popup\n      container={ container }\n      className=\"bio-properties-panel-feel-popup\"\n      emit={ emit }\n      position={ position }\n      title={ title }\n      onClose={ onClose }\n\n      // handle focus manually on deactivate\n      returnFocus={ false }\n      closeOnEscape={ false }\n      delayInitialFocus={ false }\n      onPostDeactivate={ handleSetReturnFocus }\n      height={ FEEL_POPUP_HEIGHT }\n      width={ FEEL_POPUP_WIDTH }\n      ref={ popupRef }\n    >\n      <Popup.Title\n        title={ title }\n        emit={ emit }\n        draggable>\n        {type === 'feel' && (\n          <a href=\"https://docs.camunda.io/docs/components/modeler/feel/what-is-feel/\" target=\"_blank\" class=\"bio-properties-panel-feel-popup__title-link\">\n            Learn FEEL expressions\n            <HelpIcon />\n          </a>\n        )\n        }\n        {type === 'feelers' && (\n          <a href=\"https://docs.camunda.io/docs/components/modeler/forms/configuration/forms-config-templating-syntax/\" target=\"_blank\" class=\"bio-properties-panel-feel-popup__title-link\">\n            Learn templating\n            <HelpIcon />\n          </a>\n        )\n        }\n      </Popup.Title>\n      <Popup.Body>\n        <div\n          onKeyDownCapture={ onKeyDownCapture }\n          onKeyDown={ onKeyDown }\n          class=\"bio-properties-panel-feel-popup__body\">\n\n          {\n            type === 'feel' && (\n              <CodeEditor\n                enableGutters={ true }\n                id={ prefixId(id) }\n                name={ id }\n                onInput={ onInput }\n                value={ value }\n                variables={ variables }\n                ref={ editorRef }\n                tooltipContainer={ tooltipContainer }\n              />\n            )\n          }\n\n          {\n            type === 'feelers' && (\n              <TemplatingEditor\n                id={ prefixId(id) }\n                contentAttributes={ { 'aria-label': title } }\n                enableGutters={ true }\n                hostLanguage={ hostLanguage }\n                name={ id }\n                onInput={ onInput }\n                value={ value }\n                ref={ editorRef }\n                singleLine={ singleLine }\n                tooltipContainer={ tooltipContainer }\n              />\n            )\n          }\n        </div>\n      </Popup.Body>\n      <Popup.Footer>\n        <button\n          type=\"button\"\n          onClick={ () => onClose() }\n          title=\"Close pop-up editor\"\n          class=\"bio-properties-panel-feel-popup__close-btn\">Close</button>\n      </Popup.Footer>\n    </Popup>\n  );\n}\n\n// helpers /////////////////\n\nfunction prefixId(id) {\n  return `bio-properties-panel-${id}`;\n}\n\nfunction autoCompletionOpen(element) {\n  return element.closest('.cm-editor').querySelector('.cm-tooltip-autocomplete');\n}\n\n/**\n * This hook behaves like useEffect, but does not trigger on the first render.\n *\n * @param {Function} effect\n * @param {Array} deps\n */\nfunction useUpdateEffect(effect, deps) {\n  const isMounted = useRef(false);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      return effect();\n    } else {\n      isMounted.current = true;\n    }\n  }, deps);\n}","import Description from './Description';\n\nimport {\n  useEffect,\n  useState\n} from 'preact/hooks';\n\nimport classNames from 'classnames';\nimport Tooltip from './Tooltip';\n\nexport function ToggleSwitch(props) {\n  const {\n    id,\n    label,\n    onInput,\n    value,\n    switcherLabel,\n    inline,\n    onFocus,\n    onBlur,\n    inputRef,\n    tooltip\n  } = props;\n\n  const [ localValue, setLocalValue ] = useState(value);\n\n  const handleInputCallback = async () => {\n    onInput(!value);\n  };\n\n  const handleInput = e => {\n    handleInputCallback(e);\n    setLocalValue(e.target.value);\n  };\n\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n\n    setLocalValue(value);\n  }, [ value ]);\n\n  return (\n    <div class={ classNames(\n      'bio-properties-panel-toggle-switch',\n      { inline }\n    ) }>\n      <label class=\"bio-properties-panel-label\"\n        for={ prefixId(id) }>\n        <Tooltip value={ tooltip } forId={ id } element={ props.element }>\n          { label }\n        </Tooltip>\n      </label>\n      <div class=\"bio-properties-panel-field-wrapper\">\n        <label class=\"bio-properties-panel-toggle-switch__switcher\">\n          <input\n            ref={ inputRef }\n            id={ prefixId(id) }\n            class=\"bio-properties-panel-input\"\n            type=\"checkbox\"\n            onFocus={ onFocus }\n            onBlur={ onBlur }\n            name={ id }\n            onInput={ handleInput }\n            checked={ !!localValue } />\n          <span class=\"bio-properties-panel-toggle-switch__slider\" />\n        </label>\n        { switcherLabel && <p class=\"bio-properties-panel-toggle-switch__label\">{ switcherLabel }</p> }\n      </div>\n    </div>\n  );\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {String} props.label\n * @param {String} props.switcherLabel\n * @param {Boolean} props.inline\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {string|import('preact').Component} props.tooltip\n */\nexport default function ToggleSwitchEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    label,\n    switcherLabel,\n    inline,\n    getValue,\n    setValue,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n\n  const value = getValue(element);\n  return (\n    <div class=\"bio-properties-panel-entry bio-properties-panel-toggle-switch-entry\" data-entry-id={ id }>\n      <ToggleSwitch\n        id={ id }\n        label={ label }\n        value={ value }\n        onInput={ setValue }\n        onFocus={ onFocus }\n        onBlur={ onBlur }\n        switcherLabel={ switcherLabel }\n        inline={ inline }\n        tooltip={ tooltip }\n        element={ element } />\n      <Description forId={ id } element={ element } value={ description } />\n    </div>\n  );\n}\n\nexport function isEdited(node) {\n  return node && !!node.checked;\n}\n\n\n// helpers /////////////////\n\nfunction prefixId(id) {\n  return `bio-properties-panel-${ id }`;\n}\n","import Description from './Description';\n\nimport {\n  useEffect,\n  useMemo,\n  useState\n} from 'preact/hooks';\n\nimport classnames from 'classnames';\n\nimport { isFunction } from 'min-dash';\n\nimport {\n  useError\n} from '../../hooks';\n\nexport function NumberField(props) {\n\n  const {\n    debounce,\n    disabled,\n    displayLabel = true,\n    id,\n    inputRef,\n    label,\n    max,\n    min,\n    onInput,\n    step,\n    value = '',\n    onFocus,\n    onBlur\n  } = props;\n\n  const [ localValue, setLocalValue ] = useState(value);\n\n  const handleInputCallback = useMemo(() => {\n    return debounce((target) => {\n\n      if (target.validity.valid) {\n        onInput(target.value ? parseFloat(target.value) : undefined);\n      }\n    });\n  }, [ onInput, debounce ]);\n\n  const handleInput = e => {\n    handleInputCallback(e.target);\n    setLocalValue(e.target.value);\n  };\n\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n\n    setLocalValue(value);\n  }, [ value ]);\n\n  return (\n    <div class=\"bio-properties-panel-numberfield\">\n      {displayLabel && <label for={ prefixId(id) } class=\"bio-properties-panel-label\">{ label }</label> }\n      <input\n        id={ prefixId(id) }\n        ref={ inputRef }\n        type=\"number\"\n        name={ id }\n        spellCheck=\"false\"\n        autoComplete=\"off\"\n        disabled={ disabled }\n        class=\"bio-properties-panel-input\"\n        max={ max }\n        min={ min }\n        onInput={ handleInput }\n        onFocus={ onFocus }\n        onBlur={ onBlur }\n        step={ step }\n        value={ localValue } />\n    </div>\n  );\n}\n\n/**\n * @param {Object} props\n * @param {Boolean} props.debounce\n * @param {String} props.description\n * @param {Boolean} props.disabled\n * @param {Object} props.element\n * @param {Function} props.getValue\n * @param {String} props.id\n * @param {String} props.label\n * @param {String} props.max\n * @param {String} props.min\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {String} props.step\n * @param {Function} props.validate\n */\nexport default function NumberFieldEntry(props) {\n  const {\n    debounce,\n    description,\n    disabled,\n    element,\n    getValue,\n    id,\n    label,\n    max,\n    min,\n    setValue,\n    step,\n    onFocus,\n    onBlur,\n    validate\n  } = props;\n\n  const globalError = useError(id);\n  const [ localError, setLocalError ] = useState(null);\n\n  let value = getValue(element);\n\n  useEffect(() => {\n    if (isFunction(validate)) {\n      const newValidationError = validate(value) || null;\n\n      setLocalError(newValidationError);\n    }\n  }, [ value, validate ]);\n\n  const onInput = (newValue) => {\n    let newValidationError = null;\n\n    if (isFunction(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n\n    setValue(newValue, newValidationError);\n    setLocalError(newValidationError);\n  };\n\n  const error = globalError || localError;\n\n  return (\n    <div class={ classnames(\n      'bio-properties-panel-entry',\n      error ? 'has-error' : '') } data-entry-id={ id }>\n      <NumberField\n        debounce={ debounce }\n        disabled={ disabled }\n        id={ id }\n        key={ element }\n        label={ label }\n        onFocus={ onFocus }\n        onBlur={ onBlur }\n        onInput={ onInput }\n        max={ max }\n        min={ min }\n        step={ step }\n        value={ value } />\n      { error && <div class=\"bio-properties-panel-error\">{ error }</div> }\n      <Description forId={ id } element={ element } value={ description } />\n    </div>\n  );\n}\n\nexport function isEdited(node) {\n  return node && !!node.value;\n}\n\n\n// helpers /////////////////\n\nfunction prefixId(id) {\n  return `bio-properties-panel-${ id }`;\n}\n","import Description from '../Description';\nimport TemplatingEditor from '../templating/TemplatingEditor';\n\nimport {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState\n} from 'preact/hooks';\n\nimport { forwardRef } from 'preact/compat';\n\nimport classnames from 'classnames';\n\nimport { isFunction, isString } from 'min-dash';\n\nimport {\n  useShowEntryEvent,\n  useError,\n  useStaticCallback\n} from '../../../hooks';\n\nimport CodeEditor from './FeelEditor';\nimport { FeelIndicator } from './FeelIndicator';\nimport FeelIcon from './FeelIcon';\n\nimport { FEEL_POPUP_WIDTH } from './FeelPopup';\n\nimport { FeelPopupContext } from './context';\n\nimport { ToggleSwitch } from '../ToggleSwitch';\n\nimport { NumberField } from '../NumberField';\nimport Tooltip from '../Tooltip';\n\nconst noop = () => { };\n\nfunction FeelTextfieldComponent(props) {\n  const {\n    debounce,\n    id,\n    element,\n    label,\n    hostLanguage,\n    onInput,\n    onError,\n    feel,\n    value = '',\n    disabled = false,\n    variables,\n    singleLine,\n    tooltipContainer,\n    OptionalComponent = OptionalFeelInput,\n    tooltip\n  } = props;\n\n  const [ localValue, _setLocalValue ] = useState(value);\n\n  const editorRef = useShowEntryEvent(id);\n  const containerRef = useRef();\n\n  const feelActive = (isString(localValue) && localValue.startsWith('=')) || feel === 'required';\n  const feelOnlyValue = (isString(localValue) && localValue.startsWith('=')) ? localValue.substring(1) : localValue;\n\n  const [ focus, _setFocus ] = useState(undefined);\n\n  const {\n    open: openPopup,\n    source: popupSource\n  } = useContext(FeelPopupContext);\n\n  const popuOpen = popupSource === id;\n\n  const setFocus = (offset = 0) => {\n    const hasFocus = containerRef.current.contains(document.activeElement);\n\n    // Keep caret position if it is already focused, otherwise focus at the end\n    const position = hasFocus ? document.activeElement.selectionStart : Infinity;\n\n    _setFocus(position + offset);\n  };\n\n  const handleInputCallback = useMemo(() => {\n    return debounce((newValue) => {\n      onInput(newValue);\n    });\n  }, [ onInput, debounce ]);\n\n  const setLocalValue = newValue => {\n    _setLocalValue(newValue);\n\n    if (typeof newValue === 'undefined' || newValue === '' || newValue === '=') {\n      handleInputCallback(undefined);\n    } else {\n      handleInputCallback(newValue);\n    }\n\n  };\n\n  const handleFeelToggle = useStaticCallback(() => {\n    if (feel === 'required') {\n      return;\n    }\n\n    if (!feelActive) {\n      setLocalValue('=' + localValue);\n    } else {\n      setLocalValue(feelOnlyValue);\n    }\n  });\n\n  const handleLocalInput = (newValue) => {\n    if (feelActive) {\n      newValue = '=' + newValue;\n    }\n\n    if (newValue === localValue) {\n      return;\n    }\n\n    setLocalValue(newValue);\n\n    if (!feelActive && isString(newValue) && newValue.startsWith('=')) {\n\n      // focus is behind `=` sign that will be removed\n      setFocus(-1);\n    }\n  };\n\n  const handleLint = useStaticCallback(lint => {\n\n    if (!(lint && lint.length)) {\n      onError(undefined);\n      return;\n    }\n\n    onError('Unparsable FEEL expression.');\n  });\n\n  const handlePopupOpen = (type = 'feel') => {\n    const popupOptions = {\n      id,\n      hostLanguage,\n      onInput: handleLocalInput,\n      position: calculatePopupPosition(containerRef.current),\n      singleLine,\n      title: getPopupTitle(element, label),\n      tooltipContainer,\n      type,\n      value: feelOnlyValue,\n      variables\n    };\n\n    openPopup(id, popupOptions, editorRef.current);\n  };\n\n  useEffect(() => {\n    if (typeof focus !== 'undefined') {\n      editorRef.current.focus(focus);\n      _setFocus(undefined);\n    }\n  }, [ focus ]);\n\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n\n    // External value change removed content => keep FEEL configuration\n    if (!value) {\n      setLocalValue(feelActive ? '=' : '');\n      return;\n    }\n\n    setLocalValue(value);\n  }, [ value ]);\n\n\n  // copy-paste integration\n  useEffect(() => {\n    const copyHandler = event => {\n      if (!feelActive) {\n        return;\n      }\n      event.clipboardData.setData('application/FEEL', event.clipboardData.getData('text'));\n    };\n\n    const pasteHandler = event => {\n      if (feelActive || popuOpen) {\n        return;\n      }\n\n      const data = event.clipboardData.getData('application/FEEL');\n\n      if (data) {\n        setTimeout(() => {\n          handleFeelToggle();\n          setFocus();\n        });\n      }\n    };\n    containerRef.current.addEventListener('copy', copyHandler);\n    containerRef.current.addEventListener('cut', copyHandler);\n    containerRef.current.addEventListener('paste', pasteHandler);\n\n    return () => {\n      containerRef.current.removeEventListener('copy', copyHandler);\n      containerRef.current.removeEventListener('cut', copyHandler);\n      containerRef.current.removeEventListener('paste', pasteHandler);\n    };\n  }, [ containerRef, feelActive, handleFeelToggle, setFocus ]);\n\n  return (\n    <div class={ classnames(\n      'bio-properties-panel-feel-entry',\n      { 'feel-active': feelActive }\n    ) }>\n      <label for={ prefixId(id) } class=\"bio-properties-panel-label\" onClick={ () => setFocus() }>\n        <Tooltip value={ tooltip } forId={ id } element={ props.element }>\n          {label}\n        </Tooltip>\n        <FeelIcon\n          label={ label }\n          feel={ feel }\n          onClick={ handleFeelToggle }\n          active={ feelActive }></FeelIcon>\n      </label>\n\n      <div class=\"bio-properties-panel-feel-container\" ref={ containerRef }>\n        <FeelIndicator\n          active={ feelActive }\n          disabled={ feel !== 'optional' || disabled }\n          onClick={ handleFeelToggle }\n        />\n        {feelActive ?\n          <CodeEditor\n            name={ id }\n            onInput={ handleLocalInput }\n            contentAttributes={ { 'id': prefixId(id), 'aria-label': label } }\n            disabled={ disabled }\n            popupOpen={ popuOpen }\n            onFeelToggle={ () => { handleFeelToggle(); setFocus(true); } }\n            onLint={ handleLint }\n            onPopupOpen={ handlePopupOpen }\n            value={ feelOnlyValue }\n            variables={ variables }\n            ref={ editorRef }\n            tooltipContainer={ tooltipContainer }\n          /> :\n          <OptionalComponent\n            { ...props }\n            popupOpen={ popuOpen }\n            onInput={ handleLocalInput }\n            contentAttributes={ { 'id': prefixId(id), 'aria-label': label } }\n            value={ localValue }\n            ref={ editorRef }\n            onPopupOpen={ handlePopupOpen }\n            containerRef={ containerRef }\n          />\n        }\n      </div>\n    </div>\n  );\n}\n\nconst FeelTextfield = withAutoClosePopup(FeelTextfieldComponent);\n\nconst OptionalFeelInput = forwardRef((props, ref) => {\n  const {\n    id,\n    disabled,\n    onInput,\n    value,\n    onFocus,\n    onBlur\n  } = props;\n\n  const inputRef = useRef();\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: (position) => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n\n      input.focus();\n      if (typeof position === 'number') {\n        if (position > value.length) {\n          position = value.length;\n        }\n        input.setSelectionRange(position, position);\n      }\n\n    }\n  };\n\n  return <input\n    id={ prefixId(id) }\n    type=\"text\"\n    ref={ inputRef }\n    name={ id }\n    spellCheck=\"false\"\n    autoComplete=\"off\"\n    disabled={ disabled }\n    class=\"bio-properties-panel-input\"\n    onInput={ e => onInput(e.target.value) }\n    onFocus={ onFocus }\n    onBlur={ onBlur }\n    value={ value || '' } />;\n});\n\n\nconst OptionalFeelNumberField = forwardRef((props, ref) => {\n  const {\n    id,\n    debounce,\n    disabled,\n    onInput,\n    value,\n    min,\n    max,\n    step,\n    onFocus,\n    onBlur\n  } = props;\n\n  const inputRef = useRef();\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: (position) => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n\n      input.focus();\n      if (typeof position === 'number' && position !== Infinity) {\n        if (position > value.length) {\n          position = value.length;\n        }\n        input.setSelectionRange(position, position);\n      }\n\n    }\n  };\n\n  return <NumberField\n    id={ id }\n    debounce={ debounce }\n    disabled={ disabled }\n    displayLabel={ false }\n    inputRef={ inputRef }\n    max={ max }\n    min={ min }\n    onInput={ onInput }\n    step={ step }\n    value={ value }\n    onFocus={ onFocus }\n    onBlur={ onBlur }\n  />;\n});\n\n\nconst OptionalFeelTextArea = forwardRef((props, ref) => {\n  const {\n    id,\n    disabled,\n    onInput,\n    value,\n    onFocus,\n    onBlur\n  } = props;\n\n  const inputRef = useRef();\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: () => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n\n      input.focus();\n      input.setSelectionRange(0, 0);\n    }\n  };\n\n  return <textarea\n    id={ prefixId(id) }\n    type=\"text\"\n    ref={ inputRef }\n    name={ id }\n    spellCheck=\"false\"\n    autoComplete=\"off\"\n    disabled={ disabled }\n    class=\"bio-properties-panel-input\"\n    onInput={ e => onInput(e.target.value) }\n    onFocus={ onFocus }\n    onBlur={ onBlur }\n    value={ value || '' }\n    data-gramm=\"false\"\n  />;\n});\n\nconst OptionalFeelToggleSwitch = forwardRef((props, ref) => {\n  const {\n    id,\n    onInput,\n    value,\n    onFocus,\n    onBlur,\n    switcherLabel\n  } = props;\n\n  const inputRef = useRef();\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: () => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n\n      input.focus();\n    }\n  };\n\n  return <ToggleSwitch\n    id={ id }\n    value={ value }\n    inputRef={ inputRef }\n    onInput={ onInput }\n    onFocus={ onFocus }\n    onBlur={ onBlur }\n    switcherLabel={ switcherLabel } />;\n});\n\n\nconst OptionalFeelCheckbox = forwardRef((props, ref) => {\n  const {\n    id,\n    disabled,\n    onInput,\n    value,\n    onFocus,\n    onBlur\n  } = props;\n\n  const inputRef = useRef();\n\n  const handleChange = ({ target }) => {\n    onInput(target.checked);\n  };\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: () => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n\n      input.focus();\n    }\n  };\n\n  return <input\n    ref={ inputRef }\n    id={ prefixId(id) }\n    name={ id }\n    onFocus={ onFocus }\n    onBlur={ onBlur }\n    type=\"checkbox\"\n    class=\"bio-properties-panel-input\"\n    onChange={ handleChange }\n    checked={ value }\n    disabled={ disabled } />;\n});\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {Boolean} props.feel\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Function} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {string|import('preact').Component} props.tooltip\n */\nexport default function FeelEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    debounce,\n    disabled,\n    feel,\n    label,\n    getValue,\n    setValue,\n    tooltipContainer,\n    hostLanguage,\n    singleLine,\n    validate,\n    show = noop,\n    example,\n    variables,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n\n  const [ validationError, setValidationError ] = useState(null);\n  const [ localError, setLocalError ] = useState(null);\n\n  let value = getValue(element);\n\n  useEffect(() => {\n    if (isFunction(validate)) {\n      const newValidationError = validate(value) || null;\n\n      setValidationError(newValidationError);\n    }\n  }, [ value, validate ]);\n\n  const onInput = useStaticCallback((newValue) => {\n    let newValidationError = null;\n\n    if (isFunction(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n\n    // don't create multiple commandStack entries for the same value\n    if (newValue !== value) {\n      setValue(newValue, newValidationError);\n    }\n\n    setValidationError(newValidationError);\n  });\n\n  const onError = useCallback(err => {\n    setLocalError(err);\n  }, []);\n\n  const temporaryError = useError(id);\n\n  const error = temporaryError || localError || validationError;\n\n  return (\n    <div\n      class={ classnames(\n        props.class,\n        'bio-properties-panel-entry',\n        error ? 'has-error' : '')\n      }\n      data-entry-id={ id }>\n      <FeelTextfield\n        { ...props }\n        debounce={ debounce }\n        disabled={ disabled }\n        feel={ feel }\n        id={ id }\n        key={ element }\n        label={ label }\n        onInput={ onInput }\n        onError={ onError }\n        onFocus={ onFocus }\n        onBlur={ onBlur }\n        example={ example }\n        hostLanguage={ hostLanguage }\n        singleLine={ singleLine }\n        show={ show }\n        value={ value }\n        variables={ variables }\n        tooltipContainer={ tooltipContainer }\n        OptionalComponent={ props.OptionalComponent }\n        tooltip={ tooltip } />\n      {error && <div class=\"bio-properties-panel-error\">{error}</div>}\n      <Description forId={ id } element={ element } value={ description } />\n    </div>\n  );\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {String} props.max\n * @param {String} props.min\n * @param {String} props.step\n * @param {Boolean} props.feel\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Function} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n */\nexport function FeelNumberEntry(props) {\n  return <FeelEntry class=\"bio-properties-panel-feel-number\" OptionalComponent={ OptionalFeelNumberField } { ...props } />;\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {Boolean} props.feel\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Function} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n */\nexport function FeelTextAreaEntry(props) {\n  return <FeelEntry class=\"bio-properties-panel-feel-textarea\" OptionalComponent={ OptionalFeelTextArea } { ...props } />;\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {Boolean} props.feel\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Function} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n */\nexport function FeelToggleSwitchEntry(props) {\n  return <FeelEntry class=\"bio-properties-panel-feel-toggle-switch\" OptionalComponent={ OptionalFeelToggleSwitch } { ...props } />;\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {Boolean} props.feel\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Function} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n */\nexport function FeelCheckboxEntry(props) {\n  return <FeelEntry class=\"bio-properties-panel-feel-checkbox\" OptionalComponent={ OptionalFeelCheckbox } { ...props } />;\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {String} props.hostLanguage\n * @param {Boolean} props.singleLine\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {Boolean} props.feel\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Function} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n */\nexport function FeelTemplatingEntry(props) {\n  return <FeelEntry class=\"bio-properties-panel-feel-templating\" OptionalComponent={ TemplatingEditor } { ...props } />;\n}\n\nexport function isEdited(node) {\n  if (!node) {\n    return false;\n  }\n\n  if (node.type === 'checkbox') {\n    return !!node.checked || node.classList.contains('edited');\n  }\n\n  return !!node.value || node.classList.contains('edited');\n}\n\n\n// helpers /////////////////\n\nfunction prefixId(id) {\n  return `bio-properties-panel-${id}`;\n}\n\nfunction calculatePopupPosition(element) {\n  const { top, left } = element.getBoundingClientRect();\n\n  return {\n    left: left - FEEL_POPUP_WIDTH - 20,\n    top: top\n  };\n}\n\n// todo(pinussilvestrus): make this configurable in the future\nfunction getPopupTitle(element, label) {\n  let popupTitle = '';\n\n  if (element && element.type) {\n    popupTitle = `${element.type} / `;\n  }\n\n  return `${popupTitle}${label}`;\n}\n\n\nfunction withAutoClosePopup(Component) {\n  return function(props) {\n    const { id } = props;\n    const {\n      close\n    } = useContext(FeelPopupContext);\n\n    const closePopup = useStaticCallback(close);\n\n    useEffect(() => {\n      return () => {\n        closePopup({ id });\n      };\n    }, [ ]);\n\n    return <Component { ...props } />;\n  };\n}\n\n","import {\n  useState,\n  useEffect,\n  useMemo,\n  useRef,\n  useLayoutEffect\n} from 'preact/hooks';\n\nimport {\n  assign,\n  get,\n  isArray,\n  set\n} from 'min-dash';\n\nimport Header from './components/Header';\n\nimport Group from './components/Group';\n\nimport Placeholder from './components/Placeholder';\n\nimport {\n  DescriptionContext,\n  ErrorsContext,\n  EventContext,\n  LayoutContext,\n  PropertiesPanelContext,\n  TooltipContext\n} from './context';\n\nimport { FeelPopupRoot } from './components/entries/FEEL';\n\nimport { useEvent } from './hooks';\n\nconst DEFAULT_LAYOUT = {};\n\nconst DEFAULT_DESCRIPTION = {};\n\nconst DEFAULT_TOOLTIP = {};\n\n\n/**\n * @typedef { {\n *    component: import('preact').Component,\n *    id: String,\n *    isEdited?: Function\n * } } EntryDefinition\n *\n * @typedef { {\n *    autoFocusEntry: String,\n *    autoOpen?: Boolean,\n *    entries: Array<EntryDefinition>,\n *    id: String,\n *    label: String,\n *    remove: (event: MouseEvent) => void\n * } } ListItemDefinition\n *\n * @typedef { {\n *    add: (event: MouseEvent) => void,\n *    component: import('preact').Component,\n *    element: Object,\n *    id: String,\n *    items: Array<ListItemDefinition>,\n *    label: String,\n *    shouldSort?: Boolean,\n *    shouldOpen?: Boolean\n * } } ListGroupDefinition\n *\n * @typedef { {\n *    component?: import('preact').Component,\n *    entries: Array<EntryDefinition>,\n *    id: String,\n *    label: String,\n *    shouldOpen?: Boolean\n * } } GroupDefinition\n *\n *  @typedef { {\n *    [id: String]: GetDescriptionFunction\n * } } DescriptionConfig\n *\n *  @typedef { {\n *    [id: String]: GetTooltipFunction\n * } } TooltipConfig\n *\n * @callback { {\n * @param {string} id\n * @param {Object} element\n * @returns {string}\n * } } GetDescriptionFunction\n *\n * @callback { {\n * @param {string} id\n * @param {Object} element\n * @returns {string}\n * } } GetTooltipFunction\n *\n * @typedef { {\n *  getEmpty: (element: object) => import('./components/Placeholder').PlaceholderDefinition,\n *  getMultiple: (element: Object) => import('./components/Placeholder').PlaceholderDefinition\n * } } PlaceholderProvider\n *\n */\n\n\n/**\n * A basic properties panel component. Describes *how* content will be rendered, accepts\n * data from implementor to describe *what* will be rendered.\n *\n * @param {Object} props\n * @param {Object|Array} props.element\n * @param {import('./components/Header').HeaderProvider} props.headerProvider\n * @param {PlaceholderProvider} [props.placeholderProvider]\n * @param {Array<GroupDefinition|ListGroupDefinition>} props.groups\n * @param {Object} [props.layoutConfig]\n * @param {Function} [props.layoutChanged]\n * @param {DescriptionConfig} [props.descriptionConfig]\n * @param {Function} [props.descriptionLoaded]\n * @param {TooltipConfig} [props.tooltipConfig]\n * @param {Function} [props.tooltipLoaded]\n * @param {HTMLElement} [props.feelPopupContainer]\n * @param {Object} [props.eventBus]\n */\nexport default function PropertiesPanel(props) {\n  const {\n    element,\n    headerProvider,\n    placeholderProvider,\n    groups,\n    layoutConfig,\n    layoutChanged,\n    descriptionConfig,\n    descriptionLoaded,\n    tooltipConfig,\n    tooltipLoaded,\n    feelPopupContainer,\n    eventBus\n  } = props;\n\n  // set-up layout context\n  const [ layout, setLayout ] = useState(createLayout(layoutConfig));\n\n  // react to external changes in the layout config\n  useUpdateLayoutEffect(() => {\n    const newLayout = createLayout(layoutConfig);\n\n    setLayout(newLayout);\n  }, [ layoutConfig ]);\n\n  useEffect(() => {\n    if (typeof layoutChanged === 'function') {\n      layoutChanged(layout);\n    }\n  }, [ layout, layoutChanged ]);\n\n  const getLayoutForKey = (key, defaultValue) => {\n    return get(layout, key, defaultValue);\n  };\n\n  const setLayoutForKey = (key, config) => {\n    const newLayout = assign({}, layout);\n    set(newLayout, key, config);\n    setLayout(newLayout);\n  };\n\n  const layoutContext = {\n    layout,\n    setLayout,\n    getLayoutForKey,\n    setLayoutForKey\n  };\n\n  // set-up description context\n  const description = useMemo(() => createDescriptionContext(descriptionConfig), [ descriptionConfig ]);\n\n  useEffect(() => {\n    if (typeof descriptionLoaded === 'function') {\n      descriptionLoaded(description);\n    }\n  }, [ description, descriptionLoaded ]);\n\n\n  const getDescriptionForId = (id, element) => {\n    return description[id] && description[id](element);\n  };\n\n  const descriptionContext = {\n    description,\n    getDescriptionForId\n  };\n\n  // set-up tooltip context\n  const tooltip = useMemo(() => createTooltipContext(tooltipConfig), [ tooltipConfig ]);\n\n  useEffect(() => {\n    if (typeof tooltipLoaded === 'function') {\n      tooltipLoaded(tooltip);\n    }\n  }, [ tooltip, tooltipLoaded ]);\n\n  const getTooltipForId = (id, element) => {\n    return tooltip[id] && tooltip[id](element);\n  };\n\n  const tooltipContext = {\n    tooltip,\n    getTooltipForId\n  };\n\n  const [ errors, setErrors ] = useState({});\n\n  const onSetErrors = ({ errors }) => setErrors(errors);\n\n  useEvent('propertiesPanel.setErrors', onSetErrors, eventBus);\n\n  const errorsContext = {\n    errors\n  };\n\n  const eventContext = {\n    eventBus\n  };\n\n  const propertiesPanelContext = {\n    element\n  };\n\n  // empty state\n  if (placeholderProvider && !element) {\n    return <Placeholder { ...placeholderProvider.getEmpty() } />;\n  }\n\n  // multiple state\n  if (placeholderProvider && isArray(element)) {\n    return <Placeholder { ...placeholderProvider.getMultiple() } />;\n  }\n\n  return (\n    <PropertiesPanelContext.Provider value={ propertiesPanelContext }>\n      <ErrorsContext.Provider value={ errorsContext }>\n        <DescriptionContext.Provider value={ descriptionContext }>\n          <TooltipContext.Provider value={ tooltipContext }>\n            <LayoutContext.Provider value={ layoutContext }>\n              <EventContext.Provider value={ eventContext }>\n                <FeelPopupRoot\n                  element={ element }\n                  eventBus={ eventBus }\n                  popupContainer={ feelPopupContainer }>\n                  <div class=\"bio-properties-panel\">\n                    <Header\n                      element={ element }\n                      headerProvider={ headerProvider } />\n                    <div class=\"bio-properties-panel-scroll-container\">\n                      {\n                        groups.map(group => {\n                          const {\n                            component: Component = Group,\n                            id\n                          } = group;\n\n                          return (\n                            <Component\n                              { ...group }\n                              key={ id }\n                              element={ element } />\n                          );\n                        })\n                      }\n                    </div>\n                  </div>\n                </FeelPopupRoot>\n              </EventContext.Provider>\n            </LayoutContext.Provider>\n          </TooltipContext.Provider>\n        </DescriptionContext.Provider>\n      </ErrorsContext.Provider>\n    </PropertiesPanelContext.Provider>\n  );\n}\n\n\n// helpers //////////////////\n\nfunction createLayout(overrides = {}, defaults = DEFAULT_LAYOUT) {\n  return {\n    ...defaults,\n    ...overrides\n  };\n}\n\nfunction createDescriptionContext(overrides = {}) {\n  return {\n    ...DEFAULT_DESCRIPTION,\n    ...overrides\n  };\n}\n\nfunction createTooltipContext(overrides = {}) {\n  return {\n    ...DEFAULT_TOOLTIP,\n    ...overrides\n  };\n}\n\n// hooks //////////////////\n\n/**\n * This hook behaves like useLayoutEffect, but does not trigger on the first render.\n *\n * @param {Function} effect\n * @param {Array} deps\n */\nfunction useUpdateLayoutEffect(effect, deps) {\n  const isMounted = useRef(false);\n\n  useLayoutEffect(() => {\n    if (isMounted.current) {\n      return effect();\n    } else {\n      isMounted.current = true;\n    }\n  }, deps);\n}","import {\n  useEffect,\n  useRef,\n  useState\n} from 'preact/hooks';\n\nimport classnames from 'classnames';\n\n/**\n *\n * @param {object} props\n * @param {string} [props.class]\n * @param {import('preact').Component[]} [props.menuItems]\n * @returns\n */\nexport function DropdownButton(props) {\n  const {\n    class: className,\n    children,\n    menuItems = []\n  } = props;\n\n  const dropdownRef = useRef(null);\n  const menuRef = useRef(null);\n\n  const [ open, setOpen ] = useState(false);\n  const close = () => setOpen(false);\n\n  function onDropdownToggle(event) {\n    if (menuRef.current && menuRef.current.contains(event.target)) {\n      return;\n    }\n\n    event.stopPropagation();\n\n    setOpen(open => !open);\n  }\n\n  function onActionClick(event, action) {\n    event.stopPropagation();\n\n    close();\n    action();\n  }\n\n  useGlobalClick([ dropdownRef.current ], () => close());\n\n  return (\n    <div\n      class={ classnames('bio-properties-panel-dropdown-button', { open }, className) }\n      onClick={ onDropdownToggle }\n      ref={ dropdownRef }\n    >\n      { children }\n      <div class=\"bio-properties-panel-dropdown-button__menu\" ref={ menuRef }>\n        { menuItems.map((item, index) => (\n          <MenuItem onClick={ onActionClick } item={ item } key={ index } />\n        )) }\n      </div>\n    </div>\n  );\n}\n\nfunction MenuItem({ item, onClick }) {\n  if (item.separator) {\n    return <div class=\"bio-properties-panel-dropdown-button__menu-item bio-properties-panel-dropdown-button__menu-item--separator\" />;\n  }\n\n  if (item.action) {\n    return (<button\n      type=\"button\"\n      class=\"bio-properties-panel-dropdown-button__menu-item bio-properties-panel-dropdown-button__menu-item--actionable\"\n      onClick={ event => onClick(event, item.action) }\n    >\n      {item.entry}\n    </button>);\n  }\n\n  return <div\n    class=\"bio-properties-panel-dropdown-button__menu-item\"\n  >\n    {item.entry}\n  </div>;\n}\n\n/**\n *\n * @param {Array<null | Element>} ignoredElements\n * @param {Function} callback\n */\nfunction useGlobalClick(ignoredElements, callback) {\n  useEffect(() => {\n\n    /**\n     * @param {MouseEvent} event\n     */\n    function listener(event) {\n      if (ignoredElements.some(element => element && element.contains(event.target))) {\n        return;\n      }\n\n      callback();\n    }\n\n    document.addEventListener('click', listener, { capture: true });\n\n    return () => document.removeEventListener('click', listener, { capture: true });\n  }, [ ...ignoredElements, callback ]);\n}\n","import classnames from 'classnames';\n\nexport function HeaderButton(props) {\n  const {\n    children = null,\n    class: classname,\n    onClick = () => {},\n    ...otherProps\n  } = props;\n\n  return <button\n    type=\"button\"\n    { ...otherProps }\n    onClick={ onClick }\n    class={ classnames('bio-properties-panel-group-header-button', classname) }>\n    { children }\n  </button>;\n}\n","import {\n  useCallback,\n  useContext,\n  useState\n} from 'preact/hooks';\n\nimport classnames from 'classnames';\n\nimport { isFunction } from 'min-dash';\n\nimport {\n  ArrowIcon,\n  DeleteIcon,\n} from '../icons';\n\nimport { PropertiesPanelContext } from '../../context';\n\n\nexport default function CollapsibleEntry(props) {\n  const {\n    element,\n    entries = [],\n    id,\n    label,\n    open: shouldOpen,\n    remove\n  } = props;\n\n  const [ open, setOpen ] = useState(shouldOpen);\n\n  const toggleOpen = () => setOpen(!open);\n\n  const { onShow } = useContext(PropertiesPanelContext);\n\n  const propertiesPanelContext = {\n    ...useContext(PropertiesPanelContext),\n    onShow: useCallback(() => {\n      setOpen(true);\n\n      if (isFunction(onShow)) {\n        onShow();\n      }\n    }, [ onShow, setOpen ])\n  };\n\n  // todo(pinussilvestrus): translate once we have a translate mechanism for the core\n  const placeholderLabel = '<empty>';\n\n  return (\n    <div\n      data-entry-id={ id }\n      class={ classnames(\n        'bio-properties-panel-collapsible-entry',\n        open ? 'open' : ''\n      ) }>\n      <div class=\"bio-properties-panel-collapsible-entry-header\" onClick={ toggleOpen }>\n        <div\n          title={ label || placeholderLabel }\n          class={ classnames(\n            'bio-properties-panel-collapsible-entry-header-title',\n            !label && 'empty'\n          ) }>\n          { label || placeholderLabel }\n        </div>\n        <button\n          type=\"button\"\n          title=\"Toggle list item\"\n          class=\"bio-properties-panel-arrow  bio-properties-panel-collapsible-entry-arrow\"\n        >\n          <ArrowIcon class={ open ? 'bio-properties-panel-arrow-down' : 'bio-properties-panel-arrow-right' } />\n        </button>\n        {\n          remove\n            ?\n            (\n              <button type=\"button\" title=\"Delete item\" class=\"bio-properties-panel-remove-entry\" onClick={ remove }>\n                <DeleteIcon />\n              </button>\n            )\n            : null\n        }\n      </div>\n      <div class={ classnames(\n        'bio-properties-panel-collapsible-entry-entries',\n        open ? 'open' : ''\n      ) }>\n        <PropertiesPanelContext.Provider value={ propertiesPanelContext }>\n          {\n            entries.map(entry => {\n              const {\n                component: Component,\n                id\n              } = entry;\n\n              return (\n                <Component\n                  { ...entry }\n                  element={ element }\n                  key={ id } />\n              );\n            })\n          }\n        </PropertiesPanelContext.Provider>\n      </div>\n    </div>\n  );\n}","import {\n  useEffect\n} from 'preact/hooks';\n\nimport {\n  query as domQuery\n} from 'min-dom';\n\nimport { isFunction } from 'min-dash';\n\nimport CollapsibleEntry from './entries/Collapsible';\n\n/**\n * @param {import('../PropertiesPanel').ListItemDefinition} props\n */\nexport default function ListItem(props) {\n  const {\n    autoFocusEntry,\n    autoOpen\n  } = props;\n\n  // focus specified entry on auto open\n  useEffect(() => {\n    if (autoOpen && autoFocusEntry) {\n      const entry = domQuery(`[data-entry-id=\"${autoFocusEntry}\"]`);\n\n      const focusableInput = domQuery('.bio-properties-panel-input', entry);\n\n      if (focusableInput) {\n\n        if (isFunction(focusableInput.select)) {\n          focusableInput.select();\n        } else if (isFunction(focusableInput.focus)) {\n          focusableInput.focus();\n        }\n\n      }\n    }\n  }, [ autoOpen, autoFocusEntry ]);\n\n\n  return (\n    <div class=\"bio-properties-panel-list-item\">\n      <CollapsibleEntry\n        { ...props }\n        open={ autoOpen } />\n    </div>\n  );\n\n}\n","import {\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState\n} from 'preact/hooks';\n\nimport Tooltip from './entries/Tooltip';\n\nimport classnames from 'classnames';\n\nimport {\n  find,\n  sortBy\n} from 'min-dash';\n\nimport {\n  useErrors,\n  useLayoutState,\n  usePrevious\n} from '../hooks';\n\nimport ListItem from './ListItem';\n\nimport {\n  ArrowIcon,\n  CreateIcon\n} from './icons';\n\nimport { PropertiesPanelContext } from '../context';\n\nimport { useStickyIntersectionObserver } from '../hooks';\n\nconst noop = () => {};\n\n/**\n * @param {import('../PropertiesPanel').ListGroupDefinition} props\n */\nexport default function ListGroup(props) {\n  const {\n    add,\n    element,\n    id,\n    items,\n    label,\n    shouldOpen = true,\n    shouldSort = true\n  } = props;\n\n\n  const groupRef = useRef(null);\n\n  const [ open, setOpen ] = useLayoutState(\n    [ 'groups', id, 'open' ],\n    false\n  );\n\n  const [ sticky, setSticky ] = useState(false);\n\n  const onShow = useCallback(() => setOpen(true), [ setOpen ]);\n\n  const [ ordering, setOrdering ] = useState([]);\n  const [ newItemAdded, setNewItemAdded ] = useState(false);\n\n  // Flag to mark that add button was clicked in the last render cycle\n  const [ addTriggered, setAddTriggered ] = useState(false);\n\n  const prevItems = usePrevious(items);\n  const prevElement = usePrevious(element);\n\n  const elementChanged = element !== prevElement;\n  const shouldHandleEffects = !elementChanged && (shouldSort || shouldOpen);\n\n  // reset initial ordering when element changes (before first render)\n  if (elementChanged) {\n    setOrdering(createOrdering(shouldSort ? sortItems(items) : items));\n  }\n\n  // keep ordering in sync to items - and open changes\n\n  // (0) set initial ordering from given items\n  useEffect(() => {\n    if (!prevItems || !shouldSort) {\n      setOrdering(createOrdering(items));\n    }\n  }, [ items, element ]);\n\n  // (1) items were added\n  useEffect(() => {\n\n    // reset addTriggered flag\n    setAddTriggered(false);\n\n    if (shouldHandleEffects && prevItems && items.length > prevItems.length) {\n\n      let add = [];\n\n      items.forEach(item => {\n        if (!ordering.includes(item.id)) {\n          add.push(item.id);\n        }\n      });\n\n      let newOrdering = ordering;\n\n      // open if not open, configured and triggered by add button\n      //\n      // TODO(marstamm): remove once we refactor layout handling for listGroups.\n      // Ideally, opening should be handled as part of the `add` callback and\n      // not be a concern for the ListGroup component.\n      if (addTriggered && !open && shouldOpen) {\n        toggleOpen();\n      }\n\n      // filter when not open and configured\n      if (!open && shouldSort) {\n        newOrdering = createOrdering(sortItems(items));\n      }\n\n      // add new items on top or bottom depending on sorting behavior\n      newOrdering = newOrdering.filter(item => !add.includes(item));\n      if (shouldSort) {\n        newOrdering.unshift(...add);\n      } else {\n        newOrdering.push(...add);\n      }\n\n      setOrdering(newOrdering);\n      setNewItemAdded(addTriggered);\n    } else {\n      setNewItemAdded(false);\n    }\n  }, [ items, open, shouldHandleEffects, addTriggered ]);\n\n  // (2) sort items on open if shouldSort is set\n  useEffect(() => {\n\n    if (shouldSort && open && !newItemAdded) {\n      setOrdering(createOrdering(sortItems(items)));\n    }\n  }, [ open, shouldSort ]);\n\n  // (3) items were deleted\n  useEffect(() => {\n    if (shouldHandleEffects && prevItems && items.length < prevItems.length) {\n      let keep = [];\n\n      ordering.forEach(o => {\n        if (getItem(items, o)) {\n          keep.push(o);\n        }\n      });\n\n      setOrdering(keep);\n    }\n  }, [ items, shouldHandleEffects ]);\n\n  // set css class when group is sticky to top\n  useStickyIntersectionObserver(groupRef, 'div.bio-properties-panel-scroll-container', setSticky);\n\n  const toggleOpen = () => setOpen(!open);\n\n  const hasItems = !!items.length;\n\n  const propertiesPanelContext = {\n    ...useContext(PropertiesPanelContext),\n    onShow\n  };\n\n  const handleAddClick = e => {\n    setAddTriggered(true);\n    add(e);\n  };\n\n  const allErrors = useErrors();\n  const hasError = items.some(item => {\n    if (allErrors[item.id]) {\n      return true;\n    }\n\n    if (!item.entries) {\n      return;\n    }\n\n    // also check if the error is nested, e.g. for name-value entries\n    return item.entries.some(entry => allErrors[entry.id]);\n  }\n  );\n\n  return <div class=\"bio-properties-panel-group\" data-group-id={ 'group-' + id } ref={ groupRef }>\n    <div\n      class={ classnames(\n        'bio-properties-panel-group-header',\n        hasItems ? '' : 'empty',\n        (hasItems && open) ? 'open' : '',\n        (sticky && open) ? 'sticky' : ''\n      ) }\n      onClick={ hasItems ? toggleOpen : noop }>\n      <div\n        title={ props.tooltip ? null : label }\n        data-title={ label }\n        class=\"bio-properties-panel-group-header-title\"\n      >\n        <Tooltip value={ props.tooltip } forId={ 'group-' + id } element={ element } parent={ groupRef }>\n          { label }\n        </Tooltip>\n      </div>\n      <div class=\"bio-properties-panel-group-header-buttons\">\n        {\n          add\n            ? (\n              <button\n                type=\"button\"\n                title=\"Create new list item\"\n                class=\"bio-properties-panel-group-header-button bio-properties-panel-add-entry\"\n                onClick={ handleAddClick }\n              >\n                <CreateIcon />\n                {\n                  !hasItems ? (\n                    <span class=\"bio-properties-panel-add-entry-label\">Create</span>\n                  )\n                    : null\n                }\n              </button>\n            )\n            : null\n        }\n        {\n          hasItems\n            ? (\n              <div\n                title={ `List contains ${items.length} item${items.length != 1 ? 's' : ''}` }\n                class={\n                  classnames(\n                    'bio-properties-panel-list-badge',\n                    hasError ? 'bio-properties-panel-list-badge--error' : ''\n                  )\n                }\n              >\n                { items.length }\n              </div>\n            )\n            : null\n        }\n        {\n          hasItems\n            ? (\n              <button\n                type=\"button\"\n                title=\"Toggle section\"\n                class=\"bio-properties-panel-group-header-button bio-properties-panel-arrow\"\n              >\n                <ArrowIcon class={ open ? 'bio-properties-panel-arrow-down' : 'bio-properties-panel-arrow-right' } />\n              </button>\n            )\n            : null\n        }\n      </div>\n    </div>\n    <div class={ classnames(\n      'bio-properties-panel-list',\n      open && hasItems ? 'open' : ''\n    ) }>\n      <PropertiesPanelContext.Provider value={ propertiesPanelContext }>\n\n        {\n          ordering.map((o, index) => {\n            const item = getItem(items, o);\n\n            if (!item) {\n              return;\n            }\n\n            const { id } = item;\n\n            // if item was added, open it\n            // Existing items will not be affected as autoOpen is only applied on first render\n            const autoOpen = newItemAdded;\n\n            return (\n              <ListItem\n                { ...item }\n                autoOpen={ autoOpen }\n                element={ element }\n                index={ index }\n                key={ id } />\n            );\n          })\n        }\n      </PropertiesPanelContext.Provider>\n    </div>\n  </div>;\n}\n\n\n// helpers ////////////////////\n\n/**\n * Sorts given items alphanumeric by label\n */\nfunction sortItems(items) {\n  return sortBy(items, i => i.label.toLowerCase());\n}\n\nfunction getItem(items, id) {\n  return find(items, i => i.id === id);\n}\n\nfunction createOrdering(items) {\n  return items.map(i => i.id);\n}\n","import {\n  useError,\n  useShowEntryEvent\n} from '../../hooks';\n\nimport {\n  useEffect,\n  useState\n} from 'preact/hooks';\n\nimport Description from './Description';\nimport Tooltip from './Tooltip';\n\nfunction Checkbox(props) {\n  const {\n    id,\n    label,\n    onChange,\n    disabled,\n    value = false,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n\n  const [ localValue, setLocalValue ] = useState(value);\n\n  const handleChangeCallback = ({ target }) => {\n    onChange(target.checked);\n  };\n\n  const handleChange = e => {\n    handleChangeCallback(e);\n    setLocalValue(e.target.value);\n  };\n\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n\n    setLocalValue(value);\n  }, [ value ]);\n\n  const ref = useShowEntryEvent(id);\n\n  return (\n    <div class=\"bio-properties-panel-checkbox\">\n      <input\n        ref={ ref }\n        id={ prefixId(id) }\n        name={ id }\n        onFocus={ onFocus }\n        onBlur={ onBlur }\n        type=\"checkbox\"\n        class=\"bio-properties-panel-input\"\n        onChange={ handleChange }\n        checked={ localValue }\n        disabled={ disabled } />\n      <label for={ prefixId(id) } class=\"bio-properties-panel-label\">\n        <Tooltip value={ tooltip } forId={ id } element={ props.element }>\n          { label }\n        </Tooltip>\n      </label>\n    </div>\n  );\n}\n\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {string|import('preact').Component} props.tooltip\n * @param {boolean} [props.disabled]\n */\nexport default function CheckboxEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    label,\n    getValue,\n    setValue,\n    disabled,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n\n  const value = getValue(element);\n\n  const error = useError(id);\n\n  return (\n    <div class=\"bio-properties-panel-entry bio-properties-panel-checkbox-entry\" data-entry-id={ id }>\n      <Checkbox\n        disabled={ disabled }\n        id={ id }\n        key={ element }\n        label={ label }\n        onChange={ setValue }\n        onFocus={ onFocus }\n        onBlur={ onBlur }\n        value={ value }\n        tooltip={ tooltip }\n        element={ element } />\n      { error && <div class=\"bio-properties-panel-error\">{ error }</div> }\n      <Description forId={ id } element={ element } value={ description } />\n    </div>\n  );\n}\n\nexport function isEdited(node) {\n  return node && !!node.checked;\n}\n\n\n// helpers /////////////////\n\nfunction prefixId(id) {\n  return `bio-properties-panel-${ id }`;\n}\n","import { useCallback, useEffect, useState, useMemo, useRef } from 'preact/hooks';\nimport { useStaticCallback, useShowEntryEvent } from '../../../hooks';\nimport { isFunction } from 'min-dash';\nimport { useError } from '../../../hooks';\nimport classnames from 'classnames';\nimport Description from '../Description';\nimport TemplatingEditor from './TemplatingEditor';\n\nconst noop = () => { };\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n */\nexport default function TemplatingEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    debounce,\n    disabled,\n    label,\n    getValue,\n    setValue,\n    tooltipContainer,\n    validate,\n    show = noop,\n  } = props;\n\n  const [ validationError, setValidationError ] = useState(null);\n  const [ localError, setLocalError ] = useState(null);\n\n  let value = getValue(element);\n\n  useEffect(() => {\n    if (isFunction(validate)) {\n      const newValidationError = validate(value) || null;\n\n      setValidationError(newValidationError);\n    }\n  }, [ value, validate ]);\n\n  const onInput = useStaticCallback((newValue) => {\n    let newValidationError = null;\n\n    if (isFunction(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n\n    // don't create multiple commandStack entries for the same value\n    if (newValue !== value) {\n      setValue(newValue, newValidationError);\n    }\n\n    setValidationError(newValidationError);\n  });\n\n  const onError = useCallback(err => {\n    setLocalError(err);\n  }, []);\n\n  const temporaryError = useError(id);\n\n  const error = localError || temporaryError || validationError;\n\n  return (\n    <div\n      class={ classnames(\n        'bio-properties-panel-entry',\n        error ? 'has-error' : '')\n      }\n      data-entry-id={ id }>\n      <Templating\n        debounce={ debounce }\n        disabled={ disabled }\n        id={ id }\n        key={ element }\n        label={ label }\n        onInput={ onInput }\n        onError={ onError }\n        show={ show }\n        value={ value }\n        tooltipContainer={ tooltipContainer } />\n      {error && <div class=\"bio-properties-panel-error\">{error}</div>}\n      <Description forId={ id } element={ element } value={ description } />\n    </div>\n  );\n}\n\nfunction Templating(props) {\n  const {\n    debounce,\n    id,\n    label,\n    onInput,\n    onError,\n    value = '',\n    disabled = false,\n    tooltipContainer\n  } = props;\n\n  const [ localValue, setLocalValue ] = useState(value);\n\n  const editorRef = useShowEntryEvent(id);\n  const containerRef = useRef();\n\n  const [ focus, _setFocus ] = useState(undefined);\n\n  const setFocus = (offset = 0) => {\n    const hasFocus = containerRef.current.contains(document.activeElement);\n\n    // Keep caret position if it is already focused, otherwise focus at the end\n    const position = hasFocus ? document.activeElement.selectionStart : Infinity;\n\n    _setFocus(position + offset);\n  };\n\n  const handleInputCallback = useMemo(() => {\n    return debounce((newValue) => onInput(newValue.length ? newValue : undefined));\n  }, [ onInput, debounce ]);\n\n  const handleInput = newValue => {\n    handleInputCallback(newValue);\n    setLocalValue(newValue);\n  };\n\n  const handleLint = useStaticCallback(lint => {\n\n    const errors = lint && lint.length && lint.filter(e => e.severity === 'error') || [];\n\n    if (!errors.length) {\n      onError(undefined);\n      return;\n    }\n\n    const error = lint[0];\n    const message = `${error.source}: ${error.message}`;\n\n    onError(message);\n  });\n\n  useEffect(() => {\n    if (typeof focus !== 'undefined') {\n      editorRef.current.focus(focus);\n      _setFocus(undefined);\n    }\n  }, [ focus ]);\n\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n    setLocalValue(value ? value : '');\n  }, [ value ]);\n\n  return (\n    <div class=\"bio-properties-panel-feelers\">\n      <label id={ prefixIdLabel(id) } class=\"bio-properties-panel-label\" onClick={ () => setFocus() }>\n        {label}\n      </label>\n      <div class=\"bio-properties-panel-feelers-input\" ref={ containerRef }>\n        <TemplatingEditor\n          name={ id }\n          onInput={ handleInput }\n          contentAttributes={ { 'aria-labelledby': prefixIdLabel(id) } }\n          disabled={ disabled }\n          onLint={ handleLint }\n          value={ localValue }\n          ref={ editorRef }\n          tooltipContainer={ tooltipContainer }\n        />\n      </div>\n    </div>\n  );\n}\n\nexport function isEdited(node) {\n  return node && (!!node.value || node.classList.contains('edited'));\n}\n\n// helpers /////////////////\n\nfunction prefixIdLabel(id) {\n  return `bio-properties-panel-feelers-${id}-label`;\n}","import {\n  useEffect,\n  useRef,\n  useState\n} from 'preact/hooks';\n\nimport {\n  query as domQuery\n} from 'min-dom';\n\nimport { isFunction } from 'min-dash';\n\nimport {\n  useKeyFactory,\n  usePrevious\n} from '../../hooks';\n\nimport classnames from 'classnames';\n\nimport {\n  ArrowIcon,\n  CreateIcon,\n  DeleteIcon\n} from '../icons';\n\n/**\n * Entry for handling lists represented as nested entries.\n *\n * @template Item\n * @param {object} props\n * @param {string} props.id\n * @param {*} props.element\n * @param {Function} props.onAdd\n * @param {import('preact').Component} props.component\n * @param {string} [props.label='<empty>']\n * @param {Function} [props.onRemove]\n * @param {Item[]} [props.items]\n * @param {boolean} [props.open]\n * @param {string|boolean} [props.autoFocusEntry] either a custom selector string or true to focus the first input\n * @param {(a: Item, b: Item) => -1 | 0 | 1} [props.compareFn]\n * @returns\n */\nexport default function List(props) {\n  const {\n    id,\n    element,\n    items = [],\n    component,\n    label = '<empty>',\n    open: shouldOpen,\n    onAdd,\n    onRemove,\n    autoFocusEntry,\n    compareFn,\n    ...restProps\n  } = props;\n\n  const [ open, setOpen ] = useState(!!shouldOpen);\n\n  const hasItems = !!items.length;\n  const toggleOpen = () => hasItems && setOpen(!open);\n\n  const opening = !usePrevious(open) && open;\n  const elementChanged = usePrevious(element) !== element;\n  const shouldReset = opening || elementChanged;\n  const sortedItems = useSortedItems(items, compareFn, shouldReset);\n\n  const newItems = useNewItems(items, elementChanged);\n\n  useEffect(() => {\n    if (open && !hasItems) {\n      setOpen(false);\n    }\n  }, [ open, hasItems ]);\n\n  /**\n   * @param {MouseEvent} event\n   */\n  function addItem(event) {\n    event.stopPropagation();\n    onAdd();\n\n    if (!open) {\n      setOpen(true);\n    }\n  }\n\n  return (\n    <div\n      data-entry-id={ id }\n      class={ classnames(\n        'bio-properties-panel-entry',\n        'bio-properties-panel-list-entry',\n        hasItems ? '' : 'empty',\n        open ? 'open' : ''\n      ) }>\n      <div class=\"bio-properties-panel-list-entry-header\" onClick={ toggleOpen }>\n        <div\n          title={ label }\n          class={ classnames(\n            'bio-properties-panel-list-entry-header-title',\n            open && 'open'\n          ) }>\n          { label }\n        </div>\n        <div\n          class=\"bio-properties-panel-list-entry-header-buttons\"\n        >\n          <button\n            type=\"button\"\n            title=\"Create new list item\"\n            onClick={ addItem }\n            class=\"bio-properties-panel-add-entry\"\n          >\n            <CreateIcon />\n            {\n              !hasItems ? (\n                <span class=\"bio-properties-panel-add-entry-label\">Create</span>\n              )\n                : null\n            }\n          </button>\n          {\n            hasItems && (\n              <div\n                title={ `List contains ${items.length} item${items.length != 1 ? 's' : ''}` }\n                class=\"bio-properties-panel-list-badge\"\n              >\n                { items.length }\n              </div>\n            )\n          }\n          {\n            hasItems && (\n              <button\n                type=\"button\"\n                title=\"Toggle list item\"\n                class=\"bio-properties-panel-arrow\"\n              >\n                <ArrowIcon class={ open ? 'bio-properties-panel-arrow-down' : 'bio-properties-panel-arrow-right' } />\n              </button>\n            )\n          }\n        </div>\n      </div>\n      {\n        hasItems && (\n          <ItemsList\n            { ...restProps }\n            autoFocusEntry={ autoFocusEntry }\n            component={ component }\n            element={ element }\n            id={ id }\n            items={ sortedItems }\n            newItems={ newItems }\n            onRemove={ onRemove }\n            open={ open }\n          />\n        )\n      }\n    </div>\n  );\n}\n\nfunction ItemsList(props) {\n  const {\n    autoFocusEntry,\n    component: Component,\n    element,\n    id,\n    items,\n    newItems,\n    onRemove,\n    open,\n    ...restProps\n  } = props;\n\n  const getKey = useKeyFactory();\n\n  const newItem = newItems[0];\n\n  useEffect(() => {\n    if (newItem && autoFocusEntry) {\n\n      // (0) select the parent entry (containing all list items)\n      const entry = domQuery(`[data-entry-id=\"${id}\"]`);\n\n      // (1) select the first input or a custom element to be focussed\n      const selector = typeof(autoFocusEntry) === 'boolean' ?\n        '.bio-properties-panel-input' :\n        autoFocusEntry;\n      const focusableInput = domQuery(selector, entry);\n\n      // (2) set focus\n      if (focusableInput) {\n\n        if (isFunction(focusableInput.select)) {\n          focusableInput.select();\n        } else if (isFunction(focusableInput.focus)) {\n          focusableInput.focus();\n        }\n\n      }\n    }\n  }, [ newItem, autoFocusEntry, id ]);\n\n  return <ol class={ classnames(\n    'bio-properties-panel-list-entry-items',\n    open ? 'open' : ''\n  ) }>\n    {\n      items.map((item, index) => {\n        const key = getKey(item);\n\n        return (<li class=\"bio-properties-panel-list-entry-item\" key={ key }>\n          <Component\n            { ...restProps }\n            element={ element }\n            id={ id }\n            index={ index }\n            item={ item }\n            open={ item === newItem } />\n          {\n            onRemove && (\n              <button\n                type=\"button\"\n                title=\"Delete item\"\n                class=\"bio-properties-panel-remove-entry bio-properties-panel-remove-list-entry\"\n                onClick={ () => onRemove && onRemove(item) }\n              ><DeleteIcon /></button>\n            )\n          }\n        </li>);\n      })\n    }\n  </ol>;\n}\n\n/**\n * Place new items in the beginning of the list and sort the rest with provided function.\n *\n * @template Item\n * @param {Item[]} currentItems\n * @param {(a: Item, b: Item) => 0 | 1 | -1} [compareFn] function used to sort items\n * @param {boolean} [shouldReset=false] set to `true` to reset state of the hook\n * @returns {Item[]}\n */\nfunction useSortedItems(currentItems, compareFn, shouldReset = false) {\n  const itemsRef = useRef(currentItems.slice());\n\n  // (1) Reset and optionally sort.\n  if (shouldReset) {\n    itemsRef.current = currentItems.slice();\n\n    if (compareFn) {\n      itemsRef.current.sort(compareFn);\n    }\n  } else {\n    const items = itemsRef.current;\n\n    // (2) Add new item to the list.\n    for (const item of currentItems) {\n      if (!items.includes(item)) {\n\n        // Unshift or push depending on whether we have a compareFn\n        compareFn ? items.unshift(item) : items.push(item);\n      }\n    }\n\n    // (3) Filter out removed items.\n    itemsRef.current = items.filter(item => currentItems.includes(item));\n  }\n\n  return itemsRef.current;\n}\n\nfunction useNewItems(items = [], shouldReset) {\n  const previousItems = usePrevious(items.slice()) || [];\n\n  if (shouldReset) {\n    return [];\n  }\n\n  return previousItems ? items.filter(item => !previousItems.includes(item)) : [];\n}\n","import classNames from 'classnames';\n\nimport { isFunction } from 'min-dash';\n\nimport {\n  useError,\n  useShowEntryEvent\n} from '../../hooks';\n\nimport {\n  useEffect,\n  useState\n} from 'preact/hooks';\n\nimport Description from './Description';\nimport Tooltip from './Tooltip';\n\n/**\n * @typedef { { value: string, label: string, disabled: boolean, children: { value: string, label: string, disabled: boolean } } } Option\n */\n\n/**\n * Provides basic select input.\n *\n * @param {object} props\n * @param {string} props.id\n * @param {string[]} props.path\n * @param {string} props.label\n * @param {Function} props.onChange\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {Array<Option>} [props.options]\n * @param {string} props.value\n * @param {boolean} [props.disabled]\n */\nfunction Select(props) {\n  const {\n    id,\n    label,\n    onChange,\n    options = [],\n    value = '',\n    disabled,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n\n  const ref = useShowEntryEvent(id);\n\n  const [ localValue, setLocalValue ] = useState(value);\n\n  const handleChangeCallback = ({ target }) => {\n    onChange(target.value);\n  };\n\n  const handleChange = e => {\n    handleChangeCallback(e);\n    setLocalValue(e.target.value);\n  };\n\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n\n    setLocalValue(value);\n  }, [ value ]);\n\n  return (\n    <div class=\"bio-properties-panel-select\">\n      <label for={ prefixId(id) } class=\"bio-properties-panel-label\">\n        <Tooltip value={ tooltip } forId={ id } element={ props.element }>\n          {label}\n        </Tooltip>\n      </label>\n      <select\n        ref={ ref }\n        id={ prefixId(id) }\n        name={ id }\n        class=\"bio-properties-panel-input\"\n        onInput={ handleChange }\n        onFocus={ onFocus }\n        onBlur={ onBlur }\n        value={ localValue }\n        disabled={ disabled }\n      >\n        {options.map((option, idx) => {\n          if (option.children) {\n            return (\n              <optgroup key={ idx } label={ option.label }>\n                {option.children.map((child, idx) => (\n                  <option\n                    key={ idx }\n                    value={ child.value }\n                    disabled={ child.disabled }\n                  >\n                    {child.label}\n                  </option>\n                ))}\n              </optgroup>\n            );\n          }\n\n          return (\n            <option key={ idx } value={ option.value } disabled={ option.disabled }>\n              {option.label}\n            </option>\n          );\n        })}\n      </select>\n    </div>\n  );\n}\n\n/**\n * @param {object} props\n * @param {object} props.element\n * @param {string} props.id\n * @param {string} [props.description]\n * @param {string} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {Function} props.getOptions\n * @param {boolean} [props.disabled]\n * @param {Function} [props.validate]\n * @param {string|import('preact').Component} props.tooltip\n */\nexport default function SelectEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    label,\n    getValue,\n    setValue,\n    getOptions,\n    disabled,\n    onFocus,\n    onBlur,\n    validate,\n    tooltip\n  } = props;\n\n  const options = getOptions(element);\n  const globalError = useError(id);\n  const [ localError, setLocalError ] = useState(null);\n\n  let value = getValue(element);\n\n  useEffect(() => {\n    if (isFunction(validate)) {\n      const newValidationError = validate(value) || null;\n\n      setLocalError(newValidationError);\n    }\n  }, [ value, validate ]);\n\n\n  const onChange = (newValue) => {\n    let newValidationError = null;\n\n    if (isFunction(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n\n    setValue(newValue, newValidationError);\n    setLocalError(newValidationError);\n  };\n\n  const error = globalError || localError;\n\n  return (\n    <div\n      class={ classNames(\n        'bio-properties-panel-entry',\n        error ? 'has-error' : '')\n      }\n      data-entry-id={ id }>\n      <Select\n        id={ id }\n        key={ element }\n        label={ label }\n        value={ value }\n        onChange={ onChange }\n        onFocus={ onFocus }\n        onBlur={ onBlur }\n        options={ options }\n        disabled={ disabled }\n        tooltip={ tooltip }\n        element={ element } />\n      { error && <div class=\"bio-properties-panel-error\">{ error }</div> }\n      <Description forId={ id } element={ element } value={ description } />\n    </div>\n  );\n}\n\nexport function isEdited(node) {\n  return node && !!node.value;\n}\n\n// helpers /////////////////\n\nfunction prefixId(id) {\n  return `bio-properties-panel-${ id }`;\n}","import {\n  useMemo,\n  useEffect,\n  useState\n} from 'preact/hooks';\n\n/**\n * @param {Object} props\n * @param {Function} props.debounce\n * @param {Boolean} [props.disabled]\n * @param {Object} props.element\n * @param {Function} props.getValue\n * @param {String} props.id\n * @param {Function} [props.onBlur]\n * @param {Function} [props.onFocus]\n * @param {Function} props.setValue\n */\nexport default function Simple(props) {\n  const {\n    debounce,\n    disabled,\n    element,\n    getValue,\n    id,\n    onBlur,\n    onFocus,\n    setValue\n  } = props;\n\n  const value = getValue(element);\n\n  const [ localValue, setLocalValue ] = useState(value);\n\n  const handleInputCallback = useMemo(() => {\n    return debounce((target) => setValue(target.value.length ? target.value : undefined));\n  }, [ setValue, debounce ]);\n\n  const handleInput = e => {\n    handleInputCallback(e.target);\n    setLocalValue(e.target.value);\n  };\n\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n\n    setLocalValue(value);\n  }, [ value ]);\n\n\n  return (\n    <div class=\"bio-properties-panel-simple\">\n      <input\n        id={ prefixId(id) }\n        key={ element }\n        type=\"text\"\n        name={ id }\n        spellCheck=\"false\"\n        autoComplete=\"off\"\n        disabled={ disabled }\n        class=\"bio-properties-panel-input\"\n        onInput={ handleInput }\n        aria-label={ localValue || '<empty>' }\n        onFocus={ onFocus }\n        onBlur={ onBlur }\n        value={ localValue } />\n    </div>\n  );\n}\n\nexport function isEdited(node) {\n  return node && !!node.value;\n}\n\n\n// helpers /////////////////\n\nfunction prefixId(id) {\n  return `bio-properties-panel-${ id }`;\n}\n","import Description from './Description';\n\nimport {\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useState\n} from 'preact/hooks';\n\nimport classnames from 'classnames';\n\nimport {\n  useError,\n  useShowEntryEvent\n} from '../../hooks';\n\nimport { isFunction } from 'min-dash';\nimport Tooltip from './Tooltip';\n\nfunction resizeToContents(element) {\n  element.style.height = 'auto';\n\n  // a 2px pixel offset is required to prevent scrollbar from\n  // appearing on OS with a full length scroll bar (Windows/Linux)\n  element.style.height = `${ element.scrollHeight + 2 }px`;\n}\n\nfunction TextArea(props) {\n\n  const {\n    id,\n    label,\n    debounce,\n    onInput,\n    value = '',\n    disabled,\n    monospace,\n    onFocus,\n    onBlur,\n    autoResize,\n    rows = autoResize ? 1 : 2,\n    tooltip\n  } = props;\n\n  const [ localValue, setLocalValue ] = useState(value);\n\n  const ref = useShowEntryEvent(id);\n\n  const handleInputCallback = useMemo(() => {\n    return debounce((target) => onInput(target.value.length ? target.value : undefined));\n  }, [ onInput, debounce ]);\n\n  const handleInput = e => {\n    handleInputCallback(e.target);\n\n    autoResize && resizeToContents(e.target);\n\n    setLocalValue(e.target.value);\n  };\n\n  useLayoutEffect(() => {\n    autoResize && resizeToContents(ref.current);\n  }, []);\n\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n\n    setLocalValue(value);\n  }, [ value ]);\n\n  return (\n    <div class=\"bio-properties-panel-textarea\">\n      <label for={ prefixId(id) } class=\"bio-properties-panel-label\">\n        <Tooltip value={ tooltip } forId={ id } element={ props.element }>\n          { label }\n        </Tooltip>\n      </label>\n      <textarea\n        ref={ ref }\n        id={ prefixId(id) }\n        name={ id }\n        spellCheck=\"false\"\n        class={ classnames(\n          'bio-properties-panel-input',\n          monospace ? 'bio-properties-panel-input-monospace' : '',\n          autoResize ? 'auto-resize' : '')\n        }\n        onInput={ handleInput }\n        onFocus={ onFocus }\n        onBlur={ onBlur }\n        rows={ rows }\n        value={ localValue }\n        disabled={ disabled }\n        data-gramm=\"false\"\n      />\n    </div>\n  );\n}\n\n/**\n * @param {object} props\n * @param {object} props.element\n * @param {string} props.id\n * @param {string} props.description\n * @param {boolean} props.debounce\n * @param {string} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {number} props.rows\n * @param {boolean} props.monospace\n * @param {Function} [props.validate]\n * @param {boolean} [props.disabled]\n */\nexport default function TextAreaEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    debounce,\n    label,\n    getValue,\n    setValue,\n    rows,\n    monospace,\n    disabled,\n    validate,\n    onFocus,\n    onBlur,\n    autoResize,\n    tooltip\n  } = props;\n\n  const globalError = useError(id);\n  const [ localError, setLocalError ] = useState(null);\n\n  let value = getValue(element);\n\n  useEffect(() => {\n    if (isFunction(validate)) {\n      const newValidationError = validate(value) || null;\n\n      setLocalError(newValidationError);\n    }\n  }, [ value, validate ]);\n\n  const onInput = (newValue) => {\n    let newValidationError = null;\n\n    if (isFunction(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n\n    setValue(newValue, newValidationError);\n\n    setLocalError(newValidationError);\n  };\n\n\n  const error = globalError || localError;\n\n  return (\n    <div\n      class={ classnames(\n        'bio-properties-panel-entry',\n        error ? 'has-error' : '')\n      }\n      data-entry-id={ id }>\n      <TextArea\n        id={ id }\n        key={ element }\n        label={ label }\n        value={ value }\n        onInput={ onInput }\n        onFocus={ onFocus }\n        onBlur={ onBlur }\n        rows={ rows }\n        debounce={ debounce }\n        monospace={ monospace }\n        disabled={ disabled }\n        autoResize={ autoResize }\n        tooltip={ tooltip }\n        element={ element } />\n      { error && <div class=\"bio-properties-panel-error\">{ error }</div> }\n      <Description forId={ id } element={ element } value={ description } />\n    </div>\n  );\n}\n\nexport function isEdited(node) {\n  return node && !!node.value;\n}\n\n\n// helpers /////////////////\n\nfunction prefixId(id) {\n  return `bio-properties-panel-${ id }`;\n}\n","import Description from './Description';\nimport Tooltip from './Tooltip';\n\nimport {\n  useEffect,\n  useMemo,\n  useState\n} from 'preact/hooks';\n\nimport classnames from 'classnames';\n\nimport { isFunction } from 'min-dash';\n\nimport {\n  useError,\n  useShowEntryEvent\n} from '../../hooks';\n\nfunction Textfield(props) {\n\n  const {\n    debounce,\n    disabled = false,\n    id,\n    label,\n    onInput,\n    onFocus,\n    onBlur,\n    value = '',\n    tooltip\n  } = props;\n\n  const [ localValue, setLocalValue ] = useState(value || '');\n\n  const ref = useShowEntryEvent(id);\n\n  const handleInputCallback = useMemo(() => {\n    return debounce((target) => onInput(target.value.length ? target.value : undefined));\n  }, [ onInput, debounce ]);\n\n  const handleInput = e => {\n    handleInputCallback(e.target);\n    setLocalValue(e.target.value);\n  };\n\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n\n    setLocalValue(value);\n  }, [ value ]);\n\n  return (\n    <div class=\"bio-properties-panel-textfield\">\n      <label for={ prefixId(id) } class=\"bio-properties-panel-label\">\n        <Tooltip value={ tooltip } forId={ id } element={ props.element }>\n          { label }\n        </Tooltip>\n      </label>\n      <input\n        ref={ ref }\n        id={ prefixId(id) }\n        type=\"text\"\n        name={ id }\n        spellCheck=\"false\"\n        autoComplete=\"off\"\n        disabled={ disabled }\n        class=\"bio-properties-panel-input\"\n        onInput={ handleInput }\n        onFocus={ onFocus }\n        onBlur={ onBlur }\n        value={ localValue } />\n    </div>\n  );\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {string|import('preact').Component} props.tooltip\n * @param {Function} props.validate\n */\nexport default function TextfieldEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    debounce,\n    disabled,\n    label,\n    getValue,\n    setValue,\n    validate,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n\n  const globalError = useError(id);\n  const [ localError, setLocalError ] = useState(null);\n\n  let value = getValue(element);\n\n  useEffect(() => {\n    if (isFunction(validate)) {\n      const newValidationError = validate(value) || null;\n\n      setLocalError(newValidationError);\n    }\n  }, [ value, validate ]);\n\n  const onInput = (newValue) => {\n    let newValidationError = null;\n\n    if (isFunction(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n\n    setValue(newValue, newValidationError);\n\n    setLocalError(newValidationError);\n  };\n\n\n  const error = globalError || localError;\n\n  return (\n    <div\n      class={ classnames(\n        'bio-properties-panel-entry',\n        error ? 'has-error' : '')\n      }\n      data-entry-id={ id }>\n      <Textfield\n        debounce={ debounce }\n        disabled={ disabled }\n        id={ id }\n        key={ element }\n        label={ label }\n        onInput={ onInput }\n        onFocus={ onFocus }\n        onBlur={ onBlur }\n        value={ value }\n        tooltip={ tooltip }\n        element={ element } />\n      { error && <div class=\"bio-properties-panel-error\">{ error }</div> }\n      <Description forId={ id } element={ element } value={ description } />\n    </div>\n  );\n}\n\nexport function isEdited(node) {\n  return node && !!node.value;\n}\n\n\n// helpers /////////////////\n\nfunction prefixId(id) {\n  return `bio-properties-panel-${ id }`;\n}","import {\n  debounce,\n  isNumber\n} from 'min-dash';\n\nconst DEFAULT_DEBOUNCE_TIME = 300;\n\nexport default function debounceInput(debounceDelay) {\n  return function _debounceInput(fn) {\n    if (debounceDelay !== false) {\n\n      var debounceTime =\n        isNumber(debounceDelay) ?\n          debounceDelay :\n          DEFAULT_DEBOUNCE_TIME;\n\n      return debounce(fn, debounceTime);\n    } else {\n      return fn;\n    }\n  };\n}\n\ndebounceInput.$inject = [ 'config.debounceInput' ];\n","import debounceInput from './debounceInput';\n\nexport default {\n  debounceInput: [ 'factory', debounceInput ]\n};\n","export default class FeelPopupModule {\n\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * Check if the FEEL popup is open.\n   * @return {Boolean}\n   */\n  isOpen() {\n    return this._eventBus.fire('feelPopup._isOpen');\n  }\n\n  /**\n   * Open the FEEL popup.\n   *\n   * @param {String} entryId\n   * @param {Object} popupConfig\n   * @param {HTMLElement} sourceElement\n   */\n  open(entryId, popupConfig, sourceElement) {\n    return this._eventBus.fire('feelPopup._open', {\n      entryId,\n      popupConfig,\n      sourceElement\n    });\n  }\n\n  /**\n   * Close the FEEL popup.\n   */\n  close() {\n    return this._eventBus.fire('feelPopup._close');\n  }\n}\n\nFeelPopupModule.$inject = [ 'eventBus' ];","import feelPopup from './FeelPopupModule';\n\nexport default {\n  feelPopup: [ 'type', feelPopup ]\n};\n"],"names":["Header","props","element","headerProvider","getElementIcon","getDocumentationRef","getElementLabel","getTypeLabel","label","type","documentationRef","ElementIcon","_jsxs","class","children","_jsx","width","height","viewBox","title","rel","href","target","ExternalLinkIcon","DescriptionContext","createContext","description","getDescriptionForId","ErrorsContext","errors","EventContext","eventBus","LayoutContext","layout","setLayout","getLayoutForKey","setLayoutForKey","TooltipContext","tooltip","getTooltipForId","useTooltipContext","id","useContext","TooltipWrapper","forId","contextDescription","value","Tooltip","prefixId","parent","direction","position","visible","setShow","useState","focusedViaKeyboard","setFocusedViaKeyboard","timeout","wrapperRef","useRef","tooltipRef","showTooltip","event","show","MouseEvent","setTimeout","hideTooltip","hideTooltipViaEscape","e","code","isTooltipHovered","x","y","current","wrapper","inBounds","getBoundingClientRect","useEffect","hideHoveredTooltip","isFocused","document","activeElement","closest","hideFocusedTooltip","relatedTarget","isTooltipChild","el","isHovered","addEventListener","removeEventListener","renderTooltip","role","style","getTooltipPosition","ref","onClick","stopPropagation","tabIndex","onMouseEnter","onMouseLeave","clearTimeout","onFocus","onKeyDown","createPortal","bounds","top","right","bottom","left","refElement","refPosition","matches","useDescriptionContext","useError","useErrors","useEvent","callback","eventContext","didMount","on","off","KEY_LENGTH","useKeyFactory","dependencies","map","useMemo","Map","getKey","key","get","Math","random","toString","slice","set","useLayoutState","path","defaultValue","layoutForKey","setState","useCallback","newValue","usePrevious","useShowEntryEvent","onShow","PropertiesPanelContext","focus","onShowEntry","isFunction","select","useStickyIntersectionObserver","scrollContainerSelector","setSticky","scrollContainer","setScrollContainer","domQuery","updateScrollContainer","newScrollContainer","Observer","IntersectionObserver","observer","entries","scrollHeight","forEach","entry","intersectionRatio","root","rootMargin","threshold","observe","unobserve","useStaticCallback","callbackRef","args","Group","shouldOpen","groupRef","open","setOpen","toggleOpen","edited","setEdited","sticky","scheduled","requestAnimationFrame","hasOneEditedEntry","find","isEdited","entryNode","inputNode","cancelAnimationFrame","allErrors","hasErrors","some","propertiesPanelContext","classnames","DataMarker","ArrowIcon","Provider","component","Component","_createElement","Placeholder","text","icon","Icon","Description","noop","useBufferedFocus","editor","buffer","setBuffer","undefined","offset","Infinity","CodeEditor","forwardRef","onInput","disabled","tooltipContainer","enableGutters","onLint","onPopupOpen","popupOpen","contentAttributes","hostLanguage","singleLine","inputRef","setEditor","localValue","setLocalValue","handleInput","FeelersEditor","container","onChange","innerHTML","setValue","handleClick","classNames","name","onFeelToggle","variables","selection","getSelection","range","ranges","mainIndex","from","to","FeelEditor","extensions","lineNumbers","EditorView","lineWrapping","setVariables","PopupIcon","FeelIndicator","active","FeelIcon","feel","feelRequiredLabel","feelOptionalLabel","pointerType","FeelIconSvg","FeelPopupContext","close","source","createDragger","fn","dragPreview","self","startX","startY","onDragStart","clientX","clientY","dataTransfer","setDragImage","emptyCanvas","onDrag","preventDefault","onEnd","delta","call","domify","PopupComponent","globalRef","className","delayInitialFocus","onClose","onPostActivate","onPostDeactivate","returnFocus","closeOnEscape","focusTrapRef","localRef","popupRef","containerNode","getContainerNode","handleKeydown","handleFocus","activate","focusTrap","createFocusTrap","clickOutsideDeactivates","fallbackFocus","returnFocusOnDeactivate","deactivate","body","Popup","Title","Body","Footer","draggable","emit","rest","context","startPosition","newPosition","dragPreviewRef","titleRef","onMove","cancel","dx","dy","popupParent","getPopupParent","onMoveStart","onMoveEnd","onDragEnd","_Fragment","DragIcon","node","FEEL_POPUP_WIDTH","FEEL_POPUP_HEIGHT","FEELPopupRoot","fire","popupContainer","prevElement","popupConfig","setPopupConfig","setSource","sourceElement","setSourceElement","isOpen","useUpdateEffect","handleOpen","entryId","config","_sourceElement","handleClose","feelPopupContext","handlePopupOpen","handleIsOpen","FeelPopupComponent","editorRef","isAutoCompletionOpen","handleSetReturnFocus","onKeyDownCapture","autoCompletionOpen","domNode","HelpIcon","TemplatingEditor","querySelector","effect","deps","isMounted","ToggleSwitch","switcherLabel","inline","onBlur","handleInputCallback","for","checked","ToggleSwitchEntry","getValue","NumberField","debounce","displayLabel","max","min","step","validity","valid","parseFloat","spellCheck","autoComplete","NumberFieldEntry","validate","globalError","localError","setLocalError","newValidationError","error","FeelTextfieldComponent","onError","OptionalComponent","OptionalFeelInput","_setLocalValue","containerRef","feelActive","isString","startsWith","feelOnlyValue","substring","_setFocus","openPopup","popupSource","popuOpen","setFocus","hasFocus","contains","selectionStart","handleFeelToggle","handleLocalInput","handleLint","lint","length","popupOptions","calculatePopupPosition","getPopupTitle","copyHandler","clipboardData","setData","getData","pasteHandler","data","FeelTextfield","withAutoClosePopup","input","setSelectionRange","OptionalFeelNumberField","OptionalFeelTextArea","OptionalFeelToggleSwitch","OptionalFeelCheckbox","handleChange","FeelEntry","example","validationError","setValidationError","err","temporaryError","FeelNumberEntry","FeelTextAreaEntry","FeelToggleSwitchEntry","FeelCheckboxEntry","FeelTemplatingEntry","classList","popupTitle","closePopup","DEFAULT_LAYOUT","DEFAULT_DESCRIPTION","DEFAULT_TOOLTIP","PropertiesPanel","placeholderProvider","groups","layoutConfig","layoutChanged","descriptionConfig","descriptionLoaded","tooltipConfig","tooltipLoaded","feelPopupContainer","createLayout","useUpdateLayoutEffect","newLayout","assign","layoutContext","createDescriptionContext","descriptionContext","createTooltipContext","tooltipContext","setErrors","onSetErrors","errorsContext","getEmpty","isArray","getMultiple","FeelPopupRoot","group","overrides","defaults","useLayoutEffect","DropdownButton","menuItems","dropdownRef","menuRef","onDropdownToggle","onActionClick","action","useGlobalClick","item","index","MenuItem","separator","ignoredElements","listener","capture","HeaderButton","classname","otherProps","CollapsibleEntry","remove","placeholderLabel","DeleteIcon","ListItem","autoFocusEntry","autoOpen","focusableInput","ListGroup","add","items","shouldSort","ordering","setOrdering","newItemAdded","setNewItemAdded","addTriggered","setAddTriggered","prevItems","elementChanged","shouldHandleEffects","createOrdering","sortItems","includes","push","newOrdering","filter","unshift","keep","o","getItem","hasItems","handleAddClick","hasError","CreateIcon","sortBy","i","toLowerCase","Checkbox","handleChangeCallback","CheckboxEntry","TemplatingEntry","Templating","severity","message","prefixIdLabel","List","onAdd","onRemove","compareFn","restProps","opening","shouldReset","sortedItems","useSortedItems","newItems","useNewItems","addItem","ItemsList","newItem","selector","currentItems","itemsRef","sort","previousItems","Select","options","option","idx","child","SelectEntry","getOptions","Simple","resizeToContents","TextArea","monospace","autoResize","rows","TextAreaEntry","Textfield","TextfieldEntry","DEFAULT_DEBOUNCE_TIME","debounceInput","debounceDelay","_debounceInput","debounceTime","isNumber","$inject","FeelPopupModule","constructor","_eventBus","feelPopup"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBe,SAASA,MAAMA,CAACC,KAAK,EAAE;EAEpC,MAAM;IACJC,OAAO;AACPC,IAAAA,cAAAA;AACF,GAAC,GAAGF,KAAK,CAAA;EAET,MAAM;IACJG,cAAc;IACdC,mBAAmB;IACnBC,eAAe;AACfC,IAAAA,YAAAA;AACF,GAAC,GAAGJ,cAAc,CAAA;AAElB,EAAA,MAAMK,KAAK,GAAGF,eAAe,CAACJ,OAAO,CAAC,CAAA;AACtC,EAAA,MAAMO,IAAI,GAAGF,YAAY,CAACL,OAAO,CAAC,CAAA;AAClC,EAAA,MAAMQ,gBAAgB,GAAGL,mBAAmB,IAAIA,mBAAmB,CAACH,OAAO,CAAC,CAAA;AAE5E,EAAA,MAAMS,WAAW,GAAGP,cAAc,CAACF,OAAO,CAAC,CAAA;AAE3C,EAAA,OAAQU,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,6BAA6B;AAAAC,IAAAA,QAAA,GAC9CC,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,kCAAkC;AAAAC,MAAAA,QAAA,EACzCH,WAAW,IAAII,GAAA,CAACJ,WAAW,EAAA;AAACK,QAAAA,KAAK,EAAC,IAAI;AAACC,QAAAA,MAAM,EAAC,IAAI;AAACC,QAAAA,OAAO,EAAC,WAAA;OAAa,CAAA;KACvE,CAAC,EACNN,IAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAC,oCAAoC;AAAAC,MAAAA,QAAA,GAC7CC,GAAA,CAAA,KAAA,EAAA;AAAKI,QAAAA,KAAK,EAAGV,IAAM;AAACI,QAAAA,KAAK,EAAC,kCAAkC;AAAAC,QAAAA,QAAA,EAAGL,IAAAA;AAAI,OAAO,CAAC,EACzED,KAAK,GACLO,GAAA,CAAA,KAAA,EAAA;AAAKI,QAAAA,KAAK,EAAGX,KAAO;AAACK,QAAAA,KAAK,EAAC,mCAAmC;AAAAC,QAAAA,QAAA,EAAGN,KAAAA;OAAY,CAAC,GAC9E,IAAI,CAAA;KAEH,CAAC,EACNO,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,qCAAqC;MAAAC,QAAA,EAC5CJ,gBAAgB,GAChBK,GAAA,CAAA,GAAA,EAAA;AACEK,QAAAA,GAAG,EAAC,UAAU;AACdP,QAAAA,KAAK,EAAC,kCAAkC;AACxCQ,QAAAA,IAAI,EAAGX,gBAAkB;AACzBS,QAAAA,KAAK,EAAC,oBAAoB;AAC1BG,QAAAA,MAAM,EAAC,QAAQ;AAAAR,QAAAA,QAAA,EACfC,GAAA,CAACQ,gBAAgB,EAAE,EAAA,CAAA;AAAC,OACnB,CAAC,GACJ,IAAA;AAAI,KAEH,CAAC,CAAA;AAAA,GACH,CAAC,CAAA;AACR;;ACzDMC,MAAAA,kBAAkB,GAAGC,aAAa,CAAC;EACvCC,WAAW,EAAE,EAAE;EACfC,mBAAmB,EAAEA,MAAM,EAAC;AAC9B,CAAC;;ACHKC,MAAAA,aAAa,GAAGH,aAAa,CAAC;AAClCI,EAAAA,MAAM,EAAE,EAAC;AACX,CAAC;;ACND;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAoBMC,MAAAA,YAAY,GAAGL,aAAa,CAAC;AAAEM,EAAAA,QAAQ,EAAE,IAAA;AAAK,CAAC;;AC7B/CC,MAAAA,aAAa,GAAGP,aAAa,CAAC;EAClCQ,MAAM,EAAE,EAAE;AACVC,EAAAA,SAAS,EAAEA,MAAM,EAAE;AACnBC,EAAAA,eAAe,EAAEA,MAAM,EAAE;EACzBC,eAAe,EAAEA,MAAM,EAAC;AAC1B,CAAC;;ACLKC,MAAAA,cAAc,GAAGZ,aAAa,CAAC;EACnCa,OAAO,EAAE,EAAE;EACXC,eAAe,EAAEA,MAAM,EAAC;AAC1B,CAAC;;ACCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,iBAAiBA,CAACC,EAAE,EAAEvC,OAAO,EAAE;EAC7C,MAAM;AACJqC,IAAAA,eAAAA;AACF,GAAC,GAAGG,UAAU,CAACL,cAAc,CAAC,CAAA;AAE9B,EAAA,OAAOE,eAAe,CAACE,EAAE,EAAEvC,OAAO,CAAC,CAAA;AACrC;;ACde,SAASyC,cAAcA,CAAC1C,KAAK,EAAE;EAC5C,MAAM;IACJ2C,KAAK;AACL1C,IAAAA,OAAAA;AACF,GAAC,GAAGD,KAAK,CAAA;AAET,EAAA,MAAM4C,kBAAkB,GAAGL,iBAAiB,CAACI,KAAK,EAAE1C,OAAO,CAAC,CAAA;AAE5D,EAAA,MAAM4C,KAAK,GAAG7C,KAAK,CAAC6C,KAAK,IAAID,kBAAkB,CAAA;EAE/C,IAAI,CAACC,KAAK,EAAE;IACV,OAAO7C,KAAK,CAACa,QAAQ,CAAA;AACvB,GAAA;EAEA,OAAOC,GAAA,CAACgC,OAAO,EAAA;AAAA,IAAA,GAAM9C,KAAK;AAAG6C,IAAAA,KAAK,EAAGA,KAAO;IAACF,KAAK,EAAGI,UAAQ,CAACJ,KAAK,CAAA;AAAG,GAAE,CAAC,CAAA;AAC3E,CAAA;AAEA,SAASG,OAAOA,CAAC9C,KAAK,EAAE;EACtB,MAAM;IACJ2C,KAAK;IACLE,KAAK;IACLG,MAAM;AACNC,IAAAA,SAAS,GAAG,OAAO;AACnBC,IAAAA,QAAAA;AACF,GAAC,GAAGlD,KAAK,CAAA;EAET,MAAM,CAAEmD,OAAO,EAAEC,OAAO,CAAE,GAAGC,QAAQ,CAAC,KAAK,CAAC,CAAA;EAC5C,MAAM,CAAEC,kBAAkB,EAAEC,qBAAqB,CAAE,GAAGF,QAAQ,CAAC,KAAK,CAAC,CAAA;EAErE,IAAIG,OAAO,GAAG,IAAI,CAAA;AAElB,EAAA,MAAMC,UAAU,GAAGC,MAAM,CAAC,IAAI,CAAC,CAAA;AAC/B,EAAA,MAAMC,UAAU,GAAGD,MAAM,CAAC,IAAI,CAAC,CAAA;AAE/B,EAAA,MAAME,WAAW,GAAG,MAAOC,KAAK,IAAK;AACnC,IAAA,MAAMC,IAAI,GAAGA,MAAMV,OAAO,CAAC,IAAI,CAAC,CAAA;AAEhC,IAAA,IAAI,CAACD,OAAO,IAAI,CAACK,OAAO,EAAE;MACxB,IAAIK,KAAK,YAAYE,UAAU,EAAE;AAC/BP,QAAAA,OAAO,GAAGQ,UAAU,CAACF,IAAI,EAAE,GAAG,CAAC,CAAA;AACjC,OAAC,MAAM;AACLA,QAAAA,IAAI,EAAE,CAAA;QACNP,qBAAqB,CAAC,IAAI,CAAC,CAAA;AAC7B,OAAA;AACF,KAAA;GACD,CAAA;EAED,MAAMU,WAAW,GAAGA,MAAM;IACxBb,OAAO,CAAC,KAAK,CAAC,CAAA;IACdG,qBAAqB,CAAC,KAAK,CAAC,CAAA;GAC7B,CAAA;EAED,MAAMW,oBAAoB,GAAIC,CAAC,IAAK;AAClCA,IAAAA,CAAC,CAACC,IAAI,KAAK,QAAQ,IAAIH,WAAW,EAAE,CAAA;GACrC,CAAA;EAED,MAAMI,gBAAgB,GAAGA,CAAC;IAAEC,CAAC;AAAEC,IAAAA,CAAAA;AAAE,GAAC,KAAK;AACrC,IAAA,MAAMlC,OAAO,GAAGsB,UAAU,CAACa,OAAO,CAAA;AAClC,IAAA,MAAMC,OAAO,GAAGhB,UAAU,CAACe,OAAO,CAAA;IAElC,OAAOnC,OAAO,KACZqC,QAAQ,CAACJ,CAAC,EAAEC,CAAC,EAAEE,OAAO,CAACE,qBAAqB,EAAE,CAAC,IAC/CD,QAAQ,CAACJ,CAAC,EAAEC,CAAC,EAAElC,OAAO,CAACsC,qBAAqB,EAAE,CAAC,CAChD,CAAA;GACF,CAAA;AAEDC,EAAAA,SAAS,CAAC,MAAM;IACd,MAAM;AAAEJ,MAAAA,OAAAA;AAAQ,KAAC,GAAGf,UAAU,CAAA;IAE9B,IAAI,CAACe,OAAO,EAAE;AACZ,MAAA,OAAA;AACF,KAAA;IAEA,MAAMK,kBAAkB,GAAIV,CAAC,IAAK;AAChC,MAAA,MAAMW,SAAS,GAAGC,QAAQ,CAACC,aAAa,KAAKvB,UAAU,CAACe,OAAO,IAC1CO,QAAQ,CAACC,aAAa,CAACC,OAAO,CAAC,+BAA+B,CAAC,CAAA;AAEpF,MAAA,IAAI9B,OAAO,IAAI,CAACkB,gBAAgB,CAAC;QAAEC,CAAC,EAAEH,CAAC,CAACG,CAAC;QAAEC,CAAC,EAAEJ,CAAC,CAACI,CAAAA;AAAE,OAAC,CAAC,IAAI,EAAEO,SAAS,IAAIxB,kBAAkB,CAAC,EAAE;AAC1FW,QAAAA,WAAW,EAAE,CAAA;AACf,OAAA;KACD,CAAA;IAED,MAAMiB,kBAAkB,GAAIf,CAAC,IAAK;MAChC,MAAM;AAAEgB,QAAAA,aAAAA;AAAc,OAAC,GAAGhB,CAAC,CAAA;MAC3B,MAAMiB,cAAc,GAAIC,EAAE,IAAK,CAAC,CAACA,EAAE,CAACJ,OAAO,CAAC,+BAA+B,CAAC,CAAA;AAG5E,MAAA,IAAI9B,OAAO,IAAI,CAACmC,SAAS,CAAC7B,UAAU,CAACe,OAAO,CAAC,IAAIW,aAAa,IAAI,CAACC,cAAc,CAACD,aAAa,CAAC,EAAE;AAChGlB,QAAAA,WAAW,EAAE,CAAA;AACf,OAAA;KACD,CAAA;AAEDc,IAAAA,QAAQ,CAACQ,gBAAgB,CAAC,OAAO,EAAEV,kBAAkB,CAAC,CAAA;AACtDE,IAAAA,QAAQ,CAACQ,gBAAgB,CAAC,UAAU,EAAEL,kBAAkB,CAAC,CAAA;AACzDH,IAAAA,QAAQ,CAACQ,gBAAgB,CAAC,WAAW,EAAEV,kBAAkB,CAAC,CAAA;AAE1D,IAAA,OAAO,MAAM;AACXE,MAAAA,QAAQ,CAACS,mBAAmB,CAAC,OAAO,EAAEX,kBAAkB,CAAC,CAAA;AACzDE,MAAAA,QAAQ,CAACS,mBAAmB,CAAC,WAAW,EAAEX,kBAAkB,CAAC,CAAA;AAC7DE,MAAAA,QAAQ,CAACS,mBAAmB,CAAC,UAAU,EAAEN,kBAAkB,CAAC,CAAA;KAC7D,CAAA;GACF,EAAE,CAAEzB,UAAU,CAACe,OAAO,EAAErB,OAAO,EAAEG,kBAAkB,CAAE,CAAC,CAAA;EAEvD,MAAMmC,aAAa,GAAGA,MAAM;AAC1B,IAAA,OACE9E,IAAA,CAAA,KAAA,EAAA;MACEC,KAAK,EAAI,CAA+BqC,6BAAAA,EAAAA,SAAU,CAAG,CAAA;AACrDyC,MAAAA,IAAI,EAAC,SAAS;AACdlD,MAAAA,EAAE,EAAC,8BAA8B;AACjC,MAAA,iBAAA,EAAkBG,KAAO;MACzBgD,KAAK,EAAGzC,QAAQ,IAAI0C,kBAAkB,CAACnC,UAAU,CAACe,OAAO,CAAG;AAC5DqB,MAAAA,GAAG,EAAGlC,UAAY;AAClBmC,MAAAA,OAAO,EAAI3B,CAAC,IAAIA,CAAC,CAAC4B,eAAe,EAAI;AAAAlF,MAAAA,QAAA,GAErCC,GAAA,CAAA,KAAA,EAAA;AAAKF,QAAAA,KAAK,EAAC,sCAAsC;AAAAC,QAAAA,QAAA,EAC9CgC,KAAAA;OACE,CAAC,EACN/B,GAAA,CAAA,KAAA,EAAA;AAAKF,QAAAA,KAAK,EAAC,oCAAA;AAAoC,OAAE,CAAC,CAAA;AAAA,KAC/C,CAAC,CAAA;GACL,CAAA;AAEL,EAAA,OACED,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,sCAAsC;AAACoF,IAAAA,QAAQ,EAAC,GAAG;AAC5DH,IAAAA,GAAG,EAAGpC,UAAY;AAClBwC,IAAAA,YAAY,EAAGrC,WAAa;IAC5BsC,YAAY,EAAGA,MAAK;MAClBC,YAAY,CAAC3C,OAAO,CAAC,CAAA;AACrBA,MAAAA,OAAO,GAAG,IAAI,CAAA;KACb;AACH4C,IAAAA,OAAO,EAAGxC,WAAa;AACvByC,IAAAA,SAAS,EAAGnC,oBAAsB;IAAArD,QAAA,EAAA,CAEjCb,KAAK,CAACa,QAAQ,EACdsC,OAAO,GACLH,MAAM,GACLsD,YAAY,CAACb,aAAa,EAAE,EAAEzC,MAAM,CAACwB,OAAO,CAAC,GAC3CiB,aAAa,EAAE,GACf,IAAI,CAAA;AAAA,GAEP,CAAC,CAAA;AAEV,CAAA;;AAGA;AACA,SAASf,QAAQA,CAACJ,CAAC,EAAEC,CAAC,EAAEgC,MAAM,EAAE;EAC9B,MAAM;IAAEC,GAAG;IAAEC,KAAK;IAAEC,MAAM;AAAEC,IAAAA,IAAAA;AAAK,GAAC,GAAGJ,MAAM,CAAA;AAC3C,EAAA,OAAOjC,CAAC,IAAIqC,IAAI,IAAIrC,CAAC,IAAImC,KAAK,IAAIlC,CAAC,IAAIiC,GAAG,IAAIjC,CAAC,IAAImC,MAAM,CAAA;AAC3D,CAAA;AAEA,SAASd,kBAAkBA,CAACgB,UAAU,EAAE;AACtC,EAAA,MAAMC,WAAW,GAAGD,UAAU,CAACjC,qBAAqB,EAAE,CAAA;AAEtD,EAAA,MAAM8B,KAAK,GAAI,CAAA,YAAA,EAAcI,WAAW,CAACvC,CAAE,CAAI,GAAA,CAAA,CAAA;EAC/C,MAAMkC,GAAG,GAAI,CAAEK,EAAAA,WAAW,CAACL,GAAG,GAAG,EAAG,CAAG,EAAA,CAAA,CAAA;AAEvC,EAAA,OAAQ,CAASC,OAAAA,EAAAA,KAAM,CAASD,OAAAA,EAAAA,GAAI,CAAE,CAAA,CAAA,CAAA;AACxC,CAAA;AAEA,SAASlB,SAASA,CAACrF,OAAO,EAAE;AAC1B,EAAA,OAAOA,OAAO,CAAC6G,OAAO,CAAC,QAAQ,CAAC,CAAA;AAClC,CAAA;AAEA,SAAS/D,UAAQA,CAACP,EAAE,EAAE;EACpB,OAAQ,CAAA,qBAAA,EAAwBA,EAAI,CAAC,CAAA,CAAA;AACvC;;AC5KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASuE,qBAAqBA,CAACvE,EAAE,EAAEvC,OAAO,EAAE;EACjD,MAAM;AACJyB,IAAAA,mBAAAA;AACF,GAAC,GAAGe,UAAU,CAAClB,kBAAkB,CAAC,CAAA;AAElC,EAAA,OAAOG,mBAAmB,CAACc,EAAE,EAAEvC,OAAO,CAAC,CAAA;AACzC;;ACzBO,SAAS+G,QAAQA,CAACxE,EAAE,EAAE;EAC3B,MAAM;AAAEZ,IAAAA,MAAAA;AAAO,GAAC,GAAGa,UAAU,CAACd,aAAa,CAAC,CAAA;EAE5C,OAAOC,MAAM,CAAEY,EAAE,CAAE,CAAA;AACrB,CAAA;AAEO,SAASyE,SAASA,GAAG;EAC1B,MAAM;AAAErF,IAAAA,MAAAA;AAAO,GAAC,GAAGa,UAAU,CAACd,aAAa,CAAC,CAAA;AAE5C,EAAA,OAAOC,MAAM,CAAA;AACf;;ACTA;AACA;AACA;AACA;AACA;AACA;AACO,SAASsF,QAAQA,CAACrD,KAAK,EAAEsD,QAAQ,EAAErF,QAAQ,EAAE;AAClD,EAAA,MAAMsF,YAAY,GAAG3E,UAAU,CAACZ,YAAY,CAAC,CAAA;EAE7C,IAAI,CAACC,QAAQ,EAAE;IACb,CAAC;AAAEA,MAAAA,QAAAA;AAAS,KAAC,GAAGsF,YAAY,EAAA;AAC9B,GAAA;AAEA,EAAA,MAAMC,QAAQ,GAAG3D,MAAM,CAAC,KAAK,CAAC,CAAA;;AAE9B;AACA,EAAA,IAAI5B,QAAQ,IAAI,CAACuF,QAAQ,CAAC7C,OAAO,EAAE;AACjC1C,IAAAA,QAAQ,CAACwF,EAAE,CAACzD,KAAK,EAAEsD,QAAQ,CAAC,CAAA;AAC9B,GAAA;;AAEA;AACAvC,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAI9C,QAAQ,IAAIuF,QAAQ,CAAC7C,OAAO,EAAE;AAChC1C,MAAAA,QAAQ,CAACwF,EAAE,CAACzD,KAAK,EAAEsD,QAAQ,CAAC,CAAA;AAC9B,KAAA;IAEAE,QAAQ,CAAC7C,OAAO,GAAG,IAAI,CAAA;AAEvB,IAAA,OAAO,MAAM;AACX,MAAA,IAAI1C,QAAQ,EAAE;AACZA,QAAAA,QAAQ,CAACyF,GAAG,CAAC1D,KAAK,EAAEsD,QAAQ,CAAC,CAAA;AAC/B,OAAA;KACD,CAAA;GACF,EAAE,CAAEA,QAAQ,EAAEtD,KAAK,EAAE/B,QAAQ,CAAE,CAAC,CAAA;AACnC;;ACrCA,MAAM0F,UAAU,GAAG,CAAC,CAAA;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,aAAaA,CAACC,YAAY,GAAG,EAAE,EAAE;EAC/C,MAAMC,GAAG,GAAGC,OAAO,CAAC,MAAM,IAAIC,GAAG,EAAE,EAAEH,YAAY,CAAC,CAAA;EAElD,MAAMI,MAAM,GAAGzC,EAAE,IAAI;AACnB,IAAA,IAAI0C,GAAG,GAAGJ,GAAG,CAACK,GAAG,CAAC3C,EAAE,CAAC,CAAA;IAErB,IAAI,CAAC0C,GAAG,EAAE;AACRA,MAAAA,GAAG,GAAGE,IAAI,CAACC,MAAM,EAAE,CAACC,QAAQ,EAAE,CAACC,KAAK,CAAC,CAACZ,UAAU,CAAC,CAAA;AACjDG,MAAAA,GAAG,CAACU,GAAG,CAAChD,EAAE,EAAE0C,GAAG,CAAC,CAAA;AAClB,KAAA;AAEA,IAAA,OAAOA,GAAG,CAAA;GACX,CAAA;AAED,EAAA,OAAOD,MAAM,CAAA;AACf;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASQ,cAAcA,CAACC,IAAI,EAAEC,YAAY,EAAE;EACjD,MAAM;IACJtG,eAAe;AACfC,IAAAA,eAAAA;AACF,GAAC,GAAGM,UAAU,CAACV,aAAa,CAAC,CAAA;AAE7B,EAAA,MAAM0G,YAAY,GAAGvG,eAAe,CAACqG,IAAI,EAAEC,YAAY,CAAC,CAAA;AAExD,EAAA,MAAME,QAAQ,GAAGC,WAAW,CAAGC,QAAQ,IAAK;AAC1CzG,IAAAA,eAAe,CAACoG,IAAI,EAAEK,QAAQ,CAAC,CAAA;AACjC,GAAC,EAAE,CAAEzG,eAAe,CAAE,CAAC,CAAA;AAGvB,EAAA,OAAO,CAAEsG,YAAY,EAAEC,QAAQ,CAAE,CAAA;AACnC;;ACjCA;AACA;AACA;AACA;AACA;AACA;;AAEO,SAASG,WAAWA,CAAChG,KAAK,EAAE;AACjC,EAAA,MAAMgD,GAAG,GAAGnC,MAAM,EAAE,CAAA;AACpBkB,EAAAA,SAAS,CAAC,MAAM;IACdiB,GAAG,CAACrB,OAAO,GAAG3B,KAAK,CAAA;AACrB,GAAC,CAAC,CAAA;EACF,OAAOgD,GAAG,CAACrB,OAAO,CAAA;AACpB;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASsE,iBAAiBA,CAACtG,EAAE,EAAE;EACpC,MAAM;AAAEuG,IAAAA,MAAAA;AAAO,GAAC,GAAGtG,UAAU,CAACuG,aAAsB,CAAC,CAAA;AAErD,EAAA,MAAMnD,GAAG,GAAGnC,MAAM,EAAE,CAAA;AAEpB,EAAA,MAAMuF,KAAK,GAAGvF,MAAM,CAAC,KAAK,CAAC,CAAA;AAE3B,EAAA,MAAMwF,WAAW,GAAGP,WAAW,CAAE9E,KAAK,IAAK;AACzC,IAAA,IAAIA,KAAK,CAACrB,EAAE,KAAKA,EAAE,EAAE;AACnBuG,MAAAA,MAAM,EAAE,CAAA;AAER,MAAA,IAAI,CAACE,KAAK,CAACzE,OAAO,EAAE;QAClByE,KAAK,CAACzE,OAAO,GAAG,IAAI,CAAA;AACtB,OAAA;AACF,KAAA;AACF,GAAC,EAAE,CAAEhC,EAAE,CAAE,CAAC,CAAA;AAEVoC,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAIqE,KAAK,CAACzE,OAAO,IAAIqB,GAAG,CAACrB,OAAO,EAAE;MAChC,IAAI2E,UAAU,CAACtD,GAAG,CAACrB,OAAO,CAACyE,KAAK,CAAC,EAAE;AACjCpD,QAAAA,GAAG,CAACrB,OAAO,CAACyE,KAAK,EAAE,CAAA;AACrB,OAAA;MAEA,IAAIE,UAAU,CAACtD,GAAG,CAACrB,OAAO,CAAC4E,MAAM,CAAC,EAAE;AAClCvD,QAAAA,GAAG,CAACrB,OAAO,CAAC4E,MAAM,EAAE,CAAA;AACtB,OAAA;MAEAH,KAAK,CAACzE,OAAO,GAAG,KAAK,CAAA;AACvB,KAAA;AACF,GAAC,CAAC,CAAA;AAEF0C,EAAAA,QAAQ,CAAC,2BAA2B,EAAEgC,WAAW,CAAC,CAAA;AAElD,EAAA,OAAOrD,GAAG,CAAA;AACZ;;ACzCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASwD,6BAA6BA,CAACxD,GAAG,EAAEyD,uBAAuB,EAAEC,SAAS,EAAE;AAErF,EAAA,MAAM,CAAEC,eAAe,EAAEC,kBAAkB,CAAE,GAAGpG,QAAQ,CAACqG,KAAQ,CAACJ,uBAAuB,CAAC,CAAC,CAAA;AAE3F,EAAA,MAAMK,qBAAqB,GAAGhB,WAAW,CAAC,MAAM;AAC9C,IAAA,MAAMiB,kBAAkB,GAAGF,KAAQ,CAACJ,uBAAuB,CAAC,CAAA;IAE5D,IAAIM,kBAAkB,KAAKJ,eAAe,EAAE;MAC1CC,kBAAkB,CAACG,kBAAkB,CAAC,CAAA;AACxC,KAAA;AACF,GAAC,EAAE,CAAEN,uBAAuB,EAAEE,eAAe,CAAE,CAAC,CAAA;AAEhD5E,EAAAA,SAAS,CAAC,MAAM;AACd+E,IAAAA,qBAAqB,EAAE,CAAA;AACzB,GAAC,EAAE,CAAEA,qBAAqB,CAAE,CAAC,CAAA;AAE7BzC,EAAAA,QAAQ,CAAC,wBAAwB,EAAEyC,qBAAqB,CAAC,CAAA;AACzDzC,EAAAA,QAAQ,CAAC,wBAAwB,EAAEyC,qBAAqB,CAAC,CAAA;AAEzD/E,EAAAA,SAAS,CAAC,MAAM;IACd,MAAMiF,QAAQ,GAAGC,oBAAoB,CAAA;;AAErC;IACA,IAAI,CAACD,QAAQ,EAAE;AACb,MAAA,OAAA;AACF,KAAA;;AAEA;AACA,IAAA,IAAI,CAAChE,GAAG,CAACrB,OAAO,IAAI,CAACgF,eAAe,EAAE;AACpC,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,MAAMO,QAAQ,GAAG,IAAIF,QAAQ,CAAEG,OAAO,IAAK;AAEzC;AACA,MAAA,IAAIR,eAAe,CAACS,YAAY,KAAK,CAAC,EAAE;AACtC,QAAA,OAAA;AACF,OAAA;AAEAD,MAAAA,OAAO,CAACE,OAAO,CAACC,KAAK,IAAI;AACvB,QAAA,IAAIA,KAAK,CAACC,iBAAiB,GAAG,CAAC,EAAE;UAC/Bb,SAAS,CAAC,IAAI,CAAC,CAAA;AACjB,SAAC,MACI,IAAIY,KAAK,CAACC,iBAAiB,KAAK,CAAC,EAAE;UACtCb,SAAS,CAAC,KAAK,CAAC,CAAA;AAClB,SAAA;AACF,OAAC,CAAC,CAAA;AACJ,KAAC,EACD;AACEc,MAAAA,IAAI,EAAEb,eAAe;AACrBc,MAAAA,UAAU,EAAE,qBAAqB;AAAE;MACnCC,SAAS,EAAE,CAAE,CAAC,CAAA;AAChB,KAAC,CAAC,CAAA;AACFR,IAAAA,QAAQ,CAACS,OAAO,CAAC3E,GAAG,CAACrB,OAAO,CAAC,CAAA;;AAE7B;AACA,IAAA,OAAO,MAAM;AACXuF,MAAAA,QAAQ,CAACU,SAAS,CAAC5E,GAAG,CAACrB,OAAO,CAAC,CAAA;KAChC,CAAA;GAEF,EAAE,CAAEqB,GAAG,CAACrB,OAAO,EAAEgF,eAAe,EAAED,SAAS,CAAE,CAAC,CAAA;AACjD;;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASmB,iBAAiBA,CAACvD,QAAQ,EAAE;AAC1C,EAAA,MAAMwD,WAAW,GAAGjH,MAAM,CAACyD,QAAQ,CAAC,CAAA;EACpCwD,WAAW,CAACnG,OAAO,GAAG2C,QAAQ,CAAA;AAE9B,EAAA,OAAOwB,WAAW,CAChB,CAAC,GAAGiC,IAAI,KAAKD,WAAW,CAACnG,OAAO,CAAC,GAAGoG,IAAI,CAAC,EACzC,EACF,CAAC,CAAA;AACH;;ACUe,SAASC,KAAKA,CAAC7K,KAAK,EAAE;EACnC,MAAM;IACJC,OAAO;AACP+J,IAAAA,OAAO,GAAG,EAAE;IACZxH,EAAE;IACFjC,KAAK;AACLuK,IAAAA,UAAU,GAAG,KAAA;AACf,GAAC,GAAG9K,KAAK,CAAA;AAET,EAAA,MAAM+K,QAAQ,GAAGrH,MAAM,CAAC,IAAI,CAAC,CAAA;AAE7B,EAAA,MAAM,CAAEsH,IAAI,EAAEC,OAAO,CAAE,GAAG3C,cAAc,CACtC,CAAE,QAAQ,EAAE9F,EAAE,EAAE,MAAM,CAAE,EACxBsI,UACF,CAAC,CAAA;AAED,EAAA,MAAM/B,MAAM,GAAGJ,WAAW,CAAC,MAAMsC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAEA,OAAO,CAAE,CAAC,CAAA;EAE5D,MAAMC,UAAU,GAAGA,MAAMD,OAAO,CAAC,CAACD,IAAI,CAAC,CAAA;EAEvC,MAAM,CAAEG,MAAM,EAAEC,SAAS,CAAE,GAAG/H,QAAQ,CAAC,KAAK,CAAC,CAAA;EAE7C,MAAM,CAAEgI,MAAM,EAAE9B,SAAS,CAAE,GAAGlG,QAAQ,CAAC,KAAK,CAAC,CAAA;;AAE7C;AACAuB,EAAAA,SAAS,CAAC,MAAM;AAEd;AACA,IAAA,MAAM0G,SAAS,GAAGC,qBAAqB,CAAC,MAAM;AAC5C,MAAA,MAAMC,iBAAiB,GAAGxB,OAAO,CAACyB,IAAI,CAACtB,KAAK,IAAI;QAC9C,MAAM;UACJ3H,EAAE;AACFkJ,UAAAA,QAAAA;AACF,SAAC,GAAGvB,KAAK,CAAA;AAET,QAAA,MAAMwB,SAAS,GAAGjC,KAAQ,CAAE,CAAkBlH,gBAAAA,EAAAA,EAAG,IAAG,CAAC,CAAA;QAErD,IAAI,CAAC2G,UAAU,CAACuC,QAAQ,CAAC,IAAI,CAACC,SAAS,EAAE;AACvC,UAAA,OAAO,KAAK,CAAA;AACd,SAAA;AAEA,QAAA,MAAMC,SAAS,GAAGlC,KAAQ,CAAC,6BAA6B,EAAEiC,SAAS,CAAC,CAAA;QAEpE,OAAOD,QAAQ,CAACE,SAAS,CAAC,CAAA;AAC5B,OAAC,CAAC,CAAA;MAEFR,SAAS,CAACI,iBAAiB,CAAC,CAAA;AAC9B,KAAC,CAAC,CAAA;AAEF,IAAA,OAAO,MAAMK,oBAAoB,CAACP,SAAS,CAAC,CAAA;AAC9C,GAAC,EAAE,CAAEtB,OAAO,EAAEoB,SAAS,CAAE,CAAC,CAAA;;AAE1B;AACA,EAAA,MAAMU,SAAS,GAAG7E,SAAS,EAAE,CAAA;AAC7B,EAAA,MAAM8E,SAAS,GAAG/B,OAAO,CAACgC,IAAI,CAAC7B,KAAK,IAAI2B,SAAS,CAAC3B,KAAK,CAAC3H,EAAE,CAAC,CAAC,CAAA;;AAE5D;AACA6G,EAAAA,6BAA6B,CAAC0B,QAAQ,EAAE,2CAA2C,EAAExB,SAAS,CAAC,CAAA;AAE/F,EAAA,MAAM0C,sBAAsB,GAAG;IAC7B,GAAGxJ,UAAU,CAACuG,aAAsB,CAAC;AACrCD,IAAAA,MAAAA;GACD,CAAA;AAED,EAAA,OAAOpI,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,4BAA4B;IAAC,eAAgB,EAAA,QAAQ,GAAG4B,EAAI;AAACqD,IAAAA,GAAG,EAAGkF,QAAU;AAAAlK,IAAAA,QAAA,GAC7FF,IAAA,CAAA,KAAA,EAAA;MAAKC,KAAK,EAAGsL,UAAU,CACrB,mCAAmC,EACnCf,MAAM,GAAG,EAAE,GAAG,OAAO,EACrBH,IAAI,GAAG,MAAM,GAAG,EAAE,EACjBK,MAAM,IAAIL,IAAI,GAAI,QAAQ,GAAG,EAChC,CAAG;AAAClF,MAAAA,OAAO,EAAGoF,UAAY;AAAArK,MAAAA,QAAA,GACxBC,GAAA,CAAA,KAAA,EAAA;AACEI,QAAAA,KAAK,EAAGlB,KAAK,CAACqC,OAAO,GAAG,IAAI,GAAG9B,KAAO;AACtC,QAAA,YAAA,EAAaA,KAAO;AACpBK,QAAAA,KAAK,EAAC,yCAAyC;QAAAC,QAAA,EAE/CC,GAAA,CAACgC,cAAO,EAAA;UAACD,KAAK,EAAG7C,KAAK,CAACqC,OAAS;UAACM,KAAK,EAAG,QAAQ,GAAGH,EAAI;AAACvC,UAAAA,OAAO,EAAGA,OAAS;AAAC+C,UAAAA,MAAM,EAAG+H,QAAU;AAAAlK,UAAAA,QAAA,EAC5FN,KAAAA;SACK,CAAA;OACN,CAAC,EACNI,IAAA,CAAA,KAAA,EAAA;AAAKC,QAAAA,KAAK,EAAC,2CAA2C;QAAAC,QAAA,EAAA,CAElDC,GAAA,CAACqL,UAAU,EAAA;AACThB,UAAAA,MAAM,EAAGA,MAAQ;AACjBY,UAAAA,SAAS,EAAGA,SAAAA;SACb,CAAC,EAEJjL,GAAA,CAAA,QAAA,EAAA;AACEN,UAAAA,IAAI,EAAC,QAAQ;AACbU,UAAAA,KAAK,EAAC,gBAAgB;AACtBN,UAAAA,KAAK,EAAC,qEAAqE;UAAAC,QAAA,EAE3EC,GAAA,CAACsL,SAAS,EAAA;AAACxL,YAAAA,KAAK,EAAGoK,IAAI,GAAG,iCAAiC,GAAG,kCAAA;WAAsC,CAAA;AAAC,SAC/F,CAAC,CAAA;AAAA,OACN,CAAC,CAAA;KACH,CAAC,EACNlK,GAAA,CAAA,KAAA,EAAA;MAAKF,KAAK,EAAGsL,UAAU,CACrB,oCAAoC,EACpClB,IAAI,GAAG,MAAM,GAAG,EAClB,CAAG;AAAAnK,MAAAA,QAAA,EACDC,GAAA,CAACkI,aAAsB,CAACqD,QAAQ,EAAA;AAACxJ,QAAAA,KAAK,EAAGoJ,sBAAwB;AAAApL,QAAAA,QAAA,EAE7DmJ,OAAO,CAACrC,GAAG,CAACwC,KAAK,IAAI;UACnB,MAAM;AACJmC,YAAAA,SAAS,EAAEC,SAAS;AACpB/J,YAAAA,EAAAA;AACF,WAAC,GAAG2H,KAAK,CAAA;UAET,OACEqC,aAAA,CAACD,SAAS,EAAA;AAAA,YAAA,GACHpC,KAAK;AACVlK,YAAAA,OAAO,EAAGA,OAAS;AACnB8H,YAAAA,GAAG,EAAGvF,EAAAA;AAAI,WAAE,CAAC,CAAA;SAElB,CAAA;OAE4B,CAAA;AAAC,KAC/B,CAAC,CAAA;AAAA,GACH,CAAC,CAAA;AACR,CAAA;AAEA,SAAS2J,UAAUA,CAACnM,KAAK,EAAE;EACzB,MAAM;IACJmL,MAAM;AACNY,IAAAA,SAAAA;AACF,GAAC,GAAG/L,KAAK,CAAA;AAET,EAAA,IAAI+L,SAAS,EAAE;AACb,IAAA,OACEjL,GAAA,CAAA,KAAA,EAAA;AAAKI,MAAAA,KAAK,EAAC,2BAA2B;AAACN,MAAAA,KAAK,EAAC,0DAAA;AAA0D,KAAM,CAAC,CAAA;AAElH,GAAA;AAEA,EAAA,IAAIuK,MAAM,EAAE;AACV,IAAA,OACErK,GAAA,CAAA,KAAA,EAAA;AAAKI,MAAAA,KAAK,EAAC,uBAAuB;AAACN,MAAAA,KAAK,EAAC,0BAAA;AAA0B,KAAM,CAAC,CAAA;AAE9E,GAAA;AACA,EAAA,OAAO,IAAI,CAAA;AACb;;AC7KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAAS6L,WAAWA,CAACzM,KAAK,EAAE;EACzC,MAAM;IACJ0M,IAAI;AACJC,IAAAA,IAAI,EAAEC,IAAAA;AACR,GAAC,GAAG5M,KAAK,CAAA;AAET,EAAA,OACEc,GAAA,CAAA,KAAA,EAAA;AAAKF,IAAAA,KAAK,EAAC,2BAA2B;AAAAC,IAAAA,QAAA,EACpCF,IAAA,CAAA,SAAA,EAAA;AAASC,MAAAA,KAAK,EAAC,kCAAkC;AAAAC,MAAAA,QAAA,EAC7C+L,CAAAA,IAAI,IAAI9L,GAAA,CAAC8L,IAAI,EAAA;AAAChM,QAAAA,KAAK,EAAC,uCAAA;OAAyC,CAAC,EAChEE,GAAA,CAAA,GAAA,EAAA;AAAGF,QAAAA,KAAK,EAAC,uCAAuC;AAAAC,QAAAA,QAAA,EAAG6L,IAAAA;AAAI,OAAK,CAAC,CAAA;KACtD,CAAA;AAAC,GACP,CAAC,CAAA;AAEV;;ACZe,SAASG,WAAWA,CAAC7M,KAAK,EAAE;EACzC,MAAM;IACJC,OAAO;IACP0C,KAAK;AACLE,IAAAA,KAAAA;AACF,GAAC,GAAG7C,KAAK,CAAA;AAET,EAAA,MAAM4C,kBAAkB,GAAGmE,qBAAqB,CAACpE,KAAK,EAAE1C,OAAO,CAAC,CAAA;AAEhE,EAAA,MAAMwB,WAAW,GAAGoB,KAAK,IAAID,kBAAkB,CAAA;AAE/C,EAAA,IAAInB,WAAW,EAAE;AACf,IAAA,OACEX,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,kCAAkC;AAAAC,MAAAA,QAAA,EACzCY,WAAAA;AAAW,KACV,CAAC,CAAA;AAEV,GAAA;AACF;;ACnBA,MAAMqL,MAAI,GAAGA,MAAM,EAAE,CAAA;;AAErB;AACA;AACA;AACA;AACA,MAAMC,kBAAgB,GAAG,UAASC,MAAM,EAAEnH,GAAG,EAAE;EAE7C,MAAM,CAAEoH,MAAM,EAAEC,SAAS,CAAE,GAAG7J,QAAQ,CAAC8J,SAAS,CAAC,CAAA;AAEjDtH,EAAAA,GAAG,CAACrB,OAAO,GAAGoD,OAAO,CAAC,OAAO;IAC3BqB,KAAK,EAAGmE,MAAM,IAAK;AACjB,MAAA,IAAIJ,MAAM,EAAE;AACVA,QAAAA,MAAM,CAAC/D,KAAK,CAACmE,MAAM,CAAC,CAAA;AACtB,OAAC,MAAM;AACL,QAAA,IAAI,OAAOA,MAAM,KAAK,WAAW,EAAE;AACjCA,UAAAA,MAAM,GAAGC,QAAQ,CAAA;AACnB,SAAA;QACAH,SAAS,CAACE,MAAM,CAAC,CAAA;AACnB,OAAA;AACF,KAAA;AACF,GAAC,CAAC,EAAE,CAAEJ,MAAM,CAAE,CAAC,CAAA;AAEfpI,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAI,OAAOqI,MAAM,KAAK,WAAW,IAAID,MAAM,EAAE;AAC3CA,MAAAA,MAAM,CAAC/D,KAAK,CAACgE,MAAM,CAAC,CAAA;MACpBC,SAAS,CAAC,KAAK,CAAC,CAAA;AAClB,KAAA;AACF,GAAC,EAAE,CAAEF,MAAM,EAAEC,MAAM,CAAE,CAAC,CAAA;AACxB,CAAC,CAAA;AAED,MAAMK,YAAU,GAAGC,UAAU,CAAC,CAACvN,KAAK,EAAE6F,GAAG,KAAK;EAE5C,MAAM;IACJ2H,OAAO;IACPC,QAAQ;IACRC,gBAAgB;IAChBC,aAAa;IACb9K,KAAK;AACL+K,IAAAA,MAAM,GAAGd,MAAI;AACbe,IAAAA,WAAW,GAAGf,MAAI;IAClBgB,SAAS;IACTC,iBAAiB,GAAG,EAAE;AACtBC,IAAAA,YAAY,GAAG,IAAI;AACnBC,IAAAA,UAAU,GAAG,KAAA;AACf,GAAC,GAAGjO,KAAK,CAAA;AAET,EAAA,MAAMkO,QAAQ,GAAGxK,MAAM,EAAE,CAAA;EACzB,MAAM,CAAEsJ,MAAM,EAAEmB,SAAS,CAAE,GAAG9K,QAAQ,EAAE,CAAA;EACxC,MAAM,CAAE+K,UAAU,EAAEC,aAAa,CAAE,GAAGhL,QAAQ,CAACR,KAAK,IAAI,EAAE,CAAC,CAAA;AAE3DkK,EAAAA,kBAAgB,CAACC,MAAM,EAAEnH,GAAG,CAAC,CAAA;AAE7B,EAAA,MAAMyI,WAAW,GAAG5D,iBAAiB,CAAC9B,QAAQ,IAAI;IAChD4E,OAAO,CAAC5E,QAAQ,CAAC,CAAA;IACjByF,aAAa,CAACzF,QAAQ,CAAC,CAAA;AACzB,GAAC,CAAC,CAAA;AAEFhE,EAAAA,SAAS,CAAC,MAAM;AAEd,IAAA,IAAIoI,MAAM,CAAA;IAEVA,MAAM,GAAG,IAAIuB,aAAa,CAAC;MACzBC,SAAS,EAAEN,QAAQ,CAAC1J,OAAO;AAC3BiK,MAAAA,QAAQ,EAAEH,WAAW;AACrBzL,MAAAA,KAAK,EAAEuL,UAAU;MACjBR,MAAM;MACNG,iBAAiB;MACjBL,gBAAgB;MAChBC,aAAa;MACbK,YAAY;AACZC,MAAAA,UAAAA;AACF,KAAC,CAAC,CAAA;IAEFE,SAAS,CACPnB,MACF,CAAC,CAAA;AAED,IAAA,OAAO,MAAM;MACXY,MAAM,CAAC,EAAE,CAAC,CAAA;AACVM,MAAAA,QAAQ,CAAC1J,OAAO,CAACkK,SAAS,GAAG,EAAE,CAAA;MAC/BP,SAAS,CAAC,IAAI,CAAC,CAAA;KAChB,CAAA;GACF,EAAE,EAAE,CAAC,CAAA;AAENvJ,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI,CAACoI,MAAM,EAAE;AACX,MAAA,OAAA;AACF,KAAA;IAEA,IAAInK,KAAK,KAAKuL,UAAU,EAAE;AACxB,MAAA,OAAA;AACF,KAAA;AAEApB,IAAAA,MAAM,CAAC2B,QAAQ,CAAC9L,KAAK,CAAC,CAAA;IACtBwL,aAAa,CAACxL,KAAK,CAAC,CAAA;AACtB,GAAC,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;EAEb,MAAM+L,WAAW,GAAGA,MAAM;AACxB/I,IAAAA,GAAG,CAACrB,OAAO,CAACyE,KAAK,EAAE,CAAA;GACpB,CAAA;AAED,EAAA,OAAOtI,IAAA,CAAA,KAAA,EAAA;IAAKC,KAAK,EAAGiO,UAAU,CAC5B,+CAA+C,EAC/Cf,SAAS,GAAG,WAAW,GAAG,IAC5B,CAAG;AAAAjN,IAAAA,QAAA,GACDC,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,6DAA6D;AAAAC,MAAAA,QAAA,EAAC,kBAAA;KAAqB,CAAC,EAC/FC,GAAA,CAAA,KAAA,EAAA;MACEgO,IAAI,EAAG9O,KAAK,CAAC8O,IAAM;AACnBlO,MAAAA,KAAK,EAAGiO,UAAU,CAAC,gEAAgE,EAAET,UAAU,GAAG,QAAQ,GAAG,IAAI,EAAEX,QAAQ,GAAG,UAAU,GAAG,IAAI,CAAG;AAClJ5H,MAAAA,GAAG,EAAGqI,QAAU;AAChBpI,MAAAA,OAAO,EAAG8I,WAAAA;KACN,CAAC,EAEP9N,GAAA,CAAA,QAAA,EAAA;AACEN,MAAAA,IAAI,EAAC,QAAQ;AACbU,MAAAA,KAAK,EAAC,oBAAoB;AAC1BN,MAAAA,KAAK,EAAC,sCAAsC;AAC5CkF,MAAAA,OAAO,EAAGA,MAAM+H,WAAW,CAAC,SAAS,CAAG;AAAAhN,MAAAA,QAAA,EAACC,GAAA,CAACQ,gBAAgB,EAAE,EAAA,CAAA;AAAC,KAAQ,CAAC,CAAA;AAAA,GACrE,CAAC,CAAA;AACR,CAAC,CAAC;;ACrHF,MAAMwL,MAAI,GAAGA,MAAM,EAAE,CAAA;;AAErB;AACA;AACA;AACA;AACA,MAAMC,gBAAgB,GAAG,UAASC,MAAM,EAAEnH,GAAG,EAAE;EAE7C,MAAM,CAAEoH,MAAM,EAAEC,SAAS,CAAE,GAAG7J,QAAQ,CAAC8J,SAAS,CAAC,CAAA;AAEjDtH,EAAAA,GAAG,CAACrB,OAAO,GAAGoD,OAAO,CAAC,OAAO;IAC3BqB,KAAK,EAAGmE,MAAM,IAAK;AACjB,MAAA,IAAIJ,MAAM,EAAE;AACVA,QAAAA,MAAM,CAAC/D,KAAK,CAACmE,MAAM,CAAC,CAAA;AACtB,OAAC,MAAM;AACL,QAAA,IAAI,OAAOA,MAAM,KAAK,WAAW,EAAE;AACjCA,UAAAA,MAAM,GAAGC,QAAQ,CAAA;AACnB,SAAA;QACAH,SAAS,CAACE,MAAM,CAAC,CAAA;AACnB,OAAA;AACF,KAAA;AACF,GAAC,CAAC,EAAE,CAAEJ,MAAM,CAAE,CAAC,CAAA;AAEfpI,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAI,OAAOqI,MAAM,KAAK,WAAW,IAAID,MAAM,EAAE;AAC3CA,MAAAA,MAAM,CAAC/D,KAAK,CAACgE,MAAM,CAAC,CAAA;MACpBC,SAAS,CAAC,KAAK,CAAC,CAAA;AAClB,KAAA;AACF,GAAC,EAAE,CAAEF,MAAM,EAAEC,MAAM,CAAE,CAAC,CAAA;AACxB,CAAC,CAAA;AAED,MAAMK,UAAU,GAAGC,UAAU,CAAC,CAACvN,KAAK,EAAE6F,GAAG,KAAK;EAE5C,MAAM;IACJkI,iBAAiB;IACjBJ,aAAa;IACb9K,KAAK;IACL2K,OAAO;AACPuB,IAAAA,YAAY,GAAGjC,MAAI;AACnBc,IAAAA,MAAM,GAAGd,MAAI;AACbe,IAAAA,WAAW,GAAGf,MAAI;IAClBgB,SAAS;IACTL,QAAQ;IACRC,gBAAgB;AAChBsB,IAAAA,SAAAA;AACF,GAAC,GAAGhP,KAAK,CAAA;AAET,EAAA,MAAMkO,QAAQ,GAAGxK,MAAM,EAAE,CAAA;EACzB,MAAM,CAAEsJ,MAAM,EAAEmB,SAAS,CAAE,GAAG9K,QAAQ,EAAE,CAAA;EACxC,MAAM,CAAE+K,UAAU,EAAEC,aAAa,CAAE,GAAGhL,QAAQ,CAACR,KAAK,IAAI,EAAE,CAAC,CAAA;AAE3DkK,EAAAA,gBAAgB,CAACC,MAAM,EAAEnH,GAAG,CAAC,CAAA;AAE7B,EAAA,MAAMyI,WAAW,GAAG5D,iBAAiB,CAAC9B,QAAQ,IAAI;IAChD4E,OAAO,CAAC5E,QAAQ,CAAC,CAAA;IACjByF,aAAa,CAACzF,QAAQ,CAAC,CAAA;AACzB,GAAC,CAAC,CAAA;AAEFhE,EAAAA,SAAS,CAAC,MAAM;AAEd,IAAA,IAAIoI,MAAM,CAAA;;AAEV;AACJ;AACA;AACA;AACA;IACI,MAAM3G,SAAS,GAAGlC,CAAC,IAAI;MACrB,IAAIA,CAAC,CAAC4D,GAAG,KAAK,WAAW,IAAI,CAACiF,MAAM,EAAE;AACpC,QAAA,OAAA;AACF,OAAA;AAEA,MAAA,MAAMiC,SAAS,GAAGjC,MAAM,CAACkC,YAAY,EAAE,CAAA;MACvC,MAAMC,KAAK,GAAGF,SAAS,CAACG,MAAM,CAACH,SAAS,CAACI,SAAS,CAAC,CAAA;MAEnD,IAAIF,KAAK,CAACG,IAAI,KAAK,CAAC,IAAIH,KAAK,CAACI,EAAE,KAAK,CAAC,EAAE;AACtCR,QAAAA,YAAY,EAAE,CAAA;AAChB,OAAA;KACD,CAAA;IAED/B,MAAM,GAAG,IAAIwC,UAAU,CAAC;MACtBhB,SAAS,EAAEN,QAAQ,CAAC1J,OAAO;AAC3BiK,MAAAA,QAAQ,EAAEH,WAAW;AACrBjI,MAAAA,SAAS,EAAEA,SAAS;AACpBuH,MAAAA,MAAM,EAAEA,MAAM;AACdF,MAAAA,gBAAgB,EAAEA,gBAAgB;AAClC7K,MAAAA,KAAK,EAAEuL,UAAU;AACjBY,MAAAA,SAAS,EAAEA,SAAS;AACpBS,MAAAA,UAAU,EAAE,CACV,IAAG9B,aAAa,GAAG,CAAE+B,WAAW,EAAE,CAAE,GAAG,EAAE,GACzCC,UAAU,CAACC,YAAY,CACxB;AACD7B,MAAAA,iBAAAA;AACF,KAAC,CAAC,CAAA;IAEFI,SAAS,CACPnB,MACF,CAAC,CAAA;AAED,IAAA,OAAO,MAAM;MACXY,MAAM,CAAC,EAAE,CAAC,CAAA;AACVM,MAAAA,QAAQ,CAAC1J,OAAO,CAACkK,SAAS,GAAG,EAAE,CAAA;MAC/BP,SAAS,CAAC,IAAI,CAAC,CAAA;KAChB,CAAA;GACF,EAAE,EAAE,CAAC,CAAA;AAENvJ,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI,CAACoI,MAAM,EAAE;AACX,MAAA,OAAA;AACF,KAAA;IAEA,IAAInK,KAAK,KAAKuL,UAAU,EAAE;AACxB,MAAA,OAAA;AACF,KAAA;AAEApB,IAAAA,MAAM,CAAC2B,QAAQ,CAAC9L,KAAK,CAAC,CAAA;IACtBwL,aAAa,CAACxL,KAAK,CAAC,CAAA;AACtB,GAAC,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;AAEb+B,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI,CAACoI,MAAM,EAAE;AACX,MAAA,OAAA;AACF,KAAA;AAEAA,IAAAA,MAAM,CAAC6C,YAAY,CAACb,SAAS,CAAC,CAAA;AAChC,GAAC,EAAE,CAAEA,SAAS,CAAE,CAAC,CAAA;EAEjB,MAAMJ,WAAW,GAAGA,MAAM;AACxB/I,IAAAA,GAAG,CAACrB,OAAO,CAACyE,KAAK,EAAE,CAAA;GACpB,CAAA;AAED,EAAA,OAAOtI,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAGiO,UAAU,CAC5B,4CAA4C,EAC5CpB,QAAQ,GAAG,UAAU,GAAG,IAAI,EAC5BK,SAAS,GAAG,WAAW,GAAG,IAAI,CAC/B;AAAAjN,IAAAA,QAAA,GACCC,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,0DAA0D;AAAAC,MAAAA,QAAA,EAAC,kBAAA;KAAqB,CAAC,EAC5FC,GAAA,CAAA,KAAA,EAAA;MACEgO,IAAI,EAAG9O,KAAK,CAAC8O,IAAM;MACnBlO,KAAK,EAAGiO,UAAU,CAAC,4BAA4B,EAAET,UAAU,GAAG,QAAQ,GAAG,IAAI,CAAG;AAChFvI,MAAAA,GAAG,EAAGqI,QAAU;AAChBpI,MAAAA,OAAO,EAAG8I,WAAAA;KACN,CAAC,EACP9N,GAAA,CAAA,QAAA,EAAA;AACEN,MAAAA,IAAI,EAAC,QAAQ;AACbU,MAAAA,KAAK,EAAC,oBAAoB;AAC1BN,MAAAA,KAAK,EAAC,sCAAsC;AAC5CkF,MAAAA,OAAO,EAAGA,MAAM+H,WAAW,EAAI;AAAAhN,MAAAA,QAAA,EAACC,GAAA,CAACgP,SAAS,EAAE,EAAA,CAAA;AAAC,KAAQ,CAAC,CAAA;AAAA,GACrD,CAAC,CAAA;AACR,CAAC,CAAC;;ACjKK,SAASC,aAAaA,CAAC/P,KAAK,EAAE;EACnC,MAAM;AACJgQ,IAAAA,MAAAA;AACF,GAAC,GAAGhQ,KAAK,CAAA;EAET,IAAI,CAACgQ,MAAM,EAAE;AACX,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;AAEA,EAAA,OAAOlP,GAAA,CAAA,MAAA,EAAA;AAAMF,IAAAA,KAAK,EAAC,qCAAqC;AAAAC,IAAAA,QAAA,EAAC,GAAA;AAEzD,GAAM,CAAC,CAAA;AACT;;ACTA,MAAMiM,MAAI,GAAGA,MAAM,EAAE,CAAA;;AAErB;AACA;AACA;AACA;AACA;AACe,SAASmD,QAAQA,CAACjQ,KAAK,EAAE;EAEtC,MAAM;AACJkQ,IAAAA,IAAI,GAAG,KAAK;IACZF,MAAM;AACNvC,IAAAA,QAAQ,GAAG,KAAK;AAChB3H,IAAAA,OAAO,GAAGgH,MAAAA;AACZ,GAAC,GAAG9M,KAAK,CAAA;EAET,MAAMmQ,iBAAiB,GAAG,8BAA8B,CAAA;EACxD,MAAMC,iBAAiB,GAAI,CAAWJ,SAAAA,EAAAA,MAAM,GAAG,QAAQ,GAAG,OAAQ,CAAoC,mCAAA,CAAA,CAAA;EAEtG,MAAMpB,WAAW,GAAGzK,CAAC,IAAI;IACvB2B,OAAO,CAAC3B,CAAC,CAAC,CAAA;;AAEV;AACA,IAAA,IAAI,CAACA,CAAC,CAACkM,WAAW,EAAE;MAClBlM,CAAC,CAAC4B,eAAe,EAAE,CAAA;AACrB,KAAA;GACD,CAAA;AAED,EAAA,OACEjF,GAAA,CAAA,QAAA,EAAA;AACEN,IAAAA,IAAI,EAAC,QAAQ;AACbI,IAAAA,KAAK,EAAGiO,UAAU,CAAC,gCAAgC,EACjDmB,MAAM,GAAG,QAAQ,GAAG,IAAI,EACxBE,IAAI,KAAK,UAAU,GAAG,UAAU,GAAG,UAAU,CAAG;AAClDpK,IAAAA,OAAO,EAAG8I,WAAa;AACvBnB,IAAAA,QAAQ,EAAGyC,IAAI,KAAK,UAAU,IAAIzC,QAAU;AAC5CvM,IAAAA,KAAK,EACHgP,IAAI,KAAK,UAAU,GAAGC,iBAAiB,GAAGC,iBAC3C;AAAAvP,IAAAA,QAAA,EAEDC,GAAA,CAACwP,UAAW,EAAE,EAAA,CAAA;AAAC,GACT,CAAC,CAAA;AAEb;;AC1CA,MAAMC,gBAAgB,GAAG/O,aAAa,CAAC;AACrCwJ,EAAAA,IAAI,EAAEA,MAAM,EAAE;AACdwF,EAAAA,KAAK,EAAEA,MAAM,EAAE;AACfC,EAAAA,MAAM,EAAE,IAAA;AACV,CAAC,CAAC;;ACNF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,aAAaA,CAACC,EAAE,EAAEC,WAAW,EAAE;AAE7C,EAAA,IAAIC,IAAI,CAAA;EAER,IAAIC,MAAM,EAAEC,MAAM,CAAA;;AAElB;EACA,SAASC,WAAWA,CAACnN,KAAK,EAAE;AAE1BgN,IAAAA,IAAI,GAAG,IAAI,CAAA;IAEXC,MAAM,GAAGjN,KAAK,CAACoN,OAAO,CAAA;IACtBF,MAAM,GAAGlN,KAAK,CAACqN,OAAO,CAAA;;AAEtB;IACA,IAAIrN,KAAK,CAACsN,YAAY,EAAE;AACtBtN,MAAAA,KAAK,CAACsN,YAAY,CAACC,YAAY,CAACR,WAAW,IAAIS,WAAW,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;AACrE,KAAA;;AAEA;;AAEA;AACA;AACA;AACA;IACAtM,QAAQ,CAACQ,gBAAgB,CAAC,UAAU,EAAE+L,MAAM,EAAE,IAAI,CAAC,CAAA;IACnDvM,QAAQ,CAACQ,gBAAgB,CAAC,WAAW,EAAEgM,cAAc,EAAE,IAAI,CAAC,CAAA;AAE5DxM,IAAAA,QAAQ,CAACQ,gBAAgB,CAAC,SAAS,EAAEiM,KAAK,CAAC,CAAA;AAC3CzM,IAAAA,QAAQ,CAACQ,gBAAgB,CAAC,MAAM,EAAEgM,cAAc,CAAC,CAAA;AACnD,GAAA;EAEA,SAASD,MAAMA,CAACzN,KAAK,EAAE;AACrB,IAAA,MAAM4N,KAAK,GAAG;AACZnN,MAAAA,CAAC,EAAET,KAAK,CAACoN,OAAO,GAAGH,MAAM;AACzBvM,MAAAA,CAAC,EAAEV,KAAK,CAACqN,OAAO,GAAGH,MAAAA;KACpB,CAAA;;AAED;IACA,OAAOJ,EAAE,CAACe,IAAI,CAACb,IAAI,EAAEhN,KAAK,EAAE4N,KAAK,CAAC,CAAA;AACpC,GAAA;EAEA,SAASD,KAAKA,GAAG;IACfzM,QAAQ,CAACS,mBAAmB,CAAC,UAAU,EAAE8L,MAAM,EAAE,IAAI,CAAC,CAAA;IACtDvM,QAAQ,CAACS,mBAAmB,CAAC,WAAW,EAAE+L,cAAc,EAAE,IAAI,CAAC,CAAA;AAE/DxM,IAAAA,QAAQ,CAACS,mBAAmB,CAAC,SAAS,EAAEgM,KAAK,CAAC,CAAA;AAC9CzM,IAAAA,QAAQ,CAACS,mBAAmB,CAAC,MAAM,EAAE+L,cAAc,CAAC,CAAA;AACtD,GAAA;AAEA,EAAA,OAAOP,WAAW,CAAA;AACpB,CAAA;AAEA,SAASO,cAAcA,CAAC1N,KAAK,EAAE;EAC7BA,KAAK,CAAC0N,cAAc,EAAE,CAAA;EACtB1N,KAAK,CAACkC,eAAe,EAAE,CAAA;AACzB,CAAA;AAEA,SAASsL,WAAWA,GAAG;EACrB,OAAOM,MAAM,CAAC,iCAAiC,CAAC,CAAA;AAClD;;AC/DA,MAAM7E,MAAI,GAAGA,MAAM,EAAE,CAAA;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS8E,cAAcA,CAAC5R,KAAK,EAAE6R,SAAS,EAAE;EAExC,MAAM;IACJrD,SAAS;IACTsD,SAAS;IACTC,iBAAiB;IACjB7O,QAAQ;IACRnC,KAAK;IACLC,MAAM;IACNgR,OAAO;AACPC,IAAAA,cAAc,GAAGnF,MAAI;AACrBoF,IAAAA,gBAAgB,GAAGpF,MAAI;AACvBqF,IAAAA,WAAW,GAAG,IAAI;AAClBC,IAAAA,aAAa,GAAG,IAAI;AACpBlR,IAAAA,KAAAA;AACF,GAAC,GAAGlB,KAAK,CAAA;AAET,EAAA,MAAMqS,YAAY,GAAG3O,MAAM,CAAC,IAAI,CAAC,CAAA;AACjC,EAAA,MAAM4O,QAAQ,GAAG5O,MAAM,CAAC,IAAI,CAAC,CAAA;AAC7B,EAAA,MAAM6O,QAAQ,GAAGV,SAAS,IAAIS,QAAQ,CAAA;AAEtC,EAAA,MAAME,aAAa,GAAG5K,OAAO,CAAC,MAAM6K,gBAAgB,CAACjE,SAAS,CAAC,EAAE,CAAEA,SAAS,CAAE,CAAC,CAAA;EAE/E,MAAMkE,aAAa,GAAG7O,KAAK,IAAI;AAE7B;IACAA,KAAK,CAACkC,eAAe,EAAE,CAAA;AAEvB,IAAA,IAAIqM,aAAa,IAAIvO,KAAK,CAACkE,GAAG,KAAK,QAAQ,EAAE;AAC3CiK,MAAAA,OAAO,EAAE,CAAA;AACX,KAAA;GACD,CAAA;;AAED;EACA,MAAMW,WAAW,GAAGA,MAAM;IACxB,IAAIN,YAAY,CAAC7N,OAAO,EAAE;AACxB6N,MAAAA,YAAY,CAAC7N,OAAO,CAACoO,QAAQ,EAAE,CAAA;AACjC,KAAA;GACD,CAAA;EAED,IAAIjN,KAAK,GAAG,EAAE,CAAA;AAEd,EAAA,IAAIzC,QAAQ,EAAE;AACZyC,IAAAA,KAAK,GAAG;AACN,MAAA,GAAGA,KAAK;AACRa,MAAAA,GAAG,EAAEtD,QAAQ,CAACsD,GAAG,GAAG,IAAI;AACxBG,MAAAA,IAAI,EAAEzD,QAAQ,CAACyD,IAAI,GAAG,IAAA;KACvB,CAAA;AACH,GAAA;AAEA,EAAA,IAAI5F,KAAK,EAAE;AACT4E,IAAAA,KAAK,CAAC5E,KAAK,GAAGA,KAAK,GAAG,IAAI,CAAA;AAC5B,GAAA;AAEA,EAAA,IAAIC,MAAM,EAAE;AACV2E,IAAAA,KAAK,CAAC3E,MAAM,GAAGA,MAAM,GAAG,IAAI,CAAA;AAC9B,GAAA;AAEA4D,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI2N,QAAQ,CAAC/N,OAAO,EAAE;MACpB+N,QAAQ,CAAC/N,OAAO,CAACe,gBAAgB,CAAC,SAAS,EAAEoN,WAAW,CAAC,CAAA;AAC3D,KAAA;AAEA,IAAA,OAAO,MAAM;MAAEJ,QAAQ,CAAC/N,OAAO,CAACgB,mBAAmB,CAAC,SAAS,EAAEmN,WAAW,CAAC,CAAA;KAAG,CAAA;AAChF,GAAC,EAAE,CAAEJ,QAAQ,CAAE,CAAC,CAAA;AAEhB3N,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI2N,QAAQ,CAAC/N,OAAO,EAAE;MACpB6N,YAAY,CAAC7N,OAAO,GAAGqO,SAAS,CAACC,eAAe,CAACP,QAAQ,CAAC/N,OAAO,EAAE;AACjEuO,QAAAA,uBAAuB,EAAE,IAAI;QAC7BhB,iBAAiB;QACjBiB,aAAa,EAAET,QAAQ,CAAC/N,OAAO;QAC/ByN,cAAc;QACdC,gBAAgB;AAChBe,QAAAA,uBAAuB,EAAEd,WAAAA;AAC3B,OAAC,CAAC,CAAA;AAEFE,MAAAA,YAAY,CAAC7N,OAAO,CAACoO,QAAQ,EAAE,CAAA;AACjC,KAAA;IAEA,OAAO,MAAMP,YAAY,CAAC7N,OAAO,IAAI6N,YAAY,CAAC7N,OAAO,CAAC0O,UAAU,EAAE,CAAA;AACxE,GAAC,EAAE,CAAEX,QAAQ,CAAE,CAAC,CAAA;AAEhBrL,EAAAA,QAAQ,CAAC,wBAAwB,EAAE8K,OAAO,CAAC,CAAA;EAE3C,OAAO1L,YAAY,CACjBxF,GAAA,CAAA,KAAA,EAAA;AACE,IAAA,YAAA,EAAaI,KAAO;IACpB8E,QAAQ,EAAG,CAAC,CAAG;AACfH,IAAAA,GAAG,EAAG0M,QAAU;AAChBlM,IAAAA,SAAS,EAAGqM,aAAe;AAC3BhN,IAAAA,IAAI,EAAC,QAAQ;AACb9E,IAAAA,KAAK,EAAGiO,UAAU,CAAC,4BAA4B,EAAEiD,SAAS,CAAG;AAC7DnM,IAAAA,KAAK,EAAGA,KAAO;IAAA9E,QAAA,EAAGb,KAAK,CAACa,QAAAA;AAAQ,GAAO,CAAC,EACxC2R,aAAa,IAAIzN,QAAQ,CAACoO,IAC9B,CAAC,CAAA;AACH,CAAA;MAEaC,KAAK,GAAG7F,UAAU,CAACqE,cAAc,EAAC;AAE/CwB,KAAK,CAACC,KAAK,GAAGA,KAAK,CAAA;AACnBD,KAAK,CAACE,IAAI,GAAGA,IAAI,CAAA;AACjBF,KAAK,CAACG,MAAM,GAAGA,MAAM,CAAA;AAErB,SAASF,KAAKA,CAACrT,KAAK,EAAE;EACpB,MAAM;IACJa,QAAQ;IACRiR,SAAS;IACT0B,SAAS;AACTC,IAAAA,IAAI,GAAGA,MAAM,EAAE;IACfvS,KAAK;IACL,GAAGwS,IAAAA;AACL,GAAC,GAAG1T,KAAK,CAAA;;AAET;AACA;EACA,MAAM2T,OAAO,GAAGjQ,MAAM,CAAC;AACrBkQ,IAAAA,aAAa,EAAE,IAAI;AACnBC,IAAAA,WAAW,EAAE,IAAA;AACf,GAAC,CAAC,CAAA;AAEF,EAAA,MAAMC,cAAc,GAAGpQ,MAAM,EAAE,CAAA;AAE/B,EAAA,MAAMqQ,QAAQ,GAAGrQ,MAAM,EAAE,CAAA;AAEzB,EAAA,MAAMsQ,MAAM,GAAGA,CAACnQ,KAAK,EAAE4N,KAAK,KAAK;IAC/BwC,MAAM,CAACpQ,KAAK,CAAC,CAAA;IAEb,MAAM;AAAES,MAAAA,CAAC,EAAE4P,EAAE;AAAE3P,MAAAA,CAAC,EAAE4P,EAAAA;AAAG,KAAC,GAAG1C,KAAK,CAAA;AAE9B,IAAA,MAAMoC,WAAW,GAAG;MAClBvP,CAAC,EAAEqP,OAAO,CAACnP,OAAO,CAACoP,aAAa,CAACtP,CAAC,GAAG4P,EAAE;MACvC3P,CAAC,EAAEoP,OAAO,CAACnP,OAAO,CAACoP,aAAa,CAACrP,CAAC,GAAG4P,EAAAA;KACtC,CAAA;AAED,IAAA,MAAMC,WAAW,GAAGC,cAAc,CAACN,QAAQ,CAACvP,OAAO,CAAC,CAAA;IAEpD4P,WAAW,CAACzO,KAAK,CAACa,GAAG,GAAGqN,WAAW,CAACtP,CAAC,GAAG,IAAI,CAAA;IAC5C6P,WAAW,CAACzO,KAAK,CAACgB,IAAI,GAAGkN,WAAW,CAACvP,CAAC,GAAG,IAAI,CAAA;;AAE7C;IACAmP,IAAI,CAAC,UAAU,EAAE;MAAEI,WAAW;AAAEpC,MAAAA,KAAAA;AAAM,KAAC,CAAC,CAAA;GACzC,CAAA;EAED,MAAM6C,WAAW,GAAIzQ,KAAK,IAAK;AAE7B;IACA,MAAMmN,WAAW,GAAGN,aAAa,CAACsD,MAAM,EAAEF,cAAc,CAACtP,OAAO,CAAC,CAAA;IACjEwM,WAAW,CAACnN,KAAK,CAAC,CAAA;IAElBA,KAAK,CAACkC,eAAe,EAAE,CAAA;AAEvB,IAAA,MAAMqO,WAAW,GAAGC,cAAc,CAACN,QAAQ,CAACvP,OAAO,CAAC,CAAA;AAEpD,IAAA,MAAM+B,MAAM,GAAG6N,WAAW,CAACzP,qBAAqB,EAAE,CAAA;AAClDgP,IAAAA,OAAO,CAACnP,OAAO,CAACoP,aAAa,GAAG;MAC9BtP,CAAC,EAAEiC,MAAM,CAACI,IAAI;MACdpC,CAAC,EAAEgC,MAAM,CAACC,GAAAA;KACX,CAAA;;AAED;IACAiN,IAAI,CAAC,WAAW,CAAC,CAAA;GAClB,CAAA;EAED,MAAMc,SAAS,GAAGA,MAAM;AACtBZ,IAAAA,OAAO,CAACnP,OAAO,CAACqP,WAAW,GAAG,IAAI,CAAA;;AAElC;IACAJ,IAAI,CAAC,SAAS,CAAC,CAAA;GAChB,CAAA;AAED,EAAA,OACE9S,IAAA,CAAA,KAAA,EAAA;IACEC,KAAK,EAAGiO,UAAU,CAChB,oCAAoC,EACpC2E,SAAS,IAAI,WAAW,EACxB1B,SACF,CAAG;AACHjM,IAAAA,GAAG,EAAGkO,QAAU;AAChBP,IAAAA,SAAS,EAAGA,SAAW;AACvBxC,IAAAA,WAAW,EAAGsD,WAAa;AAC3BE,IAAAA,SAAS,EAAGD,SAAW;AAAA,IAAA,GAClBb,IAAI;AAAA7S,IAAAA,QAAA,EACP2S,CAAAA,SAAS,IACT7S,IAAA,CAAA8T,QAAA,EAAA;AAAA5T,MAAAA,QAAA,GACEC,GAAA,CAAA,KAAA,EAAA;AAAK+E,QAAAA,GAAG,EAAGiO,cAAgB;AAAClT,QAAAA,KAAK,EAAC,0CAAA;OAAgD,CAAC,EACnFE,GAAA,CAAA,KAAA,EAAA;AAAKF,QAAAA,KAAK,EAAC,yCAAyC;AAAAC,QAAAA,QAAA,EAClDC,GAAA,CAAC4T,QAAQ,EAAE,EAAA,CAAA;AAAC,OACT,CAAC,CAAA;KACN,CACH,EACD5T,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,mCAAmC;AAAAC,MAAAA,QAAA,EAAGK,KAAAA;KAAY,CAAC,EAC5DL,QAAQ,CAAA;AAAA,GACP,CAAC,CAAA;AAEV,CAAA;AAEA,SAASyS,IAAIA,CAACtT,KAAK,EAAE;EACnB,MAAM;IACJa,QAAQ;IACRiR,SAAS;IACT,GAAG4B,IAAAA;AACL,GAAC,GAAG1T,KAAK,CAAA;AAET,EAAA,OACEc,GAAA,CAAA,KAAA,EAAA;AAAKF,IAAAA,KAAK,EAAGiO,UAAU,CAAC,kCAAkC,EAAEiD,SAAS,CAAG;AAAA,IAAA,GAAM4B,IAAI;AAAA7S,IAAAA,QAAA,EAC9EA,QAAAA;AAAQ,GACP,CAAC,CAAA;AAEV,CAAA;AAEA,SAAS0S,MAAMA,CAACvT,KAAK,EAAE;EACrB,MAAM;IACJa,QAAQ;IACRiR,SAAS;IACT,GAAG4B,IAAAA;AACL,GAAC,GAAG1T,KAAK,CAAA;AAET,EAAA,OACEc,GAAA,CAAA,KAAA,EAAA;AAAKF,IAAAA,KAAK,EAAGiO,UAAU,CAAC,oCAAoC,EAAEiD,SAAS,CAAG;AAAA,IAAA,GAAM4B,IAAI;IAAA7S,QAAA,EAChFb,KAAK,CAACa,QAAAA;AAAQ,GACb,CAAC,CAAA;AAEV,CAAA;;AAGA;;AAEA,SAASwT,cAAcA,CAACM,IAAI,EAAE;AAC5B,EAAA,OAAOA,IAAI,CAAC1P,OAAO,CAAC,6BAA6B,CAAC,CAAA;AACpD,CAAA;AAEA,SAASgP,MAAMA,CAACpQ,KAAK,EAAE;EACrBA,KAAK,CAAC0N,cAAc,EAAE,CAAA;EACtB1N,KAAK,CAACkC,eAAe,EAAE,CAAA;AACzB,CAAA;AAEA,SAAS0M,gBAAgBA,CAACkC,IAAI,EAAE;AAC9B,EAAA,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;IAC5B,OAAOjL,KAAQ,CAACiL,IAAI,CAAC,CAAA;AACvB,GAAA;AAEA,EAAA,OAAOA,IAAI,CAAA;AACb;;ACrQO,MAAMC,gBAAgB,GAAG,GAAG,CAAA;AAC5B,MAAMC,iBAAiB,GAAG,GAAG,CAAA;;AAGpC;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASC,aAAaA,CAAC9U,KAAK,EAAE;EAC3C,MAAM;IACJC,OAAO;AACP6B,IAAAA,QAAQ,GAAG;MAAEiT,IAAIA,GAAG,EAAE;MAAEzN,EAAEA,GAAG,EAAE;MAAEC,GAAGA,GAAG,EAAC;KAAG;AAC3CyN,IAAAA,cAAAA;AACF,GAAC,GAAGhV,KAAK,CAAA;AAET,EAAA,MAAMiV,WAAW,GAAGpM,WAAW,CAAC5I,OAAO,CAAC,CAAA;EAExC,MAAM,CAAEiV,WAAW,EAAEC,cAAc,CAAE,GAAG9R,QAAQ,CAAC,EAAE,CAAC,CAAA;EACpD,MAAM,CAAE2H,IAAI,EAAEC,OAAO,CAAE,GAAG5H,QAAQ,CAAC,KAAK,CAAC,CAAA;EACzC,MAAM,CAAEoN,MAAM,EAAE2E,SAAS,CAAE,GAAG/R,QAAQ,CAAC,IAAI,CAAC,CAAA;EAC5C,MAAM,CAAEgS,aAAa,EAAEC,gBAAgB,CAAE,GAAGjS,QAAQ,CAAC,IAAI,CAAC,CAAA;AAE1D,EAAA,MAAMoQ,IAAI,GAAGA,CAACjT,IAAI,EAAEmT,OAAO,KAAK;IAC9B7R,QAAQ,CAACiT,IAAI,CAAC,YAAY,GAAGvU,IAAI,EAAEmT,OAAO,CAAC,CAAA;GAC5C,CAAA;AAED,EAAA,MAAM4B,MAAM,GAAG5M,WAAW,CAAC,MAAM;IAC/B,OAAO,CAAC,CAACqC,IAAI,CAAA;AACf,GAAC,EAAE,CAAEA,IAAI,CAAE,CAAC,CAAA;AAEZwK,EAAAA,eAAe,CAAC,MAAM;IACpB,IAAI,CAACxK,IAAI,EAAE;MACTyI,IAAI,CAAC,QAAQ,CAAC,CAAA;AAChB,KAAA;AACF,GAAC,EAAE,CAAEzI,IAAI,CAAE,CAAC,CAAA;EAEZ,MAAMyK,UAAU,GAAGA,CAACC,OAAO,EAAEC,MAAM,EAAEC,cAAc,KAAK;IACtDR,SAAS,CAACM,OAAO,CAAC,CAAA;IAClBP,cAAc,CAACQ,MAAM,CAAC,CAAA;IACtB1K,OAAO,CAAC,IAAI,CAAC,CAAA;IACbqK,gBAAgB,CAACM,cAAc,CAAC,CAAA;IAChCnC,IAAI,CAAC,MAAM,CAAC,CAAA;GACb,CAAA;AAED,EAAA,MAAMoC,WAAW,GAAGA,CAAChS,KAAK,GAAG,EAAG,KAAK;IACnC,MAAM;AAAErB,MAAAA,EAAAA;AAAG,KAAC,GAAGqB,KAAK,CAAA;AACpB,IAAA,IAAIrB,EAAE,IAAIA,EAAE,KAAKiO,MAAM,EAAE;AACvB,MAAA,OAAA;AACF,KAAA;IAEAxF,OAAO,CAAC,KAAK,CAAC,CAAA;IACdmK,SAAS,CAAC,IAAI,CAAC,CAAA;GAChB,CAAA;AAED,EAAA,MAAMU,gBAAgB,GAAG;AACvB9K,IAAAA,IAAI,EAAEyK,UAAU;AAChBjF,IAAAA,KAAK,EAAEqF,WAAW;AAClBpF,IAAAA,MAAAA;GACD,CAAA;;AAED;AACA7L,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAI3E,OAAO,IAAIgV,WAAW,IAAIhV,OAAO,KAAKgV,WAAW,EAAE;AACrDY,MAAAA,WAAW,EAAE,CAAA;AACf,KAAA;AACF,GAAC,EAAE,CAAE5V,OAAO,CAAE,CAAC,CAAA;;AAEf;AACA2E,EAAAA,SAAS,CAAC,MAAM;IAEd,MAAMmR,eAAe,GAAIpC,OAAO,IAAK;MACnC,MAAM;QACJ+B,OAAO;QACPR,WAAW;AACXG,QAAAA,aAAAA;AACF,OAAC,GAAG1B,OAAO,CAAA;AAEX8B,MAAAA,UAAU,CAACC,OAAO,EAAER,WAAW,EAAEG,aAAa,CAAC,CAAA;KAChD,CAAA;IAED,MAAMW,YAAY,GAAGA,MAAM;MACzB,OAAOT,MAAM,EAAE,CAAA;KAChB,CAAA;AAEDzT,IAAAA,QAAQ,CAACwF,EAAE,CAAC,kBAAkB,EAAEuO,WAAW,CAAC,CAAA;AAC5C/T,IAAAA,QAAQ,CAACwF,EAAE,CAAC,iBAAiB,EAAEyO,eAAe,CAAC,CAAA;AAC/CjU,IAAAA,QAAQ,CAACwF,EAAE,CAAC,mBAAmB,EAAE0O,YAAY,CAAC,CAAA;AAE9C,IAAA,OAAO,MAAM;AACXlU,MAAAA,QAAQ,CAACyF,GAAG,CAAC,kBAAkB,EAAEsO,WAAW,CAAC,CAAA;AAC7C/T,MAAAA,QAAQ,CAACyF,GAAG,CAAC,iBAAiB,EAAEkO,UAAU,CAAC,CAAA;AAC3C3T,MAAAA,QAAQ,CAACyF,GAAG,CAAC,mBAAmB,EAAEyO,YAAY,CAAC,CAAA;KAChD,CAAA;AAEH,GAAC,EAAE,CAAElU,QAAQ,EAAEyT,MAAM,CAAE,CAAC,CAAA;AAExB,EAAA,OACE5U,IAAA,CAAC4P,gBAAgB,CAAClE,QAAQ,EAAA;AAACxJ,IAAAA,KAAK,EAAGiT,gBAAkB;AAAAjV,IAAAA,QAAA,EACjDmK,CAAAA,IAAI,IACJlK,GAAA,CAACmV,kBAAkB,EAAA;AACjBjE,MAAAA,OAAO,EAAG6D,WAAa;AACvBrH,MAAAA,SAAS,EAAGwG,cAAgB;AAC5BK,MAAAA,aAAa,EAAGA,aAAe;AAC/B5B,MAAAA,IAAI,EAAGA,IAAM;MAAA,GACRyB,WAAAA;AAAW,KAAI,CACvB,EACClV,KAAK,CAACa,QAAQ,CAAA;AAAA,GACS,CAAC,CAAA;AAEhC,CAAA;AAEA,SAASoV,kBAAkBA,CAACjW,KAAK,EAAE;EACjC,MAAM;IACJwO,SAAS;IACThM,EAAE;IACFwL,YAAY;IACZR,OAAO;IACPwE,OAAO;IACP9O,QAAQ;IACR+K,UAAU;IACVoH,aAAa;IACbnU,KAAK;IACLwM,gBAAgB;IAChBlN,IAAI;IACJqC,KAAK;IACLmM,SAAS;AACTyE,IAAAA,IAAAA;AACF,GAAC,GAAGzT,KAAK,CAAA;AAET,EAAA,MAAMkW,SAAS,GAAGxS,MAAM,EAAE,CAAA;AAC1B,EAAA,MAAM6O,QAAQ,GAAG7O,MAAM,EAAE,CAAA;AAEzB,EAAA,MAAMyS,oBAAoB,GAAGzS,MAAM,CAAC,KAAK,CAAC,CAAA;EAE1C,MAAM0S,oBAAoB,GAAGA,MAAM;AACjCf,IAAAA,aAAa,IAAIA,aAAa,CAACpM,KAAK,EAAE,CAAA;GACvC,CAAA;EAED,MAAMoN,gBAAgB,GAAIxS,KAAK,IAAK;AAElC;AACA,IAAA,IAAIA,KAAK,CAACkE,GAAG,KAAK,QAAQ,EAAE;MAC1BoO,oBAAoB,CAAC3R,OAAO,GAAG8R,kBAAkB,CAACzS,KAAK,CAACxC,MAAM,CAAC,CAAA;AACjE,KAAA;GACD,CAAA;EAED,MAAMgF,SAAS,GAAIxC,KAAK,IAAK;AAE3B,IAAA,IAAIA,KAAK,CAACkE,GAAG,KAAK,QAAQ,EAAE;AAE1B;AACA;AACA;AACA;AACA,MAAA,IAAI,CAACoO,oBAAoB,CAAC3R,OAAO,EAAE;AACjCwN,QAAAA,OAAO,EAAE,CAAA;QACTmE,oBAAoB,CAAC3R,OAAO,GAAG,KAAK,CAAA;AACtC,OAAA;AACF,KAAA;GACD,CAAA;AAEDI,EAAAA,SAAS,CAAC,MAAM;IACd6O,IAAI,CAAC,QAAQ,EAAE;MAAE8C,OAAO,EAAEhE,QAAQ,CAAC/N,OAAAA;AAAQ,KAAC,CAAC,CAAA;AAC7C,IAAA,OAAO,MAAMiP,IAAI,CAAC,OAAO,EAAE;MAAE8C,OAAO,EAAEhE,QAAQ,CAAC/N,OAAAA;AAAQ,KAAC,CAAC,CAAA;GAC1D,EAAE,EAAE,CAAC,CAAA;AAENI,EAAAA,SAAS,CAAC,MAAM;AAEd;IACA,IAAIsR,SAAS,CAAC1R,OAAO,EAAE;AACrB0R,MAAAA,SAAS,CAAC1R,OAAO,CAACyE,KAAK,EAAE,CAAA;AAC3B,KAAA;AACF,GAAC,EAAE,CAAEiN,SAAS,CAAE,CAAC,CAAA;EAEjB,OACEvV,IAAA,CAACyS,KAAK,EAAA;AACJ5E,IAAAA,SAAS,EAAGA,SAAW;AACvBsD,IAAAA,SAAS,EAAC,iCAAiC;AAC3C2B,IAAAA,IAAI,EAAGA,IAAM;AACbvQ,IAAAA,QAAQ,EAAGA,QAAU;AACrBhC,IAAAA,KAAK,EAAGA,KAAO;AACf8Q,IAAAA,OAAO,EAAGA,OAAAA;;AAEV;AAAA;AACAG,IAAAA,WAAW,EAAG,KAAO;AACrBC,IAAAA,aAAa,EAAG,KAAO;AACvBL,IAAAA,iBAAiB,EAAG,KAAO;AAC3BG,IAAAA,gBAAgB,EAAGkE,oBAAsB;AACzCpV,IAAAA,MAAM,EAAG6T,iBAAmB;AAC5B9T,IAAAA,KAAK,EAAG6T,gBAAkB;AAC1B/O,IAAAA,GAAG,EAAG0M,QAAU;AAAA1R,IAAAA,QAAA,EAEhBF,CAAAA,IAAA,CAACyS,KAAK,CAACC,KAAK,EAAA;AACVnS,MAAAA,KAAK,EAAGA,KAAO;AACfuS,MAAAA,IAAI,EAAGA,IAAM;MACbD,SAAS,EAAA,IAAA;AAAA3S,MAAAA,QAAA,EACRL,CAAAA,IAAI,KAAK,MAAM,IACdG,IAAA,CAAA,GAAA,EAAA;AAAGS,QAAAA,IAAI,EAAC,oEAAoE;AAACC,QAAAA,MAAM,EAAC,QAAQ;AAACT,QAAAA,KAAK,EAAC,6CAA6C;AAAAC,QAAAA,QAAA,GAAC,wBAE/I,EAAAC,GAAA,CAAC0V,QAAQ,IAAE,CAAC,CAAA;AAAA,OACX,CACJ,EAEAhW,IAAI,KAAK,SAAS,IACjBG,IAAA,CAAA,GAAA,EAAA;AAAGS,QAAAA,IAAI,EAAC,qGAAqG;AAACC,QAAAA,MAAM,EAAC,QAAQ;AAACT,QAAAA,KAAK,EAAC,6CAA6C;AAAAC,QAAAA,QAAA,GAAC,kBAEhL,EAAAC,GAAA,CAAC0V,QAAQ,IAAE,CAAC,CAAA;AAAA,OACX,CACJ,CAAA;AAAA,KAEU,CAAC,EACd1V,GAAA,CAACsS,KAAK,CAACE,IAAI,EAAA;AAAAzS,MAAAA,QAAA,EACTF,IAAA,CAAA,KAAA,EAAA;AACE0V,QAAAA,gBAAgB,EAAGA,gBAAkB;AACrChQ,QAAAA,SAAS,EAAGA,SAAW;AACvBzF,QAAAA,KAAK,EAAC,uCAAuC;AAAAC,QAAAA,QAAA,GAG3CL,IAAI,KAAK,MAAM,IACbM,GAAA,CAACwM,UAAU,EAAA;AACTK,UAAAA,aAAa,EAAG,IAAM;AACtBnL,UAAAA,EAAE,EAAGO,UAAQ,CAACP,EAAE,CAAG;AACnBsM,UAAAA,IAAI,EAAGtM,EAAI;AACXgL,UAAAA,OAAO,EAAGA,OAAS;AACnB3K,UAAAA,KAAK,EAAGA,KAAO;AACfmM,UAAAA,SAAS,EAAGA,SAAW;AACvBnJ,UAAAA,GAAG,EAAGqQ,SAAW;AACjBxI,UAAAA,gBAAgB,EAAGA,gBAAAA;SACpB,CACF,EAIDlN,IAAI,KAAK,SAAS,IAChBM,GAAA,CAAC2V,YAAgB,EAAA;AACfjU,UAAAA,EAAE,EAAGO,UAAQ,CAACP,EAAE,CAAG;AACnBuL,UAAAA,iBAAiB,EAAG;AAAE,YAAA,YAAY,EAAE7M,KAAAA;WAAS;AAC7CyM,UAAAA,aAAa,EAAG,IAAM;AACtBK,UAAAA,YAAY,EAAGA,YAAc;AAC7Bc,UAAAA,IAAI,EAAGtM,EAAI;AACXgL,UAAAA,OAAO,EAAGA,OAAS;AACnB3K,UAAAA,KAAK,EAAGA,KAAO;AACfgD,UAAAA,GAAG,EAAGqQ,SAAW;AACjBjI,UAAAA,UAAU,EAAGA,UAAY;AACzBP,UAAAA,gBAAgB,EAAGA,gBAAAA;AAAkB,SACtC,CACF,CAAA;OAEA,CAAA;AAAC,KACI,CAAC,EACb5M,GAAA,CAACsS,KAAK,CAACG,MAAM,EAAA;AAAA1S,MAAAA,QAAA,EACXC,GAAA,CAAA,QAAA,EAAA;AACEN,QAAAA,IAAI,EAAC,QAAQ;AACbsF,QAAAA,OAAO,EAAGA,MAAMkM,OAAO,EAAI;AAC3B9Q,QAAAA,KAAK,EAAC,qBAAqB;AAC3BN,QAAAA,KAAK,EAAC,4CAA4C;AAAAC,QAAAA,QAAA,EAAC,OAAA;OAAa,CAAA;AAAC,KACvD,CAAC,CAAA;AAAA,GACV,CAAC,CAAA;AAEZ,CAAA;;AAEA;;AAEA,SAASkC,UAAQA,CAACP,EAAE,EAAE;EACpB,OAAQ,CAAA,qBAAA,EAAuBA,EAAG,CAAC,CAAA,CAAA;AACrC,CAAA;AAEA,SAAS8T,kBAAkBA,CAACrW,OAAO,EAAE;EACnC,OAAOA,OAAO,CAACgF,OAAO,CAAC,YAAY,CAAC,CAACyR,aAAa,CAAC,0BAA0B,CAAC,CAAA;AAChF,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASlB,eAAeA,CAACmB,MAAM,EAAEC,IAAI,EAAE;AACrC,EAAA,MAAMC,SAAS,GAAGnT,MAAM,CAAC,KAAK,CAAC,CAAA;AAE/BkB,EAAAA,SAAS,CAAC,MAAM;IACd,IAAIiS,SAAS,CAACrS,OAAO,EAAE;MACrB,OAAOmS,MAAM,EAAE,CAAA;AACjB,KAAC,MAAM;MACLE,SAAS,CAACrS,OAAO,GAAG,IAAI,CAAA;AAC1B,KAAA;GACD,EAAEoS,IAAI,CAAC,CAAA;AACV;;AC1SO,SAASE,YAAYA,CAAC9W,KAAK,EAAE;EAClC,MAAM;IACJwC,EAAE;IACFjC,KAAK;IACLiN,OAAO;IACP3K,KAAK;IACLkU,aAAa;IACbC,MAAM;IACN5Q,OAAO;IACP6Q,MAAM;IACN/I,QAAQ;AACR7L,IAAAA,OAAAA;AACF,GAAC,GAAGrC,KAAK,CAAA;EAET,MAAM,CAAEoO,UAAU,EAAEC,aAAa,CAAE,GAAGhL,QAAQ,CAACR,KAAK,CAAC,CAAA;AAErD,EAAA,MAAMqU,mBAAmB,GAAG,YAAY;IACtC1J,OAAO,CAAC,CAAC3K,KAAK,CAAC,CAAA;GAChB,CAAA;EAED,MAAMyL,WAAW,GAAGnK,CAAC,IAAI;IACvB+S,mBAAmB,CAAE,CAAC,CAAA;AACtB7I,IAAAA,aAAa,CAAClK,CAAC,CAAC9C,MAAM,CAACwB,KAAK,CAAC,CAAA;GAC9B,CAAA;AAED+B,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI/B,KAAK,KAAKuL,UAAU,EAAE;AACxB,MAAA,OAAA;AACF,KAAA;IAEAC,aAAa,CAACxL,KAAK,CAAC,CAAA;AACtB,GAAC,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;AAEb,EAAA,OACElC,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAGiO,UAAU,CACrB,oCAAoC,EACpC;AAAEmI,MAAAA,MAAAA;AAAO,KACX,CAAG;AAAAnW,IAAAA,QAAA,GACDC,GAAA,CAAA,OAAA,EAAA;AAAOF,MAAAA,KAAK,EAAC,4BAA4B;AACvCuW,MAAAA,GAAG,EAAGpU,UAAQ,CAACP,EAAE,CAAG;MAAA3B,QAAA,EACpBC,GAAA,CAACgC,cAAO,EAAA;AAACD,QAAAA,KAAK,EAAGR,OAAS;AAACM,QAAAA,KAAK,EAAGH,EAAI;QAACvC,OAAO,EAAGD,KAAK,CAACC,OAAS;AAAAY,QAAAA,QAAA,EAC7DN,KAAAA;OACK,CAAA;KACJ,CAAC,EACRI,IAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAC,oCAAoC;AAAAC,MAAAA,QAAA,GAC7CF,IAAA,CAAA,OAAA,EAAA;AAAOC,QAAAA,KAAK,EAAC,8CAA8C;AAAAC,QAAAA,QAAA,GACzDC,GAAA,CAAA,OAAA,EAAA;AACE+E,UAAAA,GAAG,EAAGqI,QAAU;AAChB1L,UAAAA,EAAE,EAAGO,UAAQ,CAACP,EAAE,CAAG;AACnB5B,UAAAA,KAAK,EAAC,4BAA4B;AAClCJ,UAAAA,IAAI,EAAC,UAAU;AACf4F,UAAAA,OAAO,EAAGA,OAAS;AACnB6Q,UAAAA,MAAM,EAAGA,MAAQ;AACjBnI,UAAAA,IAAI,EAAGtM,EAAI;AACXgL,UAAAA,OAAO,EAAGc,WAAa;UACvB8I,OAAO,EAAG,CAAC,CAAChJ,UAAAA;SAAc,CAAC,EAC7BtN,GAAA,CAAA,MAAA,EAAA;AAAMF,UAAAA,KAAK,EAAC,4CAAA;AAA4C,SAAE,CAAC,CAAA;AAAA,OACtD,CAAC,EACNmW,aAAa,IAAIjW,GAAA,CAAA,GAAA,EAAA;AAAGF,QAAAA,KAAK,EAAC,2CAA2C;AAAAC,QAAAA,QAAA,EAAGkW,aAAAA;AAAa,OAAK,CAAC,CAAA;AAAA,KAC1F,CAAC,CAAA;AAAA,GACH,CAAC,CAAA;AAEV,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASM,iBAAiBA,CAACrX,KAAK,EAAE;EAC/C,MAAM;IACJC,OAAO;IACPuC,EAAE;IACFf,WAAW;IACXlB,KAAK;IACLwW,aAAa;IACbC,MAAM;IACNM,QAAQ;IACR3I,QAAQ;IACRvI,OAAO;IACP6Q,MAAM;AACN5U,IAAAA,OAAAA;AACF,GAAC,GAAGrC,KAAK,CAAA;AAET,EAAA,MAAM6C,KAAK,GAAGyU,QAAQ,CAACrX,OAAO,CAAC,CAAA;AAC/B,EAAA,OACEU,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,qEAAqE;AAAC,IAAA,eAAA,EAAgB4B,EAAI;IAAA3B,QAAA,EAAA,CACnGC,GAAA,CAACgW,YAAY,EAAA;AACXtU,MAAAA,EAAE,EAAGA,EAAI;AACTjC,MAAAA,KAAK,EAAGA,KAAO;AACfsC,MAAAA,KAAK,EAAGA,KAAO;AACf2K,MAAAA,OAAO,EAAGmB,QAAU;AACpBvI,MAAAA,OAAO,EAAGA,OAAS;AACnB6Q,MAAAA,MAAM,EAAGA,MAAQ;AACjBF,MAAAA,aAAa,EAAGA,aAAe;AAC/BC,MAAAA,MAAM,EAAGA,MAAQ;AACjB3U,MAAAA,OAAO,EAAGA,OAAS;AACnBpC,MAAAA,OAAO,EAAGA,OAAAA;AAAS,KAAE,CAAC,EACxBa,GAAA,CAAC+L,WAAW,EAAA;AAAClK,MAAAA,KAAK,EAAGH,EAAI;AAACvC,MAAAA,OAAO,EAAGA,OAAS;AAAC4C,MAAAA,KAAK,EAAGpB,WAAAA;AAAa,KAAE,CAAC,CAAA;AAAA,GACnE,CAAC,CAAA;AAEV,CAAA;AAEO,SAASiK,UAAQA,CAACiJ,IAAI,EAAE;AAC7B,EAAA,OAAOA,IAAI,IAAI,CAAC,CAACA,IAAI,CAACyC,OAAO,CAAA;AAC/B,CAAA;;AAGA;;AAEA,SAASrU,UAAQA,CAACP,EAAE,EAAE;EACpB,OAAQ,CAAA,qBAAA,EAAwBA,EAAI,CAAC,CAAA,CAAA;AACvC;;ACnHO,SAAS+U,WAAWA,CAACvX,KAAK,EAAE;EAEjC,MAAM;IACJwX,QAAQ;IACR/J,QAAQ;AACRgK,IAAAA,YAAY,GAAG,IAAI;IACnBjV,EAAE;IACF0L,QAAQ;IACR3N,KAAK;IACLmX,GAAG;IACHC,GAAG;IACHnK,OAAO;IACPoK,IAAI;AACJ/U,IAAAA,KAAK,GAAG,EAAE;IACVuD,OAAO;AACP6Q,IAAAA,MAAAA;AACF,GAAC,GAAGjX,KAAK,CAAA;EAET,MAAM,CAAEoO,UAAU,EAAEC,aAAa,CAAE,GAAGhL,QAAQ,CAACR,KAAK,CAAC,CAAA;AAErD,EAAA,MAAMqU,mBAAmB,GAAGtP,OAAO,CAAC,MAAM;IACxC,OAAO4P,QAAQ,CAAEnW,MAAM,IAAK;AAE1B,MAAA,IAAIA,MAAM,CAACwW,QAAQ,CAACC,KAAK,EAAE;AACzBtK,QAAAA,OAAO,CAACnM,MAAM,CAACwB,KAAK,GAAGkV,UAAU,CAAC1W,MAAM,CAACwB,KAAK,CAAC,GAAGsK,SAAS,CAAC,CAAA;AAC9D,OAAA;AACF,KAAC,CAAC,CAAA;AACJ,GAAC,EAAE,CAAEK,OAAO,EAAEgK,QAAQ,CAAE,CAAC,CAAA;EAEzB,MAAMlJ,WAAW,GAAGnK,CAAC,IAAI;AACvB+S,IAAAA,mBAAmB,CAAC/S,CAAC,CAAC9C,MAAM,CAAC,CAAA;AAC7BgN,IAAAA,aAAa,CAAClK,CAAC,CAAC9C,MAAM,CAACwB,KAAK,CAAC,CAAA;GAC9B,CAAA;AAED+B,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI/B,KAAK,KAAKuL,UAAU,EAAE;AACxB,MAAA,OAAA;AACF,KAAA;IAEAC,aAAa,CAACxL,KAAK,CAAC,CAAA;AACtB,GAAC,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;AAEb,EAAA,OACElC,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,kCAAkC;IAAAC,QAAA,EAAA,CAC1C4W,YAAY,IAAI3W,GAAA,CAAA,OAAA,EAAA;AAAOqW,MAAAA,GAAG,EAAGpU,UAAQ,CAACP,EAAE,CAAG;AAAC5B,MAAAA,KAAK,EAAC,4BAA4B;AAAAC,MAAAA,QAAA,EAAGN,KAAAA;KAAc,CAAC,EACjGO,GAAA,CAAA,OAAA,EAAA;AACE0B,MAAAA,EAAE,EAAGO,UAAQ,CAACP,EAAE,CAAG;AACnBqD,MAAAA,GAAG,EAAGqI,QAAU;AAChB1N,MAAAA,IAAI,EAAC,QAAQ;AACbsO,MAAAA,IAAI,EAAGtM,EAAI;AACXwV,MAAAA,UAAU,EAAC,OAAO;AAClBC,MAAAA,YAAY,EAAC,KAAK;AAClBxK,MAAAA,QAAQ,EAAGA,QAAU;AACrB7M,MAAAA,KAAK,EAAC,4BAA4B;AAClC8W,MAAAA,GAAG,EAAGA,GAAK;AACXC,MAAAA,GAAG,EAAGA,GAAK;AACXnK,MAAAA,OAAO,EAAGc,WAAa;AACvBlI,MAAAA,OAAO,EAAGA,OAAS;AACnB6Q,MAAAA,MAAM,EAAGA,MAAQ;AACjBW,MAAAA,IAAI,EAAGA,IAAM;AACb/U,MAAAA,KAAK,EAAGuL,UAAAA;AAAY,KAAE,CAAC,CAAA;AAAA,GACtB,CAAC,CAAA;AAEV,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAAS8J,gBAAgBA,CAAClY,KAAK,EAAE;EAC9C,MAAM;IACJwX,QAAQ;IACR/V,WAAW;IACXgM,QAAQ;IACRxN,OAAO;IACPqX,QAAQ;IACR9U,EAAE;IACFjC,KAAK;IACLmX,GAAG;IACHC,GAAG;IACHhJ,QAAQ;IACRiJ,IAAI;IACJxR,OAAO;IACP6Q,MAAM;AACNkB,IAAAA,QAAAA;AACF,GAAC,GAAGnY,KAAK,CAAA;AAET,EAAA,MAAMoY,WAAW,GAAGpR,QAAQ,CAACxE,EAAE,CAAC,CAAA;EAChC,MAAM,CAAE6V,UAAU,EAAEC,aAAa,CAAE,GAAGjV,QAAQ,CAAC,IAAI,CAAC,CAAA;AAEpD,EAAA,IAAIR,KAAK,GAAGyU,QAAQ,CAACrX,OAAO,CAAC,CAAA;AAE7B2E,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAIuE,UAAU,CAACgP,QAAQ,CAAC,EAAE;AACxB,MAAA,MAAMI,kBAAkB,GAAGJ,QAAQ,CAACtV,KAAK,CAAC,IAAI,IAAI,CAAA;MAElDyV,aAAa,CAACC,kBAAkB,CAAC,CAAA;AACnC,KAAA;AACF,GAAC,EAAE,CAAE1V,KAAK,EAAEsV,QAAQ,CAAE,CAAC,CAAA;EAEvB,MAAM3K,OAAO,GAAI5E,QAAQ,IAAK;IAC5B,IAAI2P,kBAAkB,GAAG,IAAI,CAAA;AAE7B,IAAA,IAAIpP,UAAU,CAACgP,QAAQ,CAAC,EAAE;AACxBI,MAAAA,kBAAkB,GAAGJ,QAAQ,CAACvP,QAAQ,CAAC,IAAI,IAAI,CAAA;AACjD,KAAA;AAEA+F,IAAAA,QAAQ,CAAC/F,QAAQ,EAAE2P,kBAAkB,CAAC,CAAA;IACtCD,aAAa,CAACC,kBAAkB,CAAC,CAAA;GAClC,CAAA;AAED,EAAA,MAAMC,KAAK,GAAGJ,WAAW,IAAIC,UAAU,CAAA;AAEvC,EAAA,OACE1X,IAAA,CAAA,KAAA,EAAA;IAAKC,KAAK,EAAGsL,UAAU,CACrB,4BAA4B,EAC5BsM,KAAK,GAAG,WAAW,GAAG,EAAE,CAAG;AAAC,IAAA,eAAA,EAAgBhW,EAAI;IAAA3B,QAAA,EAAA,CAChDC,GAAA,CAACyW,WAAW,EAAA;AACVC,MAAAA,QAAQ,EAAGA,QAAU;AACrB/J,MAAAA,QAAQ,EAAGA,QAAU;AACrBjL,MAAAA,EAAE,EAAGA,EAAI;AAETjC,MAAAA,KAAK,EAAGA,KAAO;AACf6F,MAAAA,OAAO,EAAGA,OAAS;AACnB6Q,MAAAA,MAAM,EAAGA,MAAQ;AACjBzJ,MAAAA,OAAO,EAAGA,OAAS;AACnBkK,MAAAA,GAAG,EAAGA,GAAK;AACXC,MAAAA,GAAG,EAAGA,GAAK;AACXC,MAAAA,IAAI,EAAGA,IAAM;AACb/U,MAAAA,KAAK,EAAGA,KAAAA;AAAO,KAAA,EART5C,OAQW,CAAC,EAClBuY,KAAK,IAAI1X,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,4BAA4B;AAAAC,MAAAA,QAAA,EAAG2X,KAAAA;AAAK,KAAO,CAAC,EAClE1X,GAAA,CAAC+L,WAAW,EAAA;AAAClK,MAAAA,KAAK,EAAGH,EAAI;AAACvC,MAAAA,OAAO,EAAGA,OAAS;AAAC4C,MAAAA,KAAK,EAAGpB,WAAAA;AAAa,KAAE,CAAC,CAAA;AAAA,GACnE,CAAC,CAAA;AAEV,CAAA;AAEO,SAASiK,UAAQA,CAACiJ,IAAI,EAAE;AAC7B,EAAA,OAAOA,IAAI,IAAI,CAAC,CAACA,IAAI,CAAC9R,KAAK,CAAA;AAC7B,CAAA;;AAGA;;AAEA,SAASE,UAAQA,CAACP,EAAE,EAAE;EACpB,OAAQ,CAAA,qBAAA,EAAwBA,EAAI,CAAC,CAAA,CAAA;AACvC;;ACzIA,MAAMsK,MAAI,GAAGA,MAAM,EAAG,CAAA;AAEtB,SAAS2L,sBAAsBA,CAACzY,KAAK,EAAE;EACrC,MAAM;IACJwX,QAAQ;IACRhV,EAAE;IACFvC,OAAO;IACPM,KAAK;IACLyN,YAAY;IACZR,OAAO;IACPkL,OAAO;IACPxI,IAAI;AACJrN,IAAAA,KAAK,GAAG,EAAE;AACV4K,IAAAA,QAAQ,GAAG,KAAK;IAChBuB,SAAS;IACTf,UAAU;IACVP,gBAAgB;AAChBiL,IAAAA,iBAAiB,GAAGC,iBAAiB;AACrCvW,IAAAA,OAAAA;AACF,GAAC,GAAGrC,KAAK,CAAA;EAET,MAAM,CAAEoO,UAAU,EAAEyK,cAAc,CAAE,GAAGxV,QAAQ,CAACR,KAAK,CAAC,CAAA;AAEtD,EAAA,MAAMqT,SAAS,GAAGpN,iBAAiB,CAACtG,EAAE,CAAC,CAAA;AACvC,EAAA,MAAMsW,YAAY,GAAGpV,MAAM,EAAE,CAAA;AAE7B,EAAA,MAAMqV,UAAU,GAAIC,QAAQ,CAAC5K,UAAU,CAAC,IAAIA,UAAU,CAAC6K,UAAU,CAAC,GAAG,CAAC,IAAK/I,IAAI,KAAK,UAAU,CAAA;EAC9F,MAAMgJ,aAAa,GAAIF,QAAQ,CAAC5K,UAAU,CAAC,IAAIA,UAAU,CAAC6K,UAAU,CAAC,GAAG,CAAC,GAAI7K,UAAU,CAAC+K,SAAS,CAAC,CAAC,CAAC,GAAG/K,UAAU,CAAA;EAEjH,MAAM,CAAEnF,KAAK,EAAEmQ,SAAS,CAAE,GAAG/V,QAAQ,CAAC8J,SAAS,CAAC,CAAA;EAEhD,MAAM;AACJnC,IAAAA,IAAI,EAAEqO,SAAS;AACf5I,IAAAA,MAAM,EAAE6I,WAAAA;AACV,GAAC,GAAG7W,UAAU,CAAC8N,gBAAgB,CAAC,CAAA;AAEhC,EAAA,MAAMgJ,QAAQ,GAAGD,WAAW,KAAK9W,EAAE,CAAA;AAEnC,EAAA,MAAMgX,QAAQ,GAAGA,CAACpM,MAAM,GAAG,CAAC,KAAK;IAC/B,MAAMqM,QAAQ,GAAGX,YAAY,CAACtU,OAAO,CAACkV,QAAQ,CAAC3U,QAAQ,CAACC,aAAa,CAAC,CAAA;;AAEtE;IACA,MAAM9B,QAAQ,GAAGuW,QAAQ,GAAG1U,QAAQ,CAACC,aAAa,CAAC2U,cAAc,GAAGtM,QAAQ,CAAA;AAE5E+L,IAAAA,SAAS,CAAClW,QAAQ,GAAGkK,MAAM,CAAC,CAAA;GAC7B,CAAA;AAED,EAAA,MAAM8J,mBAAmB,GAAGtP,OAAO,CAAC,MAAM;IACxC,OAAO4P,QAAQ,CAAE5O,QAAQ,IAAK;MAC5B4E,OAAO,CAAC5E,QAAQ,CAAC,CAAA;AACnB,KAAC,CAAC,CAAA;AACJ,GAAC,EAAE,CAAE4E,OAAO,EAAEgK,QAAQ,CAAE,CAAC,CAAA;EAEzB,MAAMnJ,aAAa,GAAGzF,QAAQ,IAAI;IAChCiQ,cAAc,CAACjQ,QAAQ,CAAC,CAAA;AAExB,IAAA,IAAI,OAAOA,QAAQ,KAAK,WAAW,IAAIA,QAAQ,KAAK,EAAE,IAAIA,QAAQ,KAAK,GAAG,EAAE;MAC1EsO,mBAAmB,CAAC/J,SAAS,CAAC,CAAA;AAChC,KAAC,MAAM;MACL+J,mBAAmB,CAACtO,QAAQ,CAAC,CAAA;AAC/B,KAAA;GAED,CAAA;AAED,EAAA,MAAMgR,gBAAgB,GAAGlP,iBAAiB,CAAC,MAAM;IAC/C,IAAIwF,IAAI,KAAK,UAAU,EAAE;AACvB,MAAA,OAAA;AACF,KAAA;IAEA,IAAI,CAAC6I,UAAU,EAAE;AACf1K,MAAAA,aAAa,CAAC,GAAG,GAAGD,UAAU,CAAC,CAAA;AACjC,KAAC,MAAM;MACLC,aAAa,CAAC6K,aAAa,CAAC,CAAA;AAC9B,KAAA;AACF,GAAC,CAAC,CAAA;EAEF,MAAMW,gBAAgB,GAAIjR,QAAQ,IAAK;AACrC,IAAA,IAAImQ,UAAU,EAAE;MACdnQ,QAAQ,GAAG,GAAG,GAAGA,QAAQ,CAAA;AAC3B,KAAA;IAEA,IAAIA,QAAQ,KAAKwF,UAAU,EAAE;AAC3B,MAAA,OAAA;AACF,KAAA;IAEAC,aAAa,CAACzF,QAAQ,CAAC,CAAA;AAEvB,IAAA,IAAI,CAACmQ,UAAU,IAAIC,QAAQ,CAACpQ,QAAQ,CAAC,IAAIA,QAAQ,CAACqQ,UAAU,CAAC,GAAG,CAAC,EAAE;AAEjE;MACAO,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA;AACd,KAAA;GACD,CAAA;AAED,EAAA,MAAMM,UAAU,GAAGpP,iBAAiB,CAACqP,IAAI,IAAI;AAE3C,IAAA,IAAI,EAAEA,IAAI,IAAIA,IAAI,CAACC,MAAM,CAAC,EAAE;MAC1BtB,OAAO,CAACvL,SAAS,CAAC,CAAA;AAClB,MAAA,OAAA;AACF,KAAA;IAEAuL,OAAO,CAAC,6BAA6B,CAAC,CAAA;AACxC,GAAC,CAAC,CAAA;AAEF,EAAA,MAAM3C,eAAe,GAAGA,CAACvV,IAAI,GAAG,MAAM,KAAK;AACzC,IAAA,MAAMyZ,YAAY,GAAG;MACnBzX,EAAE;MACFwL,YAAY;AACZR,MAAAA,OAAO,EAAEqM,gBAAgB;AACzB3W,MAAAA,QAAQ,EAAEgX,sBAAsB,CAACpB,YAAY,CAACtU,OAAO,CAAC;MACtDyJ,UAAU;AACV/M,MAAAA,KAAK,EAAEiZ,aAAa,CAACla,OAAO,EAAEM,KAAK,CAAC;MACpCmN,gBAAgB;MAChBlN,IAAI;AACJqC,MAAAA,KAAK,EAAEqW,aAAa;AACpBlK,MAAAA,SAAAA;KACD,CAAA;IAEDqK,SAAS,CAAC7W,EAAE,EAAEyX,YAAY,EAAE/D,SAAS,CAAC1R,OAAO,CAAC,CAAA;GAC/C,CAAA;AAEDI,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAI,OAAOqE,KAAK,KAAK,WAAW,EAAE;AAChCiN,MAAAA,SAAS,CAAC1R,OAAO,CAACyE,KAAK,CAACA,KAAK,CAAC,CAAA;MAC9BmQ,SAAS,CAACjM,SAAS,CAAC,CAAA;AACtB,KAAA;AACF,GAAC,EAAE,CAAElE,KAAK,CAAE,CAAC,CAAA;AAEbrE,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI/B,KAAK,KAAKuL,UAAU,EAAE;AACxB,MAAA,OAAA;AACF,KAAA;;AAEA;IACA,IAAI,CAACvL,KAAK,EAAE;AACVwL,MAAAA,aAAa,CAAC0K,UAAU,GAAG,GAAG,GAAG,EAAE,CAAC,CAAA;AACpC,MAAA,OAAA;AACF,KAAA;IAEA1K,aAAa,CAACxL,KAAK,CAAC,CAAA;AACtB,GAAC,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;;AAGb;AACA+B,EAAAA,SAAS,CAAC,MAAM;IACd,MAAMwV,WAAW,GAAGvW,KAAK,IAAI;MAC3B,IAAI,CAACkV,UAAU,EAAE;AACf,QAAA,OAAA;AACF,OAAA;AACAlV,MAAAA,KAAK,CAACwW,aAAa,CAACC,OAAO,CAAC,kBAAkB,EAAEzW,KAAK,CAACwW,aAAa,CAACE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAA;KACrF,CAAA;IAED,MAAMC,YAAY,GAAG3W,KAAK,IAAI;MAC5B,IAAIkV,UAAU,IAAIQ,QAAQ,EAAE;AAC1B,QAAA,OAAA;AACF,OAAA;MAEA,MAAMkB,IAAI,GAAG5W,KAAK,CAACwW,aAAa,CAACE,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAE5D,MAAA,IAAIE,IAAI,EAAE;AACRzW,QAAAA,UAAU,CAAC,MAAM;AACf4V,UAAAA,gBAAgB,EAAE,CAAA;AAClBJ,UAAAA,QAAQ,EAAE,CAAA;AACZ,SAAC,CAAC,CAAA;AACJ,OAAA;KACD,CAAA;IACDV,YAAY,CAACtU,OAAO,CAACe,gBAAgB,CAAC,MAAM,EAAE6U,WAAW,CAAC,CAAA;IAC1DtB,YAAY,CAACtU,OAAO,CAACe,gBAAgB,CAAC,KAAK,EAAE6U,WAAW,CAAC,CAAA;IACzDtB,YAAY,CAACtU,OAAO,CAACe,gBAAgB,CAAC,OAAO,EAAEiV,YAAY,CAAC,CAAA;AAE5D,IAAA,OAAO,MAAM;MACX1B,YAAY,CAACtU,OAAO,CAACgB,mBAAmB,CAAC,MAAM,EAAE4U,WAAW,CAAC,CAAA;MAC7DtB,YAAY,CAACtU,OAAO,CAACgB,mBAAmB,CAAC,KAAK,EAAE4U,WAAW,CAAC,CAAA;MAC5DtB,YAAY,CAACtU,OAAO,CAACgB,mBAAmB,CAAC,OAAO,EAAEgV,YAAY,CAAC,CAAA;KAChE,CAAA;GACF,EAAE,CAAE1B,YAAY,EAAEC,UAAU,EAAEa,gBAAgB,EAAEJ,QAAQ,CAAE,CAAC,CAAA;AAE5D,EAAA,OACE7Y,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAGsL,UAAU,CACrB,iCAAiC,EACjC;AAAE,MAAA,aAAa,EAAE6M,UAAAA;AAAW,KAC9B,CAAG;AAAAlY,IAAAA,QAAA,GACDF,IAAA,CAAA,OAAA,EAAA;AAAOwW,MAAAA,GAAG,EAAGpU,UAAQ,CAACP,EAAE,CAAG;AAAC5B,MAAAA,KAAK,EAAC,4BAA4B;AAACkF,MAAAA,OAAO,EAAGA,MAAM0T,QAAQ,EAAI;MAAA3Y,QAAA,EAAA,CACzFC,GAAA,CAACgC,cAAO,EAAA;AAACD,QAAAA,KAAK,EAAGR,OAAS;AAACM,QAAAA,KAAK,EAAGH,EAAI;QAACvC,OAAO,EAAGD,KAAK,CAACC,OAAS;AAAAY,QAAAA,QAAA,EAC9DN,KAAAA;AAAK,OACC,CAAC,EACVO,GAAA,CAACmP,QAAQ,EAAA;AACP1P,QAAAA,KAAK,EAAGA,KAAO;AACf2P,QAAAA,IAAI,EAAGA,IAAM;AACbpK,QAAAA,OAAO,EAAG8T,gBAAkB;AAC5B5J,QAAAA,MAAM,EAAG+I,UAAAA;AAAY,OAAW,CAAC,CAAA;KAC9B,CAAC,EAERpY,IAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAC,qCAAqC;AAACiF,MAAAA,GAAG,EAAGiT,YAAc;MAAAjY,QAAA,EAAA,CACnEC,GAAA,CAACiP,aAAa,EAAA;AACZC,QAAAA,MAAM,EAAG+I,UAAY;AACrBtL,QAAAA,QAAQ,EAAGyC,IAAI,KAAK,UAAU,IAAIzC,QAAU;AAC5C3H,QAAAA,OAAO,EAAG8T,gBAAAA;AAAkB,OAC7B,CAAC,EACDb,UAAU,GACTjY,GAAA,CAACwM,UAAU,EAAA;AACTwB,QAAAA,IAAI,EAAGtM,EAAI;AACXgL,QAAAA,OAAO,EAAGqM,gBAAkB;AAC5B9L,QAAAA,iBAAiB,EAAG;AAAE,UAAA,IAAI,EAAEhL,UAAQ,CAACP,EAAE,CAAC;AAAE,UAAA,YAAY,EAAEjC,KAAAA;SAAS;AACjEkN,QAAAA,QAAQ,EAAGA,QAAU;AACrBK,QAAAA,SAAS,EAAGyL,QAAU;QACtBxK,YAAY,EAAGA,MAAM;AAAE6K,UAAAA,gBAAgB,EAAE,CAAA;UAAEJ,QAAQ,CAAC,IAAI,CAAC,CAAA;SAAK;AAC9D5L,QAAAA,MAAM,EAAGkM,UAAY;AACrBjM,QAAAA,WAAW,EAAGkI,eAAiB;AAC/BlT,QAAAA,KAAK,EAAGqW,aAAe;AACvBlK,QAAAA,SAAS,EAAGA,SAAW;AACvBnJ,QAAAA,GAAG,EAAGqQ,SAAW;AACjBxI,QAAAA,gBAAgB,EAAGA,gBAAAA;AAAkB,OACtC,CAAC,GACF5M,GAAA,CAAC6X,iBAAiB,EAAA;AAAA,QAAA,GACX3Y,KAAK;AACV8N,QAAAA,SAAS,EAAGyL,QAAU;AACtB/L,QAAAA,OAAO,EAAGqM,gBAAkB;AAC5B9L,QAAAA,iBAAiB,EAAG;AAAE,UAAA,IAAI,EAAEhL,UAAQ,CAACP,EAAE,CAAC;AAAE,UAAA,YAAY,EAAEjC,KAAAA;SAAS;AACjEsC,QAAAA,KAAK,EAAGuL,UAAY;AACpBvI,QAAAA,GAAG,EAAGqQ,SAAW;AACjBrI,QAAAA,WAAW,EAAGkI,eAAiB;AAC/B+C,QAAAA,YAAY,EAAGA,YAAAA;AAAc,OAC9B,CAAC,CAAA;AAAA,KAED,CAAC,CAAA;AAAA,GACH,CAAC,CAAA;AAEV,CAAA;AAEA,MAAM4B,aAAa,GAAGC,kBAAkB,CAAClC,sBAAsB,CAAC,CAAA;AAEhE,MAAMG,iBAAiB,GAAGrL,UAAU,CAAC,CAACvN,KAAK,EAAE6F,GAAG,KAAK;EACnD,MAAM;IACJrD,EAAE;IACFiL,QAAQ;IACRD,OAAO;IACP3K,KAAK;IACLuD,OAAO;AACP6Q,IAAAA,MAAAA;AACF,GAAC,GAAGjX,KAAK,CAAA;AAET,EAAA,MAAMkO,QAAQ,GAAGxK,MAAM,EAAE,CAAA;;AAEzB;AACA;EACAmC,GAAG,CAACrB,OAAO,GAAG;IACZyE,KAAK,EAAG/F,QAAQ,IAAK;AACnB,MAAA,MAAM0X,KAAK,GAAG1M,QAAQ,CAAC1J,OAAO,CAAA;MAC9B,IAAI,CAACoW,KAAK,EAAE;AACV,QAAA,OAAA;AACF,OAAA;MAEAA,KAAK,CAAC3R,KAAK,EAAE,CAAA;AACb,MAAA,IAAI,OAAO/F,QAAQ,KAAK,QAAQ,EAAE;AAChC,QAAA,IAAIA,QAAQ,GAAGL,KAAK,CAACmX,MAAM,EAAE;UAC3B9W,QAAQ,GAAGL,KAAK,CAACmX,MAAM,CAAA;AACzB,SAAA;AACAY,QAAAA,KAAK,CAACC,iBAAiB,CAAC3X,QAAQ,EAAEA,QAAQ,CAAC,CAAA;AAC7C,OAAA;AAEF,KAAA;GACD,CAAA;AAED,EAAA,OAAOpC,GAAA,CAAA,OAAA,EAAA;AACL0B,IAAAA,EAAE,EAAGO,UAAQ,CAACP,EAAE,CAAG;AACnBhC,IAAAA,IAAI,EAAC,MAAM;AACXqF,IAAAA,GAAG,EAAGqI,QAAU;AAChBY,IAAAA,IAAI,EAAGtM,EAAI;AACXwV,IAAAA,UAAU,EAAC,OAAO;AAClBC,IAAAA,YAAY,EAAC,KAAK;AAClBxK,IAAAA,QAAQ,EAAGA,QAAU;AACrB7M,IAAAA,KAAK,EAAC,4BAA4B;IAClC4M,OAAO,EAAGrJ,CAAC,IAAIqJ,OAAO,CAACrJ,CAAC,CAAC9C,MAAM,CAACwB,KAAK,CAAG;AACxCuD,IAAAA,OAAO,EAAGA,OAAS;AACnB6Q,IAAAA,MAAM,EAAGA,MAAQ;IACjBpU,KAAK,EAAGA,KAAK,IAAI,EAAA;AAAI,GAAE,CAAC,CAAA;AAC5B,CAAC,CAAC,CAAA;AAGF,MAAMiY,uBAAuB,GAAGvN,UAAU,CAAC,CAACvN,KAAK,EAAE6F,GAAG,KAAK;EACzD,MAAM;IACJrD,EAAE;IACFgV,QAAQ;IACR/J,QAAQ;IACRD,OAAO;IACP3K,KAAK;IACL8U,GAAG;IACHD,GAAG;IACHE,IAAI;IACJxR,OAAO;AACP6Q,IAAAA,MAAAA;AACF,GAAC,GAAGjX,KAAK,CAAA;AAET,EAAA,MAAMkO,QAAQ,GAAGxK,MAAM,EAAE,CAAA;;AAEzB;AACA;EACAmC,GAAG,CAACrB,OAAO,GAAG;IACZyE,KAAK,EAAG/F,QAAQ,IAAK;AACnB,MAAA,MAAM0X,KAAK,GAAG1M,QAAQ,CAAC1J,OAAO,CAAA;MAC9B,IAAI,CAACoW,KAAK,EAAE;AACV,QAAA,OAAA;AACF,OAAA;MAEAA,KAAK,CAAC3R,KAAK,EAAE,CAAA;MACb,IAAI,OAAO/F,QAAQ,KAAK,QAAQ,IAAIA,QAAQ,KAAKmK,QAAQ,EAAE;AACzD,QAAA,IAAInK,QAAQ,GAAGL,KAAK,CAACmX,MAAM,EAAE;UAC3B9W,QAAQ,GAAGL,KAAK,CAACmX,MAAM,CAAA;AACzB,SAAA;AACAY,QAAAA,KAAK,CAACC,iBAAiB,CAAC3X,QAAQ,EAAEA,QAAQ,CAAC,CAAA;AAC7C,OAAA;AAEF,KAAA;GACD,CAAA;EAED,OAAOpC,GAAA,CAACyW,WAAW,EAAA;AACjB/U,IAAAA,EAAE,EAAGA,EAAI;AACTgV,IAAAA,QAAQ,EAAGA,QAAU;AACrB/J,IAAAA,QAAQ,EAAGA,QAAU;AACrBgK,IAAAA,YAAY,EAAG,KAAO;AACtBvJ,IAAAA,QAAQ,EAAGA,QAAU;AACrBwJ,IAAAA,GAAG,EAAGA,GAAK;AACXC,IAAAA,GAAG,EAAGA,GAAK;AACXnK,IAAAA,OAAO,EAAGA,OAAS;AACnBoK,IAAAA,IAAI,EAAGA,IAAM;AACb/U,IAAAA,KAAK,EAAGA,KAAO;AACfuD,IAAAA,OAAO,EAAGA,OAAS;AACnB6Q,IAAAA,MAAM,EAAGA,MAAAA;AAAQ,GAClB,CAAC,CAAA;AACJ,CAAC,CAAC,CAAA;AAGF,MAAM8D,oBAAoB,GAAGxN,UAAU,CAAC,CAACvN,KAAK,EAAE6F,GAAG,KAAK;EACtD,MAAM;IACJrD,EAAE;IACFiL,QAAQ;IACRD,OAAO;IACP3K,KAAK;IACLuD,OAAO;AACP6Q,IAAAA,MAAAA;AACF,GAAC,GAAGjX,KAAK,CAAA;AAET,EAAA,MAAMkO,QAAQ,GAAGxK,MAAM,EAAE,CAAA;;AAEzB;AACA;EACAmC,GAAG,CAACrB,OAAO,GAAG;IACZyE,KAAK,EAAEA,MAAM;AACX,MAAA,MAAM2R,KAAK,GAAG1M,QAAQ,CAAC1J,OAAO,CAAA;MAC9B,IAAI,CAACoW,KAAK,EAAE;AACV,QAAA,OAAA;AACF,OAAA;MAEAA,KAAK,CAAC3R,KAAK,EAAE,CAAA;AACb2R,MAAAA,KAAK,CAACC,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;AAC/B,KAAA;GACD,CAAA;AAED,EAAA,OAAO/Z,GAAA,CAAA,UAAA,EAAA;AACL0B,IAAAA,EAAE,EAAGO,UAAQ,CAACP,EAAE,CAAG;AACnBhC,IAAAA,IAAI,EAAC,MAAM;AACXqF,IAAAA,GAAG,EAAGqI,QAAU;AAChBY,IAAAA,IAAI,EAAGtM,EAAI;AACXwV,IAAAA,UAAU,EAAC,OAAO;AAClBC,IAAAA,YAAY,EAAC,KAAK;AAClBxK,IAAAA,QAAQ,EAAGA,QAAU;AACrB7M,IAAAA,KAAK,EAAC,4BAA4B;IAClC4M,OAAO,EAAGrJ,CAAC,IAAIqJ,OAAO,CAACrJ,CAAC,CAAC9C,MAAM,CAACwB,KAAK,CAAG;AACxCuD,IAAAA,OAAO,EAAGA,OAAS;AACnB6Q,IAAAA,MAAM,EAAGA,MAAQ;IACjBpU,KAAK,EAAGA,KAAK,IAAI,EAAI;IACrB,YAAW,EAAA,OAAA;AAAO,GACnB,CAAC,CAAA;AACJ,CAAC,CAAC,CAAA;AAEF,MAAMmY,wBAAwB,GAAGzN,UAAU,CAAC,CAACvN,KAAK,EAAE6F,GAAG,KAAK;EAC1D,MAAM;IACJrD,EAAE;IACFgL,OAAO;IACP3K,KAAK;IACLuD,OAAO;IACP6Q,MAAM;AACNF,IAAAA,aAAAA;AACF,GAAC,GAAG/W,KAAK,CAAA;AAET,EAAA,MAAMkO,QAAQ,GAAGxK,MAAM,EAAE,CAAA;;AAEzB;AACA;EACAmC,GAAG,CAACrB,OAAO,GAAG;IACZyE,KAAK,EAAEA,MAAM;AACX,MAAA,MAAM2R,KAAK,GAAG1M,QAAQ,CAAC1J,OAAO,CAAA;MAC9B,IAAI,CAACoW,KAAK,EAAE;AACV,QAAA,OAAA;AACF,OAAA;MAEAA,KAAK,CAAC3R,KAAK,EAAE,CAAA;AACf,KAAA;GACD,CAAA;EAED,OAAOnI,GAAA,CAACgW,YAAY,EAAA;AAClBtU,IAAAA,EAAE,EAAGA,EAAI;AACTK,IAAAA,KAAK,EAAGA,KAAO;AACfqL,IAAAA,QAAQ,EAAGA,QAAU;AACrBV,IAAAA,OAAO,EAAGA,OAAS;AACnBpH,IAAAA,OAAO,EAAGA,OAAS;AACnB6Q,IAAAA,MAAM,EAAGA,MAAQ;AACjBF,IAAAA,aAAa,EAAGA,aAAAA;AAAe,GAAE,CAAC,CAAA;AACtC,CAAC,CAAC,CAAA;AAGF,MAAMkE,oBAAoB,GAAG1N,UAAU,CAAC,CAACvN,KAAK,EAAE6F,GAAG,KAAK;EACtD,MAAM;IACJrD,EAAE;IACFiL,QAAQ;IACRD,OAAO;IACP3K,KAAK;IACLuD,OAAO;AACP6Q,IAAAA,MAAAA;AACF,GAAC,GAAGjX,KAAK,CAAA;AAET,EAAA,MAAMkO,QAAQ,GAAGxK,MAAM,EAAE,CAAA;EAEzB,MAAMwX,YAAY,GAAGA,CAAC;AAAE7Z,IAAAA,MAAAA;AAAO,GAAC,KAAK;AACnCmM,IAAAA,OAAO,CAACnM,MAAM,CAAC+V,OAAO,CAAC,CAAA;GACxB,CAAA;;AAED;AACA;EACAvR,GAAG,CAACrB,OAAO,GAAG;IACZyE,KAAK,EAAEA,MAAM;AACX,MAAA,MAAM2R,KAAK,GAAG1M,QAAQ,CAAC1J,OAAO,CAAA;MAC9B,IAAI,CAACoW,KAAK,EAAE;AACV,QAAA,OAAA;AACF,OAAA;MAEAA,KAAK,CAAC3R,KAAK,EAAE,CAAA;AACf,KAAA;GACD,CAAA;AAED,EAAA,OAAOnI,GAAA,CAAA,OAAA,EAAA;AACL+E,IAAAA,GAAG,EAAGqI,QAAU;AAChB1L,IAAAA,EAAE,EAAGO,UAAQ,CAACP,EAAE,CAAG;AACnBsM,IAAAA,IAAI,EAAGtM,EAAI;AACX4D,IAAAA,OAAO,EAAGA,OAAS;AACnB6Q,IAAAA,MAAM,EAAGA,MAAQ;AACjBzW,IAAAA,IAAI,EAAC,UAAU;AACfI,IAAAA,KAAK,EAAC,4BAA4B;AAClC6N,IAAAA,QAAQ,EAAGyM,YAAc;AACzB9D,IAAAA,OAAO,EAAGvU,KAAO;AACjB4K,IAAAA,QAAQ,EAAGA,QAAAA;AAAU,GAAE,CAAC,CAAA;AAC5B,CAAC,CAAC,CAAA;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAAS0N,SAASA,CAACnb,KAAK,EAAE;EACvC,MAAM;IACJC,OAAO;IACPuC,EAAE;IACFf,WAAW;IACX+V,QAAQ;IACR/J,QAAQ;IACRyC,IAAI;IACJ3P,KAAK;IACL+W,QAAQ;IACR3I,QAAQ;IACRjB,gBAAgB;IAChBM,YAAY;IACZC,UAAU;IACVkK,QAAQ;AACRrU,IAAAA,IAAI,GAAGgJ,MAAI;IACXsO,OAAO;IACPpM,SAAS;IACT5I,OAAO;IACP6Q,MAAM;AACN5U,IAAAA,OAAAA;AACF,GAAC,GAAGrC,KAAK,CAAA;EAET,MAAM,CAAEqb,eAAe,EAAEC,kBAAkB,CAAE,GAAGjY,QAAQ,CAAC,IAAI,CAAC,CAAA;EAC9D,MAAM,CAAEgV,UAAU,EAAEC,aAAa,CAAE,GAAGjV,QAAQ,CAAC,IAAI,CAAC,CAAA;AAEpD,EAAA,IAAIR,KAAK,GAAGyU,QAAQ,CAACrX,OAAO,CAAC,CAAA;AAE7B2E,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAIuE,UAAU,CAACgP,QAAQ,CAAC,EAAE;AACxB,MAAA,MAAMI,kBAAkB,GAAGJ,QAAQ,CAACtV,KAAK,CAAC,IAAI,IAAI,CAAA;MAElDyY,kBAAkB,CAAC/C,kBAAkB,CAAC,CAAA;AACxC,KAAA;AACF,GAAC,EAAE,CAAE1V,KAAK,EAAEsV,QAAQ,CAAE,CAAC,CAAA;AAEvB,EAAA,MAAM3K,OAAO,GAAG9C,iBAAiB,CAAE9B,QAAQ,IAAK;IAC9C,IAAI2P,kBAAkB,GAAG,IAAI,CAAA;AAE7B,IAAA,IAAIpP,UAAU,CAACgP,QAAQ,CAAC,EAAE;AACxBI,MAAAA,kBAAkB,GAAGJ,QAAQ,CAACvP,QAAQ,CAAC,IAAI,IAAI,CAAA;AACjD,KAAA;;AAEA;IACA,IAAIA,QAAQ,KAAK/F,KAAK,EAAE;AACtB8L,MAAAA,QAAQ,CAAC/F,QAAQ,EAAE2P,kBAAkB,CAAC,CAAA;AACxC,KAAA;IAEA+C,kBAAkB,CAAC/C,kBAAkB,CAAC,CAAA;AACxC,GAAC,CAAC,CAAA;AAEF,EAAA,MAAMG,OAAO,GAAG/P,WAAW,CAAC4S,GAAG,IAAI;IACjCjD,aAAa,CAACiD,GAAG,CAAC,CAAA;GACnB,EAAE,EAAE,CAAC,CAAA;AAEN,EAAA,MAAMC,cAAc,GAAGxU,QAAQ,CAACxE,EAAE,CAAC,CAAA;AAEnC,EAAA,MAAMgW,KAAK,GAAGgD,cAAc,IAAInD,UAAU,IAAIgD,eAAe,CAAA;AAE7D,EAAA,OACE1a,IAAA,CAAA,KAAA,EAAA;AACEC,IAAAA,KAAK,EAAGsL,UAAU,CAChBlM,KAAK,CAACY,KAAK,EACX,4BAA4B,EAC5B4X,KAAK,GAAG,WAAW,GAAG,EAAE,CACzB;AACD,IAAA,eAAA,EAAgBhW,EAAI;IAAA3B,QAAA,EAAA,CACpB2L,aAAA,CAACkO,aAAa,EAAA;AAAA,MAAA,GACP1a,KAAK;AACVwX,MAAAA,QAAQ,EAAGA,QAAU;AACrB/J,MAAAA,QAAQ,EAAGA,QAAU;AACrByC,MAAAA,IAAI,EAAGA,IAAM;AACb1N,MAAAA,EAAE,EAAGA,EAAI;AACTuF,MAAAA,GAAG,EAAG9H,OAAS;AACfM,MAAAA,KAAK,EAAGA,KAAO;AACfiN,MAAAA,OAAO,EAAGA,OAAS;AACnBkL,MAAAA,OAAO,EAAGA,OAAS;AACnBtS,MAAAA,OAAO,EAAGA,OAAS;AACnB6Q,MAAAA,MAAM,EAAGA,MAAQ;AACjBmE,MAAAA,OAAO,EAAGA,OAAS;AACnBpN,MAAAA,YAAY,EAAGA,YAAc;AAC7BC,MAAAA,UAAU,EAAGA,UAAY;AACzBnK,MAAAA,IAAI,EAAGA,IAAM;AACbjB,MAAAA,KAAK,EAAGA,KAAO;AACfmM,MAAAA,SAAS,EAAGA,SAAW;AACvBtB,MAAAA,gBAAgB,EAAGA,gBAAkB;MACrCiL,iBAAiB,EAAG3Y,KAAK,CAAC2Y,iBAAmB;AAC7CtW,MAAAA,OAAO,EAAGA,OAAAA;AAAS,KAAE,CAAC,EACvBmW,KAAK,IAAI1X,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,4BAA4B;AAAAC,MAAAA,QAAA,EAAE2X,KAAAA;AAAK,KAAM,CAAC,EAC/D1X,GAAA,CAAC+L,WAAW,EAAA;AAAClK,MAAAA,KAAK,EAAGH,EAAI;AAACvC,MAAAA,OAAO,EAAGA,OAAS;AAAC4C,MAAAA,KAAK,EAAGpB,WAAAA;AAAa,KAAE,CAAC,CAAA;AAAA,GACnE,CAAC,CAAA;AAEV,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASga,eAAeA,CAACzb,KAAK,EAAE;EACrC,OAAOc,GAAA,CAACqa,SAAS,EAAA;AAACva,IAAAA,KAAK,EAAC,kCAAkC;AAAC+X,IAAAA,iBAAiB,EAAGmC,uBAAyB;IAAA,GAAM9a,KAAAA;AAAK,GAAI,CAAC,CAAA;AAC1H,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS0b,iBAAiBA,CAAC1b,KAAK,EAAE;EACvC,OAAOc,GAAA,CAACqa,SAAS,EAAA;AAACva,IAAAA,KAAK,EAAC,oCAAoC;AAAC+X,IAAAA,iBAAiB,EAAGoC,oBAAsB;IAAA,GAAM/a,KAAAA;AAAK,GAAI,CAAC,CAAA;AACzH,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS2b,qBAAqBA,CAAC3b,KAAK,EAAE;EAC3C,OAAOc,GAAA,CAACqa,SAAS,EAAA;AAACva,IAAAA,KAAK,EAAC,yCAAyC;AAAC+X,IAAAA,iBAAiB,EAAGqC,wBAA0B;IAAA,GAAMhb,KAAAA;AAAK,GAAI,CAAC,CAAA;AAClI,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS4b,iBAAiBA,CAAC5b,KAAK,EAAE;EACvC,OAAOc,GAAA,CAACqa,SAAS,EAAA;AAACva,IAAAA,KAAK,EAAC,oCAAoC;AAAC+X,IAAAA,iBAAiB,EAAGsC,oBAAsB;IAAA,GAAMjb,KAAAA;AAAK,GAAI,CAAC,CAAA;AACzH,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS6b,mBAAmBA,CAAC7b,KAAK,EAAE;EACzC,OAAOc,GAAA,CAACqa,SAAS,EAAA;AAACva,IAAAA,KAAK,EAAC,sCAAsC;AAAC+X,IAAAA,iBAAiB,EAAGlC,YAAkB;IAAA,GAAMzW,KAAAA;AAAK,GAAI,CAAC,CAAA;AACvH,CAAA;AAEO,SAAS0L,UAAQA,CAACiJ,IAAI,EAAE;EAC7B,IAAI,CAACA,IAAI,EAAE;AACT,IAAA,OAAO,KAAK,CAAA;AACd,GAAA;AAEA,EAAA,IAAIA,IAAI,CAACnU,IAAI,KAAK,UAAU,EAAE;AAC5B,IAAA,OAAO,CAAC,CAACmU,IAAI,CAACyC,OAAO,IAAIzC,IAAI,CAACmH,SAAS,CAACpC,QAAQ,CAAC,QAAQ,CAAC,CAAA;AAC5D,GAAA;AAEA,EAAA,OAAO,CAAC,CAAC/E,IAAI,CAAC9R,KAAK,IAAI8R,IAAI,CAACmH,SAAS,CAACpC,QAAQ,CAAC,QAAQ,CAAC,CAAA;AAC1D,CAAA;;AAGA;;AAEA,SAAS3W,UAAQA,CAACP,EAAE,EAAE;EACpB,OAAQ,CAAA,qBAAA,EAAuBA,EAAG,CAAC,CAAA,CAAA;AACrC,CAAA;AAEA,SAAS0X,sBAAsBA,CAACja,OAAO,EAAE;EACvC,MAAM;IAAEuG,GAAG;AAAEG,IAAAA,IAAAA;AAAK,GAAC,GAAG1G,OAAO,CAAC0E,qBAAqB,EAAE,CAAA;EAErD,OAAO;AACLgC,IAAAA,IAAI,EAAEA,IAAI,GAAGiO,gBAAgB,GAAG,EAAE;AAClCpO,IAAAA,GAAG,EAAEA,GAAAA;GACN,CAAA;AACH,CAAA;;AAEA;AACA,SAAS2T,aAAaA,CAACla,OAAO,EAAEM,KAAK,EAAE;EACrC,IAAIwb,UAAU,GAAG,EAAE,CAAA;AAEnB,EAAA,IAAI9b,OAAO,IAAIA,OAAO,CAACO,IAAI,EAAE;AAC3Bub,IAAAA,UAAU,GAAI,CAAA,EAAE9b,OAAO,CAACO,IAAK,CAAI,GAAA,CAAA,CAAA;AACnC,GAAA;AAEA,EAAA,OAAQ,CAAEub,EAAAA,UAAW,CAAExb,EAAAA,KAAM,CAAC,CAAA,CAAA;AAChC,CAAA;AAGA,SAASoa,kBAAkBA,CAACpO,SAAS,EAAE;EACrC,OAAO,UAASvM,KAAK,EAAE;IACrB,MAAM;AAAEwC,MAAAA,EAAAA;AAAG,KAAC,GAAGxC,KAAK,CAAA;IACpB,MAAM;AACJwQ,MAAAA,KAAAA;AACF,KAAC,GAAG/N,UAAU,CAAC8N,gBAAgB,CAAC,CAAA;AAEhC,IAAA,MAAMyL,UAAU,GAAGtR,iBAAiB,CAAC8F,KAAK,CAAC,CAAA;AAE3C5L,IAAAA,SAAS,CAAC,MAAM;AACd,MAAA,OAAO,MAAM;AACXoX,QAAAA,UAAU,CAAC;AAAExZ,UAAAA,EAAAA;AAAG,SAAC,CAAC,CAAA;OACnB,CAAA;KACF,EAAE,EAAG,CAAC,CAAA;IAEP,OAAO1B,GAAA,CAACyL,SAAS,EAAA;MAAA,GAAMvM,KAAAA;AAAK,KAAI,CAAC,CAAA;GAClC,CAAA;AACH;;AC5uBA,MAAMic,cAAc,GAAG,EAAE,CAAA;AAEzB,MAAMC,mBAAmB,GAAG,EAAE,CAAA;AAE9B,MAAMC,eAAe,GAAG,EAAE,CAAA;;AAG1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASC,eAAeA,CAACpc,KAAK,EAAE;EAC7C,MAAM;IACJC,OAAO;IACPC,cAAc;IACdmc,mBAAmB;IACnBC,MAAM;IACNC,YAAY;IACZC,aAAa;IACbC,iBAAiB;IACjBC,iBAAiB;IACjBC,aAAa;IACbC,aAAa;IACbC,kBAAkB;AAClB/a,IAAAA,QAAAA;AACF,GAAC,GAAG9B,KAAK,CAAA;;AAET;AACA,EAAA,MAAM,CAAEgC,MAAM,EAAEC,SAAS,CAAE,GAAGoB,QAAQ,CAACyZ,YAAY,CAACP,YAAY,CAAC,CAAC,CAAA;;AAElE;AACAQ,EAAAA,qBAAqB,CAAC,MAAM;AAC1B,IAAA,MAAMC,SAAS,GAAGF,YAAY,CAACP,YAAY,CAAC,CAAA;IAE5Cta,SAAS,CAAC+a,SAAS,CAAC,CAAA;AACtB,GAAC,EAAE,CAAET,YAAY,CAAE,CAAC,CAAA;AAEpB3X,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAI,OAAO4X,aAAa,KAAK,UAAU,EAAE;MACvCA,aAAa,CAACxa,MAAM,CAAC,CAAA;AACvB,KAAA;AACF,GAAC,EAAE,CAAEA,MAAM,EAAEwa,aAAa,CAAE,CAAC,CAAA;AAE7B,EAAA,MAAMta,eAAe,GAAGA,CAAC6F,GAAG,EAAES,YAAY,KAAK;AAC7C,IAAA,OAAOR,GAAG,CAAChG,MAAM,EAAE+F,GAAG,EAAES,YAAY,CAAC,CAAA;GACtC,CAAA;AAED,EAAA,MAAMrG,eAAe,GAAGA,CAAC4F,GAAG,EAAE4N,MAAM,KAAK;IACvC,MAAMqH,SAAS,GAAGC,MAAM,CAAC,EAAE,EAAEjb,MAAM,CAAC,CAAA;AACpCqG,IAAAA,GAAG,CAAC2U,SAAS,EAAEjV,GAAG,EAAE4N,MAAM,CAAC,CAAA;IAC3B1T,SAAS,CAAC+a,SAAS,CAAC,CAAA;GACrB,CAAA;AAED,EAAA,MAAME,aAAa,GAAG;IACpBlb,MAAM;IACNC,SAAS;IACTC,eAAe;AACfC,IAAAA,eAAAA;GACD,CAAA;;AAED;AACA,EAAA,MAAMV,WAAW,GAAGmG,OAAO,CAAC,MAAMuV,wBAAwB,CAACV,iBAAiB,CAAC,EAAE,CAAEA,iBAAiB,CAAE,CAAC,CAAA;AAErG7X,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAI,OAAO8X,iBAAiB,KAAK,UAAU,EAAE;MAC3CA,iBAAiB,CAACjb,WAAW,CAAC,CAAA;AAChC,KAAA;AACF,GAAC,EAAE,CAAEA,WAAW,EAAEib,iBAAiB,CAAE,CAAC,CAAA;AAGtC,EAAA,MAAMhb,mBAAmB,GAAGA,CAACc,EAAE,EAAEvC,OAAO,KAAK;IAC3C,OAAOwB,WAAW,CAACe,EAAE,CAAC,IAAIf,WAAW,CAACe,EAAE,CAAC,CAACvC,OAAO,CAAC,CAAA;GACnD,CAAA;AAED,EAAA,MAAMmd,kBAAkB,GAAG;IACzB3b,WAAW;AACXC,IAAAA,mBAAAA;GACD,CAAA;;AAED;AACA,EAAA,MAAMW,OAAO,GAAGuF,OAAO,CAAC,MAAMyV,oBAAoB,CAACV,aAAa,CAAC,EAAE,CAAEA,aAAa,CAAE,CAAC,CAAA;AAErF/X,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAI,OAAOgY,aAAa,KAAK,UAAU,EAAE;MACvCA,aAAa,CAACva,OAAO,CAAC,CAAA;AACxB,KAAA;AACF,GAAC,EAAE,CAAEA,OAAO,EAAEua,aAAa,CAAE,CAAC,CAAA;AAE9B,EAAA,MAAMta,eAAe,GAAGA,CAACE,EAAE,EAAEvC,OAAO,KAAK;IACvC,OAAOoC,OAAO,CAACG,EAAE,CAAC,IAAIH,OAAO,CAACG,EAAE,CAAC,CAACvC,OAAO,CAAC,CAAA;GAC3C,CAAA;AAED,EAAA,MAAMqd,cAAc,GAAG;IACrBjb,OAAO;AACPC,IAAAA,eAAAA;GACD,CAAA;EAED,MAAM,CAAEV,MAAM,EAAE2b,SAAS,CAAE,GAAGla,QAAQ,CAAC,EAAE,CAAC,CAAA;EAE1C,MAAMma,WAAW,GAAGA,CAAC;AAAE5b,IAAAA,MAAAA;AAAO,GAAC,KAAK2b,SAAS,CAAC3b,MAAM,CAAC,CAAA;AAErDsF,EAAAA,QAAQ,CAAC,2BAA2B,EAAEsW,WAAW,EAAE1b,QAAQ,CAAC,CAAA;AAE5D,EAAA,MAAM2b,aAAa,GAAG;AACpB7b,IAAAA,MAAAA;GACD,CAAA;AAED,EAAA,MAAMwF,YAAY,GAAG;AACnBtF,IAAAA,QAAAA;GACD,CAAA;AAED,EAAA,MAAMmK,sBAAsB,GAAG;AAC7BhM,IAAAA,OAAAA;GACD,CAAA;;AAED;AACA,EAAA,IAAIoc,mBAAmB,IAAI,CAACpc,OAAO,EAAE;IACnC,OAAOa,GAAA,CAAC2L,WAAW,EAAA;MAAA,GAAM4P,mBAAmB,CAACqB,QAAQ,EAAC;AAAC,KAAI,CAAC,CAAA;AAC9D,GAAA;;AAEA;AACA,EAAA,IAAIrB,mBAAmB,IAAIsB,OAAO,CAAC1d,OAAO,CAAC,EAAE;IAC3C,OAAOa,GAAA,CAAC2L,WAAW,EAAA;MAAA,GAAM4P,mBAAmB,CAACuB,WAAW,EAAC;AAAC,KAAI,CAAC,CAAA;AACjE,GAAA;AAEA,EAAA,OACE9c,GAAA,CAACkI,aAAsB,CAACqD,QAAQ,EAAA;AAACxJ,IAAAA,KAAK,EAAGoJ,sBAAwB;AAAApL,IAAAA,QAAA,EAC/DC,GAAA,CAACa,aAAa,CAAC0K,QAAQ,EAAA;AAACxJ,MAAAA,KAAK,EAAG4a,aAAe;AAAA5c,MAAAA,QAAA,EAC7CC,GAAA,CAACS,kBAAkB,CAAC8K,QAAQ,EAAA;AAACxJ,QAAAA,KAAK,EAAGua,kBAAoB;AAAAvc,QAAAA,QAAA,EACvDC,GAAA,CAACsB,cAAc,CAACiK,QAAQ,EAAA;AAACxJ,UAAAA,KAAK,EAAGya,cAAgB;AAAAzc,UAAAA,QAAA,EAC/CC,GAAA,CAACiB,aAAa,CAACsK,QAAQ,EAAA;AAACxJ,YAAAA,KAAK,EAAGqa,aAAe;AAAArc,YAAAA,QAAA,EAC7CC,GAAA,CAACe,YAAY,CAACwK,QAAQ,EAAA;AAACxJ,cAAAA,KAAK,EAAGuE,YAAc;cAAAvG,QAAA,EAC3CC,GAAA,CAAC+c,aAAa,EAAA;AACZ5d,gBAAAA,OAAO,EAAGA,OAAS;AACnB6B,gBAAAA,QAAQ,EAAGA,QAAU;AACrBkT,gBAAAA,cAAc,EAAG6H,kBAAoB;AAAAhc,gBAAAA,QAAA,EACrCF,IAAA,CAAA,KAAA,EAAA;AAAKC,kBAAAA,KAAK,EAAC,sBAAsB;kBAAAC,QAAA,EAAA,CAC/BC,GAAA,CAACf,MAAM,EAAA;AACLE,oBAAAA,OAAO,EAAGA,OAAS;AACnBC,oBAAAA,cAAc,EAAGA,cAAAA;mBAAkB,CAAC,EACtCY,GAAA,CAAA,KAAA,EAAA;AAAKF,oBAAAA,KAAK,EAAC,uCAAuC;AAAAC,oBAAAA,QAAA,EAE9Cyb,MAAM,CAAC3U,GAAG,CAACmW,KAAK,IAAI;sBAClB,MAAM;wBACJxR,SAAS,EAAEC,SAAS,GAAG1B,KAAK;AAC5BrI,wBAAAA,EAAAA;AACF,uBAAC,GAAGsb,KAAK,CAAA;sBAET,OACEtR,aAAA,CAACD,SAAS,EAAA;AAAA,wBAAA,GACHuR,KAAK;AACV/V,wBAAAA,GAAG,EAAGvF,EAAI;AACVvC,wBAAAA,OAAO,EAAGA,OAAAA;AAAS,uBAAE,CAAC,CAAA;qBAE3B,CAAA;AAAC,mBAED,CAAC,CAAA;iBACH,CAAA;eACQ,CAAA;aACM,CAAA;WACD,CAAA;SACD,CAAA;OACE,CAAA;KACP,CAAA;AAAC,GACM,CAAC,CAAA;AAEtC,CAAA;;AAGA;;AAEA,SAAS6c,YAAYA,CAACiB,SAAS,GAAG,EAAE,EAAEC,QAAQ,GAAG/B,cAAc,EAAE;EAC/D,OAAO;AACL,IAAA,GAAG+B,QAAQ;IACX,GAAGD,SAAAA;GACJ,CAAA;AACH,CAAA;AAEA,SAASZ,wBAAwBA,CAACY,SAAS,GAAG,EAAE,EAAE;EAChD,OAAO;AACL,IAAA,GAAG7B,mBAAmB;IACtB,GAAG6B,SAAAA;GACJ,CAAA;AACH,CAAA;AAEA,SAASV,oBAAoBA,CAACU,SAAS,GAAG,EAAE,EAAE;EAC5C,OAAO;AACL,IAAA,GAAG5B,eAAe;IAClB,GAAG4B,SAAAA;GACJ,CAAA;AACH,CAAA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAShB,qBAAqBA,CAACpG,MAAM,EAAEC,IAAI,EAAE;AAC3C,EAAA,MAAMC,SAAS,GAAGnT,MAAM,CAAC,KAAK,CAAC,CAAA;AAE/Bua,EAAAA,eAAe,CAAC,MAAM;IACpB,IAAIpH,SAAS,CAACrS,OAAO,EAAE;MACrB,OAAOmS,MAAM,EAAE,CAAA;AACjB,KAAC,MAAM;MACLE,SAAS,CAACrS,OAAO,GAAG,IAAI,CAAA;AAC1B,KAAA;GACD,EAAEoS,IAAI,CAAC,CAAA;AACV;;AClTO,SAASsH,cAAcA,CAACle,KAAK,EAAE;EACpC,MAAM;AACJY,IAAAA,KAAK,EAAEkR,SAAS;IAChBjR,QAAQ;AACRsd,IAAAA,SAAS,GAAG,EAAA;AACd,GAAC,GAAGne,KAAK,CAAA;AAET,EAAA,MAAMoe,WAAW,GAAG1a,MAAM,CAAC,IAAI,CAAC,CAAA;AAChC,EAAA,MAAM2a,OAAO,GAAG3a,MAAM,CAAC,IAAI,CAAC,CAAA;EAE5B,MAAM,CAAEsH,IAAI,EAAEC,OAAO,CAAE,GAAG5H,QAAQ,CAAC,KAAK,CAAC,CAAA;AACzC,EAAA,MAAMmN,KAAK,GAAGA,MAAMvF,OAAO,CAAC,KAAK,CAAC,CAAA;EAElC,SAASqT,gBAAgBA,CAACza,KAAK,EAAE;AAC/B,IAAA,IAAIwa,OAAO,CAAC7Z,OAAO,IAAI6Z,OAAO,CAAC7Z,OAAO,CAACkV,QAAQ,CAAC7V,KAAK,CAACxC,MAAM,CAAC,EAAE;AAC7D,MAAA,OAAA;AACF,KAAA;IAEAwC,KAAK,CAACkC,eAAe,EAAE,CAAA;AAEvBkF,IAAAA,OAAO,CAACD,IAAI,IAAI,CAACA,IAAI,CAAC,CAAA;AACxB,GAAA;AAEA,EAAA,SAASuT,aAAaA,CAAC1a,KAAK,EAAE2a,MAAM,EAAE;IACpC3a,KAAK,CAACkC,eAAe,EAAE,CAAA;AAEvByK,IAAAA,KAAK,EAAE,CAAA;AACPgO,IAAAA,MAAM,EAAE,CAAA;AACV,GAAA;EAEAC,cAAc,CAAC,CAAEL,WAAW,CAAC5Z,OAAO,CAAE,EAAE,MAAMgM,KAAK,EAAE,CAAC,CAAA;AAEtD,EAAA,OACE7P,IAAA,CAAA,KAAA,EAAA;AACEC,IAAAA,KAAK,EAAGsL,UAAU,CAAC,sCAAsC,EAAE;AAAElB,MAAAA,IAAAA;KAAM,EAAE8G,SAAS,CAAG;AACjFhM,IAAAA,OAAO,EAAGwY,gBAAkB;AAC5BzY,IAAAA,GAAG,EAAGuY,WAAa;IAAAvd,QAAA,EAAA,CAEjBA,QAAQ,EACVC,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,4CAA4C;AAACiF,MAAAA,GAAG,EAAGwY,OAAS;AAAAxd,MAAAA,QAAA,EACnEsd,SAAS,CAACxW,GAAG,CAAC,CAAC+W,IAAI,EAAEC,KAAK,KAC1B7d,GAAA,CAAC8d,QAAQ,EAAA;AAAC9Y,QAAAA,OAAO,EAAGyY,aAAe;AAACG,QAAAA,IAAI,EAAGA,IAAAA;AAAM,OAAA,EAAOC,KAAS,CAClE,CAAA;AAAC,KACC,CAAC,CAAA;AAAA,GACH,CAAC,CAAA;AAEV,CAAA;AAEA,SAASC,QAAQA,CAAC;EAAEF,IAAI;AAAE5Y,EAAAA,OAAAA;AAAQ,CAAC,EAAE;EACnC,IAAI4Y,IAAI,CAACG,SAAS,EAAE;AAClB,IAAA,OAAO/d,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,4GAAA;AAA4G,KAAE,CAAC,CAAA;AACnI,GAAA;EAEA,IAAI8d,IAAI,CAACF,MAAM,EAAE;AACf,IAAA,OAAQ1d,GAAA,CAAA,QAAA,EAAA;AACNN,MAAAA,IAAI,EAAC,QAAQ;AACbI,MAAAA,KAAK,EAAC,6GAA6G;MACnHkF,OAAO,EAAGjC,KAAK,IAAIiC,OAAO,CAACjC,KAAK,EAAE6a,IAAI,CAACF,MAAM,CAAG;MAAA3d,QAAA,EAE/C6d,IAAI,CAACvU,KAAAA;AAAK,KACL,CAAC,CAAA;AACX,GAAA;AAEA,EAAA,OAAOrJ,GAAA,CAAA,KAAA,EAAA;AACLF,IAAAA,KAAK,EAAC,iDAAiD;IAAAC,QAAA,EAEtD6d,IAAI,CAACvU,KAAAA;AAAK,GACR,CAAC,CAAA;AACR,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASsU,cAAcA,CAACK,eAAe,EAAE3X,QAAQ,EAAE;AACjDvC,EAAAA,SAAS,CAAC,MAAM;AAEd;AACJ;AACA;IACI,SAASma,QAAQA,CAAClb,KAAK,EAAE;AACvB,MAAA,IAAIib,eAAe,CAAC9S,IAAI,CAAC/L,OAAO,IAAIA,OAAO,IAAIA,OAAO,CAACyZ,QAAQ,CAAC7V,KAAK,CAACxC,MAAM,CAAC,CAAC,EAAE;AAC9E,QAAA,OAAA;AACF,OAAA;AAEA8F,MAAAA,QAAQ,EAAE,CAAA;AACZ,KAAA;AAEApC,IAAAA,QAAQ,CAACQ,gBAAgB,CAAC,OAAO,EAAEwZ,QAAQ,EAAE;AAAEC,MAAAA,OAAO,EAAE,IAAA;AAAK,KAAC,CAAC,CAAA;IAE/D,OAAO,MAAMja,QAAQ,CAACS,mBAAmB,CAAC,OAAO,EAAEuZ,QAAQ,EAAE;AAAEC,MAAAA,OAAO,EAAE,IAAA;AAAK,KAAC,CAAC,CAAA;AACjF,GAAC,EAAE,CAAE,GAAGF,eAAe,EAAE3X,QAAQ,CAAE,CAAC,CAAA;AACtC;;AC1GO,SAAS8X,YAAYA,CAACjf,KAAK,EAAE;EAClC,MAAM;AACJa,IAAAA,QAAQ,GAAG,IAAI;AACfD,IAAAA,KAAK,EAAEse,SAAS;AAChBpZ,IAAAA,OAAO,GAAGA,MAAM,EAAE;IAClB,GAAGqZ,UAAAA;AACL,GAAC,GAAGnf,KAAK,CAAA;AAET,EAAA,OAAOc,GAAA,CAAA,QAAA,EAAA;AACLN,IAAAA,IAAI,EAAC,QAAQ;AAAA,IAAA,GACR2e,UAAU;AACfrZ,IAAAA,OAAO,EAAGA,OAAS;AACnBlF,IAAAA,KAAK,EAAGsL,UAAU,CAAC,0CAA0C,EAAEgT,SAAS,CAAG;AAAAre,IAAAA,QAAA,EACzEA,QAAAA;AAAQ,GACJ,CAAC,CAAA;AACX;;ACCe,SAASue,gBAAgBA,CAACpf,KAAK,EAAE;EAC9C,MAAM;IACJC,OAAO;AACP+J,IAAAA,OAAO,GAAG,EAAE;IACZxH,EAAE;IACFjC,KAAK;AACLyK,IAAAA,IAAI,EAAEF,UAAU;AAChBuU,IAAAA,MAAAA;AACF,GAAC,GAAGrf,KAAK,CAAA;EAET,MAAM,CAAEgL,IAAI,EAAEC,OAAO,CAAE,GAAG5H,QAAQ,CAACyH,UAAU,CAAC,CAAA;EAE9C,MAAMI,UAAU,GAAGA,MAAMD,OAAO,CAAC,CAACD,IAAI,CAAC,CAAA;EAEvC,MAAM;AAAEjC,IAAAA,MAAAA;AAAO,GAAC,GAAGtG,UAAU,CAACuG,aAAsB,CAAC,CAAA;AAErD,EAAA,MAAMiD,sBAAsB,GAAG;IAC7B,GAAGxJ,UAAU,CAACuG,aAAsB,CAAC;IACrCD,MAAM,EAAEJ,WAAW,CAAC,MAAM;MACxBsC,OAAO,CAAC,IAAI,CAAC,CAAA;AAEb,MAAA,IAAI9B,UAAU,CAACJ,MAAM,CAAC,EAAE;AACtBA,QAAAA,MAAM,EAAE,CAAA;AACV,OAAA;AACF,KAAC,EAAE,CAAEA,MAAM,EAAEkC,OAAO,CAAE,CAAA;GACvB,CAAA;;AAED;EACA,MAAMqU,gBAAgB,GAAG,SAAS,CAAA;AAElC,EAAA,OACE3e,IAAA,CAAA,KAAA,EAAA;AACE,IAAA,eAAA,EAAgB6B,EAAI;IACpB5B,KAAK,EAAGsL,UAAU,CAChB,wCAAwC,EACxClB,IAAI,GAAG,MAAM,GAAG,EAClB,CAAG;AAAAnK,IAAAA,QAAA,GACHF,IAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAC,+CAA+C;AAACkF,MAAAA,OAAO,EAAGoF,UAAY;AAAArK,MAAAA,QAAA,GAC/EC,GAAA,CAAA,KAAA,EAAA;QACEI,KAAK,EAAGX,KAAK,IAAI+e,gBAAkB;QACnC1e,KAAK,EAAGsL,UAAU,CAChB,qDAAqD,EACrD,CAAC3L,KAAK,IAAI,OACZ,CAAG;QAAAM,QAAA,EACDN,KAAK,IAAI+e,gBAAAA;OACR,CAAC,EACNxe,GAAA,CAAA,QAAA,EAAA;AACEN,QAAAA,IAAI,EAAC,QAAQ;AACbU,QAAAA,KAAK,EAAC,kBAAkB;AACxBN,QAAAA,KAAK,EAAC,0EAA0E;QAAAC,QAAA,EAEhFC,GAAA,CAACsL,SAAS,EAAA;AAACxL,UAAAA,KAAK,EAAGoK,IAAI,GAAG,iCAAiC,GAAG,kCAAA;SAAsC,CAAA;AAAC,OAC/F,CAAC,EAEPqU,MAAM,GAGFve,GAAA,CAAA,QAAA,EAAA;AAAQN,QAAAA,IAAI,EAAC,QAAQ;AAACU,QAAAA,KAAK,EAAC,aAAa;AAACN,QAAAA,KAAK,EAAC,mCAAmC;AAACkF,QAAAA,OAAO,EAAGuZ,MAAQ;AAAAxe,QAAAA,QAAA,EACpGC,GAAA,CAACye,UAAU,EAAE,EAAA,CAAA;OACP,CAAC,GAET,IAAI,CAAA;KAEP,CAAC,EACNze,GAAA,CAAA,KAAA,EAAA;MAAKF,KAAK,EAAGsL,UAAU,CACrB,gDAAgD,EAChDlB,IAAI,GAAG,MAAM,GAAG,EAClB,CAAG;AAAAnK,MAAAA,QAAA,EACDC,GAAA,CAACkI,aAAsB,CAACqD,QAAQ,EAAA;AAACxJ,QAAAA,KAAK,EAAGoJ,sBAAwB;AAAApL,QAAAA,QAAA,EAE7DmJ,OAAO,CAACrC,GAAG,CAACwC,KAAK,IAAI;UACnB,MAAM;AACJmC,YAAAA,SAAS,EAAEC,SAAS;AACpB/J,YAAAA,EAAAA;AACF,WAAC,GAAG2H,KAAK,CAAA;UAET,OACEqC,aAAA,CAACD,SAAS,EAAA;AAAA,YAAA,GACHpC,KAAK;AACVlK,YAAAA,OAAO,EAAGA,OAAS;AACnB8H,YAAAA,GAAG,EAAGvF,EAAAA;AAAI,WAAE,CAAC,CAAA;SAElB,CAAA;OAE4B,CAAA;AAAC,KAC/B,CAAC,CAAA;AAAA,GACH,CAAC,CAAA;AAEV;;AC3Fe,SAASgd,QAAQA,CAACxf,KAAK,EAAE;EACtC,MAAM;IACJyf,cAAc;AACdC,IAAAA,QAAAA;AACF,GAAC,GAAG1f,KAAK,CAAA;;AAET;AACA4E,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI8a,QAAQ,IAAID,cAAc,EAAE;AAC9B,MAAA,MAAMtV,KAAK,GAAGT,KAAQ,CAAE,CAAkB+V,gBAAAA,EAAAA,cAAe,IAAG,CAAC,CAAA;AAE7D,MAAA,MAAME,cAAc,GAAGjW,KAAQ,CAAC,6BAA6B,EAAES,KAAK,CAAC,CAAA;AAErE,MAAA,IAAIwV,cAAc,EAAE;AAElB,QAAA,IAAIxW,UAAU,CAACwW,cAAc,CAACvW,MAAM,CAAC,EAAE;UACrCuW,cAAc,CAACvW,MAAM,EAAE,CAAA;SACxB,MAAM,IAAID,UAAU,CAACwW,cAAc,CAAC1W,KAAK,CAAC,EAAE;UAC3C0W,cAAc,CAAC1W,KAAK,EAAE,CAAA;AACxB,SAAA;AAEF,OAAA;AACF,KAAA;AACF,GAAC,EAAE,CAAEyW,QAAQ,EAAED,cAAc,CAAE,CAAC,CAAA;AAGhC,EAAA,OACE3e,GAAA,CAAA,KAAA,EAAA;AAAKF,IAAAA,KAAK,EAAC,gCAAgC;IAAAC,QAAA,EACzCC,GAAA,CAACse,gBAAgB,EAAA;AAAA,MAAA,GACVpf,KAAK;AACVgL,MAAAA,IAAI,EAAG0U,QAAAA;KAAY,CAAA;AAAC,GACnB,CAAC,CAAA;AAGV;;ACfA,MAAM5S,MAAI,GAAGA,MAAM,EAAE,CAAA;;AAErB;AACA;AACA;AACe,SAAS8S,SAASA,CAAC5f,KAAK,EAAE;EACvC,MAAM;IACJ6f,GAAG;IACH5f,OAAO;IACPuC,EAAE;IACFsd,KAAK;IACLvf,KAAK;AACLuK,IAAAA,UAAU,GAAG,IAAI;AACjBiV,IAAAA,UAAU,GAAG,IAAA;AACf,GAAC,GAAG/f,KAAK,CAAA;AAGT,EAAA,MAAM+K,QAAQ,GAAGrH,MAAM,CAAC,IAAI,CAAC,CAAA;AAE7B,EAAA,MAAM,CAAEsH,IAAI,EAAEC,OAAO,CAAE,GAAG3C,cAAc,CACtC,CAAE,QAAQ,EAAE9F,EAAE,EAAE,MAAM,CAAE,EACxB,KACF,CAAC,CAAA;EAED,MAAM,CAAE6I,MAAM,EAAE9B,SAAS,CAAE,GAAGlG,QAAQ,CAAC,KAAK,CAAC,CAAA;AAE7C,EAAA,MAAM0F,MAAM,GAAGJ,WAAW,CAAC,MAAMsC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAEA,OAAO,CAAE,CAAC,CAAA;EAE5D,MAAM,CAAE+U,QAAQ,EAAEC,WAAW,CAAE,GAAG5c,QAAQ,CAAC,EAAE,CAAC,CAAA;EAC9C,MAAM,CAAE6c,YAAY,EAAEC,eAAe,CAAE,GAAG9c,QAAQ,CAAC,KAAK,CAAC,CAAA;;AAEzD;EACA,MAAM,CAAE+c,YAAY,EAAEC,eAAe,CAAE,GAAGhd,QAAQ,CAAC,KAAK,CAAC,CAAA;AAEzD,EAAA,MAAMid,SAAS,GAAGzX,WAAW,CAACiX,KAAK,CAAC,CAAA;AACpC,EAAA,MAAM7K,WAAW,GAAGpM,WAAW,CAAC5I,OAAO,CAAC,CAAA;AAExC,EAAA,MAAMsgB,cAAc,GAAGtgB,OAAO,KAAKgV,WAAW,CAAA;EAC9C,MAAMuL,mBAAmB,GAAG,CAACD,cAAc,KAAKR,UAAU,IAAIjV,UAAU,CAAC,CAAA;;AAEzE;AACA,EAAA,IAAIyV,cAAc,EAAE;AAClBN,IAAAA,WAAW,CAACQ,cAAc,CAACV,UAAU,GAAGW,SAAS,CAACZ,KAAK,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAA;AACpE,GAAA;;AAEA;;AAEA;AACAlb,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAI,CAAC0b,SAAS,IAAI,CAACP,UAAU,EAAE;AAC7BE,MAAAA,WAAW,CAACQ,cAAc,CAACX,KAAK,CAAC,CAAC,CAAA;AACpC,KAAA;AACF,GAAC,EAAE,CAAEA,KAAK,EAAE7f,OAAO,CAAE,CAAC,CAAA;;AAEtB;AACA2E,EAAAA,SAAS,CAAC,MAAM;AAEd;IACAyb,eAAe,CAAC,KAAK,CAAC,CAAA;IAEtB,IAAIG,mBAAmB,IAAIF,SAAS,IAAIR,KAAK,CAAC9F,MAAM,GAAGsG,SAAS,CAACtG,MAAM,EAAE;MAEvE,IAAI6F,GAAG,GAAG,EAAE,CAAA;AAEZC,MAAAA,KAAK,CAAC5V,OAAO,CAACwU,IAAI,IAAI;QACpB,IAAI,CAACsB,QAAQ,CAACW,QAAQ,CAACjC,IAAI,CAAClc,EAAE,CAAC,EAAE;AAC/Bqd,UAAAA,GAAG,CAACe,IAAI,CAAClC,IAAI,CAAClc,EAAE,CAAC,CAAA;AACnB,SAAA;AACF,OAAC,CAAC,CAAA;MAEF,IAAIqe,WAAW,GAAGb,QAAQ,CAAA;;AAE1B;AACA;AACA;AACA;AACA;AACA,MAAA,IAAII,YAAY,IAAI,CAACpV,IAAI,IAAIF,UAAU,EAAE;AACvCI,QAAAA,UAAU,EAAE,CAAA;AACd,OAAA;;AAEA;AACA,MAAA,IAAI,CAACF,IAAI,IAAI+U,UAAU,EAAE;AACvBc,QAAAA,WAAW,GAAGJ,cAAc,CAACC,SAAS,CAACZ,KAAK,CAAC,CAAC,CAAA;AAChD,OAAA;;AAEA;AACAe,MAAAA,WAAW,GAAGA,WAAW,CAACC,MAAM,CAACpC,IAAI,IAAI,CAACmB,GAAG,CAACc,QAAQ,CAACjC,IAAI,CAAC,CAAC,CAAA;AAC7D,MAAA,IAAIqB,UAAU,EAAE;AACdc,QAAAA,WAAW,CAACE,OAAO,CAAC,GAAGlB,GAAG,CAAC,CAAA;AAC7B,OAAC,MAAM;AACLgB,QAAAA,WAAW,CAACD,IAAI,CAAC,GAAGf,GAAG,CAAC,CAAA;AAC1B,OAAA;MAEAI,WAAW,CAACY,WAAW,CAAC,CAAA;MACxBV,eAAe,CAACC,YAAY,CAAC,CAAA;AAC/B,KAAC,MAAM;MACLD,eAAe,CAAC,KAAK,CAAC,CAAA;AACxB,KAAA;GACD,EAAE,CAAEL,KAAK,EAAE9U,IAAI,EAAEwV,mBAAmB,EAAEJ,YAAY,CAAE,CAAC,CAAA;;AAEtD;AACAxb,EAAAA,SAAS,CAAC,MAAM;AAEd,IAAA,IAAImb,UAAU,IAAI/U,IAAI,IAAI,CAACkV,YAAY,EAAE;MACvCD,WAAW,CAACQ,cAAc,CAACC,SAAS,CAACZ,KAAK,CAAC,CAAC,CAAC,CAAA;AAC/C,KAAA;AACF,GAAC,EAAE,CAAE9U,IAAI,EAAE+U,UAAU,CAAE,CAAC,CAAA;;AAExB;AACAnb,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI4b,mBAAmB,IAAIF,SAAS,IAAIR,KAAK,CAAC9F,MAAM,GAAGsG,SAAS,CAACtG,MAAM,EAAE;MACvE,IAAIgH,IAAI,GAAG,EAAE,CAAA;AAEbhB,MAAAA,QAAQ,CAAC9V,OAAO,CAAC+W,CAAC,IAAI;AACpB,QAAA,IAAIC,OAAO,CAACpB,KAAK,EAAEmB,CAAC,CAAC,EAAE;AACrBD,UAAAA,IAAI,CAACJ,IAAI,CAACK,CAAC,CAAC,CAAA;AACd,SAAA;AACF,OAAC,CAAC,CAAA;MAEFhB,WAAW,CAACe,IAAI,CAAC,CAAA;AACnB,KAAA;AACF,GAAC,EAAE,CAAElB,KAAK,EAAEU,mBAAmB,CAAE,CAAC,CAAA;;AAElC;AACAnX,EAAAA,6BAA6B,CAAC0B,QAAQ,EAAE,2CAA2C,EAAExB,SAAS,CAAC,CAAA;EAE/F,MAAM2B,UAAU,GAAGA,MAAMD,OAAO,CAAC,CAACD,IAAI,CAAC,CAAA;AAEvC,EAAA,MAAMmW,QAAQ,GAAG,CAAC,CAACrB,KAAK,CAAC9F,MAAM,CAAA;AAE/B,EAAA,MAAM/N,sBAAsB,GAAG;IAC7B,GAAGxJ,UAAU,CAACuG,aAAsB,CAAC;AACrCD,IAAAA,MAAAA;GACD,CAAA;EAED,MAAMqY,cAAc,GAAGjd,CAAC,IAAI;IAC1Bkc,eAAe,CAAC,IAAI,CAAC,CAAA;IACrBR,GAAG,CAAC1b,CAAC,CAAC,CAAA;GACP,CAAA;AAED,EAAA,MAAM2H,SAAS,GAAG7E,SAAS,EAAE,CAAA;AAC7B,EAAA,MAAMoa,QAAQ,GAAGvB,KAAK,CAAC9T,IAAI,CAAC0S,IAAI,IAAI;AAClC,IAAA,IAAI5S,SAAS,CAAC4S,IAAI,CAAClc,EAAE,CAAC,EAAE;AACtB,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA,IAAA,IAAI,CAACkc,IAAI,CAAC1U,OAAO,EAAE;AACjB,MAAA,OAAA;AACF,KAAA;;AAEA;AACA,IAAA,OAAO0U,IAAI,CAAC1U,OAAO,CAACgC,IAAI,CAAC7B,KAAK,IAAI2B,SAAS,CAAC3B,KAAK,CAAC3H,EAAE,CAAC,CAAC,CAAA;AACxD,GACA,CAAC,CAAA;AAED,EAAA,OAAO7B,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,4BAA4B;IAAC,eAAgB,EAAA,QAAQ,GAAG4B,EAAI;AAACqD,IAAAA,GAAG,EAAGkF,QAAU;AAAAlK,IAAAA,QAAA,GAC7FF,IAAA,CAAA,KAAA,EAAA;MACEC,KAAK,EAAGsL,UAAU,CAChB,mCAAmC,EACnCiV,QAAQ,GAAG,EAAE,GAAG,OAAO,EACtBA,QAAQ,IAAInW,IAAI,GAAI,MAAM,GAAG,EAAE,EAC/BK,MAAM,IAAIL,IAAI,GAAI,QAAQ,GAAG,EAChC,CAAG;AACHlF,MAAAA,OAAO,EAAGqb,QAAQ,GAAGjW,UAAU,GAAG4B,MAAM;AAAAjM,MAAAA,QAAA,GACxCC,GAAA,CAAA,KAAA,EAAA;AACEI,QAAAA,KAAK,EAAGlB,KAAK,CAACqC,OAAO,GAAG,IAAI,GAAG9B,KAAO;AACtC,QAAA,YAAA,EAAaA,KAAO;AACpBK,QAAAA,KAAK,EAAC,yCAAyC;QAAAC,QAAA,EAE/CC,GAAA,CAACgC,cAAO,EAAA;UAACD,KAAK,EAAG7C,KAAK,CAACqC,OAAS;UAACM,KAAK,EAAG,QAAQ,GAAGH,EAAI;AAACvC,UAAAA,OAAO,EAAGA,OAAS;AAAC+C,UAAAA,MAAM,EAAG+H,QAAU;AAAAlK,UAAAA,QAAA,EAC5FN,KAAAA;SACK,CAAA;OACN,CAAC,EACNI,IAAA,CAAA,KAAA,EAAA;AAAKC,QAAAA,KAAK,EAAC,2CAA2C;QAAAC,QAAA,EAAA,CAElDgf,GAAG,GAEClf,IAAA,CAAA,QAAA,EAAA;AACEH,UAAAA,IAAI,EAAC,QAAQ;AACbU,UAAAA,KAAK,EAAC,sBAAsB;AAC5BN,UAAAA,KAAK,EAAC,yEAAyE;AAC/EkF,UAAAA,OAAO,EAAGsb,cAAgB;UAAAvgB,QAAA,EAAA,CAE1BC,GAAA,CAACwgB,UAAU,EAAA,EAAE,CAAC,EAEZ,CAACH,QAAQ,GACPrgB,GAAA,CAAA,MAAA,EAAA;AAAMF,YAAAA,KAAK,EAAC,sCAAsC;AAAAC,YAAAA,QAAA,EAAC,QAAA;WAAY,CAAC,GAE9D,IAAI,CAAA;AAAA,SAEJ,CAAC,GAET,IAAI,EAGRsgB,QAAQ,GAEJrgB,GAAA,CAAA,KAAA,EAAA;AACEI,UAAAA,KAAK,EAAI,CAAA,cAAA,EAAgB4e,KAAK,CAAC9F,MAAO,CAAO8F,KAAAA,EAAAA,KAAK,CAAC9F,MAAM,IAAI,CAAC,GAAG,GAAG,GAAG,EAAG,CAAG,CAAA;UAC7EpZ,KAAK,EACHsL,UAAU,CACR,iCAAiC,EACjCmV,QAAQ,GAAG,wCAAwC,GAAG,EACxD,CACD;UAAAxgB,QAAA,EAECif,KAAK,CAAC9F,MAAAA;AAAM,SACX,CAAC,GAEN,IAAI,EAGRmH,QAAQ,GAEJrgB,GAAA,CAAA,QAAA,EAAA;AACEN,UAAAA,IAAI,EAAC,QAAQ;AACbU,UAAAA,KAAK,EAAC,gBAAgB;AACtBN,UAAAA,KAAK,EAAC,qEAAqE;UAAAC,QAAA,EAE3EC,GAAA,CAACsL,SAAS,EAAA;AAACxL,YAAAA,KAAK,EAAGoK,IAAI,GAAG,iCAAiC,GAAG,kCAAA;WAAsC,CAAA;SAC9F,CAAC,GAET,IAAI,CAAA;AAAA,OAEP,CAAC,CAAA;KACH,CAAC,EACNlK,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAGsL,UAAU,CACrB,2BAA2B,EAC3BlB,IAAI,IAAImW,QAAQ,GAAG,MAAM,GAAG,EAC9B,CAAG;AAAAtgB,MAAAA,QAAA,EACDC,GAAA,CAACkI,aAAsB,CAACqD,QAAQ,EAAA;AAACxJ,QAAAA,KAAK,EAAGoJ,sBAAwB;QAAApL,QAAA,EAG7Dmf,QAAQ,CAACrY,GAAG,CAAC,CAACsZ,CAAC,EAAEtC,KAAK,KAAK;AACzB,UAAA,MAAMD,IAAI,GAAGwC,OAAO,CAACpB,KAAK,EAAEmB,CAAC,CAAC,CAAA;UAE9B,IAAI,CAACvC,IAAI,EAAE;AACT,YAAA,OAAA;AACF,WAAA;UAEA,MAAM;AAAElc,YAAAA,EAAAA;AAAG,WAAC,GAAGkc,IAAI,CAAA;;AAEnB;AACA;UACA,MAAMgB,QAAQ,GAAGQ,YAAY,CAAA;UAE7B,OACE1T,aAAA,CAACgT,QAAQ,EAAA;AAAA,YAAA,GACFd,IAAI;AACTgB,YAAAA,QAAQ,EAAGA,QAAU;AACrBzf,YAAAA,OAAO,EAAGA,OAAS;AACnB0e,YAAAA,KAAK,EAAGA,KAAO;AACf5W,YAAAA,GAAG,EAAGvF,EAAAA;AAAI,WAAE,CAAC,CAAA;SAElB,CAAA;OAE4B,CAAA;AAAC,KAC/B,CAAC,CAAA;AAAA,GACH,CAAC,CAAA;AACR,CAAA;;AAGA;;AAEA;AACA;AACA;AACA,SAASke,SAASA,CAACZ,KAAK,EAAE;AACxB,EAAA,OAAOyB,MAAM,CAACzB,KAAK,EAAE0B,CAAC,IAAIA,CAAC,CAACjhB,KAAK,CAACkhB,WAAW,EAAE,CAAC,CAAA;AAClD,CAAA;AAEA,SAASP,OAAOA,CAACpB,KAAK,EAAEtd,EAAE,EAAE;EAC1B,OAAOiJ,IAAI,CAACqU,KAAK,EAAE0B,CAAC,IAAIA,CAAC,CAAChf,EAAE,KAAKA,EAAE,CAAC,CAAA;AACtC,CAAA;AAEA,SAASie,cAAcA,CAACX,KAAK,EAAE;EAC7B,OAAOA,KAAK,CAACnY,GAAG,CAAC6Z,CAAC,IAAIA,CAAC,CAAChf,EAAE,CAAC,CAAA;AAC7B;;AC3SA,SAASkf,QAAQA,CAAC1hB,KAAK,EAAE;EACvB,MAAM;IACJwC,EAAE;IACFjC,KAAK;IACLkO,QAAQ;IACRhB,QAAQ;AACR5K,IAAAA,KAAK,GAAG,KAAK;IACbuD,OAAO;IACP6Q,MAAM;AACN5U,IAAAA,OAAAA;AACF,GAAC,GAAGrC,KAAK,CAAA;EAET,MAAM,CAAEoO,UAAU,EAAEC,aAAa,CAAE,GAAGhL,QAAQ,CAACR,KAAK,CAAC,CAAA;EAErD,MAAM8e,oBAAoB,GAAGA,CAAC;AAAEtgB,IAAAA,MAAAA;AAAO,GAAC,KAAK;AAC3CoN,IAAAA,QAAQ,CAACpN,MAAM,CAAC+V,OAAO,CAAC,CAAA;GACzB,CAAA;EAED,MAAM8D,YAAY,GAAG/W,CAAC,IAAI;IACxBwd,oBAAoB,CAACxd,CAAC,CAAC,CAAA;AACvBkK,IAAAA,aAAa,CAAClK,CAAC,CAAC9C,MAAM,CAACwB,KAAK,CAAC,CAAA;GAC9B,CAAA;AAED+B,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI/B,KAAK,KAAKuL,UAAU,EAAE;AACxB,MAAA,OAAA;AACF,KAAA;IAEAC,aAAa,CAACxL,KAAK,CAAC,CAAA;AACtB,GAAC,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;AAEb,EAAA,MAAMgD,GAAG,GAAGiD,iBAAiB,CAACtG,EAAE,CAAC,CAAA;AAEjC,EAAA,OACE7B,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,+BAA+B;AAAAC,IAAAA,QAAA,GACxCC,GAAA,CAAA,OAAA,EAAA;AACE+E,MAAAA,GAAG,EAAGA,GAAK;AACXrD,MAAAA,EAAE,EAAGO,UAAQ,CAACP,EAAE,CAAG;AACnBsM,MAAAA,IAAI,EAAGtM,EAAI;AACX4D,MAAAA,OAAO,EAAGA,OAAS;AACnB6Q,MAAAA,MAAM,EAAGA,MAAQ;AACjBzW,MAAAA,IAAI,EAAC,UAAU;AACfI,MAAAA,KAAK,EAAC,4BAA4B;AAClC6N,MAAAA,QAAQ,EAAGyM,YAAc;AACzB9D,MAAAA,OAAO,EAAGhJ,UAAY;AACtBX,MAAAA,QAAQ,EAAGA,QAAAA;KAAY,CAAC,EAC1B3M,GAAA,CAAA,OAAA,EAAA;AAAOqW,MAAAA,GAAG,EAAGpU,UAAQ,CAACP,EAAE,CAAG;AAAC5B,MAAAA,KAAK,EAAC,4BAA4B;MAAAC,QAAA,EAC5DC,GAAA,CAACgC,cAAO,EAAA;AAACD,QAAAA,KAAK,EAAGR,OAAS;AAACM,QAAAA,KAAK,EAAGH,EAAI;QAACvC,OAAO,EAAGD,KAAK,CAACC,OAAS;AAAAY,QAAAA,QAAA,EAC7DN,KAAAA;OACK,CAAA;AAAC,KACL,CAAC,CAAA;AAAA,GACL,CAAC,CAAA;AAEV,CAAA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASqhB,aAAaA,CAAC5hB,KAAK,EAAE;EAC3C,MAAM;IACJC,OAAO;IACPuC,EAAE;IACFf,WAAW;IACXlB,KAAK;IACL+W,QAAQ;IACR3I,QAAQ;IACRlB,QAAQ;IACRrH,OAAO;IACP6Q,MAAM;AACN5U,IAAAA,OAAAA;AACF,GAAC,GAAGrC,KAAK,CAAA;AAET,EAAA,MAAM6C,KAAK,GAAGyU,QAAQ,CAACrX,OAAO,CAAC,CAAA;AAE/B,EAAA,MAAMuY,KAAK,GAAGxR,QAAQ,CAACxE,EAAE,CAAC,CAAA;AAE1B,EAAA,OACE7B,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,gEAAgE;AAAC,IAAA,eAAA,EAAgB4B,EAAI;IAAA3B,QAAA,EAAA,CAC9FC,GAAA,CAAC4gB,QAAQ,EAAA;AACPjU,MAAAA,QAAQ,EAAGA,QAAU;AACrBjL,MAAAA,EAAE,EAAGA,EAAI;AAETjC,MAAAA,KAAK,EAAGA,KAAO;AACfkO,MAAAA,QAAQ,EAAGE,QAAU;AACrBvI,MAAAA,OAAO,EAAGA,OAAS;AACnB6Q,MAAAA,MAAM,EAAGA,MAAQ;AACjBpU,MAAAA,KAAK,EAAGA,KAAO;AACfR,MAAAA,OAAO,EAAGA,OAAS;AACnBpC,MAAAA,OAAO,EAAGA,OAAAA;AAAS,KAAA,EAPbA,OAOe,CAAC,EACtBuY,KAAK,IAAI1X,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,4BAA4B;AAAAC,MAAAA,QAAA,EAAG2X,KAAAA;AAAK,KAAO,CAAC,EAClE1X,GAAA,CAAC+L,WAAW,EAAA;AAAClK,MAAAA,KAAK,EAAGH,EAAI;AAACvC,MAAAA,OAAO,EAAGA,OAAS;AAAC4C,MAAAA,KAAK,EAAGpB,WAAAA;AAAa,KAAE,CAAC,CAAA;AAAA,GACnE,CAAC,CAAA;AAEV,CAAA;AAEO,SAASiK,UAAQA,CAACiJ,IAAI,EAAE;AAC7B,EAAA,OAAOA,IAAI,IAAI,CAAC,CAACA,IAAI,CAACyC,OAAO,CAAA;AAC/B,CAAA;;AAGA;;AAEA,SAASrU,UAAQA,CAACP,EAAE,EAAE;EACpB,OAAQ,CAAA,qBAAA,EAAwBA,EAAI,CAAC,CAAA,CAAA;AACvC;;ACxHA,MAAMsK,IAAI,GAAGA,MAAM,EAAG,CAAA;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAAS+U,eAAeA,CAAC7hB,KAAK,EAAE;EAC7C,MAAM;IACJC,OAAO;IACPuC,EAAE;IACFf,WAAW;IACX+V,QAAQ;IACR/J,QAAQ;IACRlN,KAAK;IACL+W,QAAQ;IACR3I,QAAQ;IACRjB,gBAAgB;IAChByK,QAAQ;AACRrU,IAAAA,IAAI,GAAGgJ,IAAAA;AACT,GAAC,GAAG9M,KAAK,CAAA;EAET,MAAM,CAAEqb,eAAe,EAAEC,kBAAkB,CAAE,GAAGjY,QAAQ,CAAC,IAAI,CAAC,CAAA;EAC9D,MAAM,CAAEgV,UAAU,EAAEC,aAAa,CAAE,GAAGjV,QAAQ,CAAC,IAAI,CAAC,CAAA;AAEpD,EAAA,IAAIR,KAAK,GAAGyU,QAAQ,CAACrX,OAAO,CAAC,CAAA;AAE7B2E,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAIuE,UAAU,CAACgP,QAAQ,CAAC,EAAE;AACxB,MAAA,MAAMI,kBAAkB,GAAGJ,QAAQ,CAACtV,KAAK,CAAC,IAAI,IAAI,CAAA;MAElDyY,kBAAkB,CAAC/C,kBAAkB,CAAC,CAAA;AACxC,KAAA;AACF,GAAC,EAAE,CAAE1V,KAAK,EAAEsV,QAAQ,CAAE,CAAC,CAAA;AAEvB,EAAA,MAAM3K,OAAO,GAAG9C,iBAAiB,CAAE9B,QAAQ,IAAK;IAC9C,IAAI2P,kBAAkB,GAAG,IAAI,CAAA;AAE7B,IAAA,IAAIpP,UAAU,CAACgP,QAAQ,CAAC,EAAE;AACxBI,MAAAA,kBAAkB,GAAGJ,QAAQ,CAACvP,QAAQ,CAAC,IAAI,IAAI,CAAA;AACjD,KAAA;;AAEA;IACA,IAAIA,QAAQ,KAAK/F,KAAK,EAAE;AACtB8L,MAAAA,QAAQ,CAAC/F,QAAQ,EAAE2P,kBAAkB,CAAC,CAAA;AACxC,KAAA;IAEA+C,kBAAkB,CAAC/C,kBAAkB,CAAC,CAAA;AACxC,GAAC,CAAC,CAAA;AAEF,EAAA,MAAMG,OAAO,GAAG/P,WAAW,CAAC4S,GAAG,IAAI;IACjCjD,aAAa,CAACiD,GAAG,CAAC,CAAA;GACnB,EAAE,EAAE,CAAC,CAAA;AAEN,EAAA,MAAMC,cAAc,GAAGxU,QAAQ,CAACxE,EAAE,CAAC,CAAA;AAEnC,EAAA,MAAMgW,KAAK,GAAGH,UAAU,IAAImD,cAAc,IAAIH,eAAe,CAAA;AAE7D,EAAA,OACE1a,IAAA,CAAA,KAAA,EAAA;IACEC,KAAK,EAAGsL,UAAU,CAChB,4BAA4B,EAC5BsM,KAAK,GAAG,WAAW,GAAG,EAAE,CACzB;AACD,IAAA,eAAA,EAAgBhW,EAAI;IAAA3B,QAAA,EAAA,CACpBC,GAAA,CAACghB,UAAU,EAAA;AACTtK,MAAAA,QAAQ,EAAGA,QAAU;AACrB/J,MAAAA,QAAQ,EAAGA,QAAU;AACrBjL,MAAAA,EAAE,EAAGA,EAAI;AAETjC,MAAAA,KAAK,EAAGA,KAAO;AACfiN,MAAAA,OAAO,EAAGA,OAAS;AACnBkL,MAAAA,OAAO,EAAGA,OAAS;AACnB5U,MAAAA,IAAI,EAAGA,IAAM;AACbjB,MAAAA,KAAK,EAAGA,KAAO;AACf6K,MAAAA,gBAAgB,EAAGA,gBAAAA;AAAkB,KAAA,EAN/BzN,OAMiC,CAAC,EACzCuY,KAAK,IAAI1X,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,4BAA4B;AAAAC,MAAAA,QAAA,EAAE2X,KAAAA;AAAK,KAAM,CAAC,EAC/D1X,GAAA,CAAC+L,WAAW,EAAA;AAAClK,MAAAA,KAAK,EAAGH,EAAI;AAACvC,MAAAA,OAAO,EAAGA,OAAS;AAAC4C,MAAAA,KAAK,EAAGpB,WAAAA;AAAa,KAAE,CAAC,CAAA;AAAA,GACnE,CAAC,CAAA;AAEV,CAAA;AAEA,SAASqgB,UAAUA,CAAC9hB,KAAK,EAAE;EACzB,MAAM;IACJwX,QAAQ;IACRhV,EAAE;IACFjC,KAAK;IACLiN,OAAO;IACPkL,OAAO;AACP7V,IAAAA,KAAK,GAAG,EAAE;AACV4K,IAAAA,QAAQ,GAAG,KAAK;AAChBC,IAAAA,gBAAAA;AACF,GAAC,GAAG1N,KAAK,CAAA;EAET,MAAM,CAAEoO,UAAU,EAAEC,aAAa,CAAE,GAAGhL,QAAQ,CAACR,KAAK,CAAC,CAAA;AAErD,EAAA,MAAMqT,SAAS,GAAGpN,iBAAiB,CAACtG,EAAE,CAAC,CAAA;AACvC,EAAA,MAAMsW,YAAY,GAAGpV,MAAM,EAAE,CAAA;EAE7B,MAAM,CAAEuF,KAAK,EAAEmQ,SAAS,CAAE,GAAG/V,QAAQ,CAAC8J,SAAS,CAAC,CAAA;AAEhD,EAAA,MAAMqM,QAAQ,GAAGA,CAACpM,MAAM,GAAG,CAAC,KAAK;IAC/B,MAAMqM,QAAQ,GAAGX,YAAY,CAACtU,OAAO,CAACkV,QAAQ,CAAC3U,QAAQ,CAACC,aAAa,CAAC,CAAA;;AAEtE;IACA,MAAM9B,QAAQ,GAAGuW,QAAQ,GAAG1U,QAAQ,CAACC,aAAa,CAAC2U,cAAc,GAAGtM,QAAQ,CAAA;AAE5E+L,IAAAA,SAAS,CAAClW,QAAQ,GAAGkK,MAAM,CAAC,CAAA;GAC7B,CAAA;AAED,EAAA,MAAM8J,mBAAmB,GAAGtP,OAAO,CAAC,MAAM;AACxC,IAAA,OAAO4P,QAAQ,CAAE5O,QAAQ,IAAK4E,OAAO,CAAC5E,QAAQ,CAACoR,MAAM,GAAGpR,QAAQ,GAAGuE,SAAS,CAAC,CAAC,CAAA;AAChF,GAAC,EAAE,CAAEK,OAAO,EAAEgK,QAAQ,CAAE,CAAC,CAAA;EAEzB,MAAMlJ,WAAW,GAAG1F,QAAQ,IAAI;IAC9BsO,mBAAmB,CAACtO,QAAQ,CAAC,CAAA;IAC7ByF,aAAa,CAACzF,QAAQ,CAAC,CAAA;GACxB,CAAA;AAED,EAAA,MAAMkR,UAAU,GAAGpP,iBAAiB,CAACqP,IAAI,IAAI;IAE3C,MAAMnY,MAAM,GAAGmY,IAAI,IAAIA,IAAI,CAACC,MAAM,IAAID,IAAI,CAAC+G,MAAM,CAAC3c,CAAC,IAAIA,CAAC,CAAC4d,QAAQ,KAAK,OAAO,CAAC,IAAI,EAAE,CAAA;AAEpF,IAAA,IAAI,CAACngB,MAAM,CAACoY,MAAM,EAAE;MAClBtB,OAAO,CAACvL,SAAS,CAAC,CAAA;AAClB,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,MAAMqL,KAAK,GAAGuB,IAAI,CAAC,CAAC,CAAC,CAAA;IACrB,MAAMiI,OAAO,GAAI,CAAA,EAAExJ,KAAK,CAAC/H,MAAO,CAAI+H,EAAAA,EAAAA,KAAK,CAACwJ,OAAQ,CAAC,CAAA,CAAA;IAEnDtJ,OAAO,CAACsJ,OAAO,CAAC,CAAA;AAClB,GAAC,CAAC,CAAA;AAEFpd,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAI,OAAOqE,KAAK,KAAK,WAAW,EAAE;AAChCiN,MAAAA,SAAS,CAAC1R,OAAO,CAACyE,KAAK,CAACA,KAAK,CAAC,CAAA;MAC9BmQ,SAAS,CAACjM,SAAS,CAAC,CAAA;AACtB,KAAA;AACF,GAAC,EAAE,CAAElE,KAAK,CAAE,CAAC,CAAA;AAEbrE,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI/B,KAAK,KAAKuL,UAAU,EAAE;AACxB,MAAA,OAAA;AACF,KAAA;AACAC,IAAAA,aAAa,CAACxL,KAAK,GAAGA,KAAK,GAAG,EAAE,CAAC,CAAA;AACnC,GAAC,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;AAEb,EAAA,OACElC,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,8BAA8B;AAAAC,IAAAA,QAAA,GACvCC,GAAA,CAAA,OAAA,EAAA;AAAO0B,MAAAA,EAAE,EAAGyf,aAAa,CAACzf,EAAE,CAAG;AAAC5B,MAAAA,KAAK,EAAC,4BAA4B;AAACkF,MAAAA,OAAO,EAAGA,MAAM0T,QAAQ,EAAI;AAAA3Y,MAAAA,QAAA,EAC5FN,KAAAA;KACI,CAAC,EACRO,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,oCAAoC;AAACiF,MAAAA,GAAG,EAAGiT,YAAc;MAAAjY,QAAA,EAClEC,GAAA,CAAC2V,YAAgB,EAAA;AACf3H,QAAAA,IAAI,EAAGtM,EAAI;AACXgL,QAAAA,OAAO,EAAGc,WAAa;AACvBP,QAAAA,iBAAiB,EAAG;UAAE,iBAAiB,EAAEkU,aAAa,CAACzf,EAAE,CAAA;SAAK;AAC9DiL,QAAAA,QAAQ,EAAGA,QAAU;AACrBG,QAAAA,MAAM,EAAGkM,UAAY;AACrBjX,QAAAA,KAAK,EAAGuL,UAAY;AACpBvI,QAAAA,GAAG,EAAGqQ,SAAW;AACjBxI,QAAAA,gBAAgB,EAAGA,gBAAAA;OACpB,CAAA;AAAC,KACC,CAAC,CAAA;AAAA,GACH,CAAC,CAAA;AAEV,CAAA;AAEO,SAAShC,UAAQA,CAACiJ,IAAI,EAAE;AAC7B,EAAA,OAAOA,IAAI,KAAK,CAAC,CAACA,IAAI,CAAC9R,KAAK,IAAI8R,IAAI,CAACmH,SAAS,CAACpC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAA;AACpE,CAAA;;AAEA;;AAEA,SAASuI,aAAaA,CAACzf,EAAE,EAAE;EACzB,OAAQ,CAAA,6BAAA,EAA+BA,EAAG,CAAO,MAAA,CAAA,CAAA;AACnD;;ACxJe,SAAS0f,IAAIA,CAACliB,KAAK,EAAE;EAClC,MAAM;IACJwC,EAAE;IACFvC,OAAO;AACP6f,IAAAA,KAAK,GAAG,EAAE;IACVxT,SAAS;AACT/L,IAAAA,KAAK,GAAG,SAAS;AACjByK,IAAAA,IAAI,EAAEF,UAAU;IAChBqX,KAAK;IACLC,QAAQ;IACR3C,cAAc;IACd4C,SAAS;IACT,GAAGC,SAAAA;AACL,GAAC,GAAGtiB,KAAK,CAAA;EAET,MAAM,CAAEgL,IAAI,EAAEC,OAAO,CAAE,GAAG5H,QAAQ,CAAC,CAAC,CAACyH,UAAU,CAAC,CAAA;AAEhD,EAAA,MAAMqW,QAAQ,GAAG,CAAC,CAACrB,KAAK,CAAC9F,MAAM,CAAA;EAC/B,MAAM9O,UAAU,GAAGA,MAAMiW,QAAQ,IAAIlW,OAAO,CAAC,CAACD,IAAI,CAAC,CAAA;EAEnD,MAAMuX,OAAO,GAAG,CAAC1Z,WAAW,CAACmC,IAAI,CAAC,IAAIA,IAAI,CAAA;AAC1C,EAAA,MAAMuV,cAAc,GAAG1X,WAAW,CAAC5I,OAAO,CAAC,KAAKA,OAAO,CAAA;AACvD,EAAA,MAAMuiB,WAAW,GAAGD,OAAO,IAAIhC,cAAc,CAAA;EAC7C,MAAMkC,WAAW,GAAGC,cAAc,CAAC5C,KAAK,EAAEuC,SAAS,EAAEG,WAAW,CAAC,CAAA;AAEjE,EAAA,MAAMG,QAAQ,GAAGC,WAAW,CAAC9C,KAAK,EAAES,cAAc,CAAC,CAAA;AAEnD3b,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAIoG,IAAI,IAAI,CAACmW,QAAQ,EAAE;MACrBlW,OAAO,CAAC,KAAK,CAAC,CAAA;AAChB,KAAA;AACF,GAAC,EAAE,CAAED,IAAI,EAAEmW,QAAQ,CAAE,CAAC,CAAA;;AAEtB;AACF;AACA;EACE,SAAS0B,OAAOA,CAAChf,KAAK,EAAE;IACtBA,KAAK,CAACkC,eAAe,EAAE,CAAA;AACvBoc,IAAAA,KAAK,EAAE,CAAA;IAEP,IAAI,CAACnX,IAAI,EAAE;MACTC,OAAO,CAAC,IAAI,CAAC,CAAA;AACf,KAAA;AACF,GAAA;AAEA,EAAA,OACEtK,IAAA,CAAA,KAAA,EAAA;AACE,IAAA,eAAA,EAAgB6B,EAAI;AACpB5B,IAAAA,KAAK,EAAGsL,UAAU,CAChB,4BAA4B,EAC5B,iCAAiC,EACjCiV,QAAQ,GAAG,EAAE,GAAG,OAAO,EACvBnW,IAAI,GAAG,MAAM,GAAG,EAClB,CAAG;AAAAnK,IAAAA,QAAA,GACHF,IAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAC,wCAAwC;AAACkF,MAAAA,OAAO,EAAGoF,UAAY;AAAArK,MAAAA,QAAA,GACxEC,GAAA,CAAA,KAAA,EAAA;AACEI,QAAAA,KAAK,EAAGX,KAAO;QACfK,KAAK,EAAGsL,UAAU,CAChB,8CAA8C,EAC9ClB,IAAI,IAAI,MACV,CAAG;AAAAnK,QAAAA,QAAA,EACDN,KAAAA;OACC,CAAC,EACNI,IAAA,CAAA,KAAA,EAAA;AACEC,QAAAA,KAAK,EAAC,gDAAgD;AAAAC,QAAAA,QAAA,GAEtDF,IAAA,CAAA,QAAA,EAAA;AACEH,UAAAA,IAAI,EAAC,QAAQ;AACbU,UAAAA,KAAK,EAAC,sBAAsB;AAC5B4E,UAAAA,OAAO,EAAG+c,OAAS;AACnBjiB,UAAAA,KAAK,EAAC,gCAAgC;UAAAC,QAAA,EAAA,CAEtCC,GAAA,CAACwgB,UAAU,EAAA,EAAE,CAAC,EAEZ,CAACH,QAAQ,GACPrgB,GAAA,CAAA,MAAA,EAAA;AAAMF,YAAAA,KAAK,EAAC,sCAAsC;AAAAC,YAAAA,QAAA,EAAC,QAAA;WAAY,CAAC,GAE9D,IAAI,CAAA;AAAA,SAEJ,CAAC,EAEPsgB,QAAQ,IACNrgB,GAAA,CAAA,KAAA,EAAA;AACEI,UAAAA,KAAK,EAAI,CAAA,cAAA,EAAgB4e,KAAK,CAAC9F,MAAO,CAAO8F,KAAAA,EAAAA,KAAK,CAAC9F,MAAM,IAAI,CAAC,GAAG,GAAG,GAAG,EAAG,CAAG,CAAA;AAC7EpZ,UAAAA,KAAK,EAAC,iCAAiC;UAAAC,QAAA,EAErCif,KAAK,CAAC9F,MAAAA;AAAM,SACX,CACN,EAGDmH,QAAQ,IACNrgB,GAAA,CAAA,QAAA,EAAA;AACEN,UAAAA,IAAI,EAAC,QAAQ;AACbU,UAAAA,KAAK,EAAC,kBAAkB;AACxBN,UAAAA,KAAK,EAAC,4BAA4B;UAAAC,QAAA,EAElCC,GAAA,CAACsL,SAAS,EAAA;AAACxL,YAAAA,KAAK,EAAGoK,IAAI,GAAG,iCAAiC,GAAG,kCAAA;WAAsC,CAAA;AAAC,SAC/F,CACT,CAAA;AAAA,OAEA,CAAC,CAAA;AAAA,KACH,CAAC,EAEJmW,QAAQ,IACNrgB,GAAA,CAACgiB,SAAS,EAAA;AAAA,MAAA,GACHR,SAAS;AACd7C,MAAAA,cAAc,EAAGA,cAAgB;AACjCnT,MAAAA,SAAS,EAAGA,SAAW;AACvBrM,MAAAA,OAAO,EAAGA,OAAS;AACnBuC,MAAAA,EAAE,EAAGA,EAAI;AACTsd,MAAAA,KAAK,EAAG2C,WAAa;AACrBE,MAAAA,QAAQ,EAAGA,QAAU;AACrBP,MAAAA,QAAQ,EAAGA,QAAU;AACrBpX,MAAAA,IAAI,EAAGA,IAAAA;AAAM,KACd,CACF,CAAA;AAAA,GAEA,CAAC,CAAA;AAEV,CAAA;AAEA,SAAS8X,SAASA,CAAC9iB,KAAK,EAAE;EACxB,MAAM;IACJyf,cAAc;AACdnT,IAAAA,SAAS,EAAEC,SAAS;IACpBtM,OAAO;IACPuC,EAAE;IACFsd,KAAK;IACL6C,QAAQ;IACRP,QAAQ;IACRpX,IAAI;IACJ,GAAGsX,SAAAA;AACL,GAAC,GAAGtiB,KAAK,CAAA;AAET,EAAA,MAAM8H,MAAM,GAAGL,aAAa,EAAE,CAAA;AAE9B,EAAA,MAAMsb,OAAO,GAAGJ,QAAQ,CAAC,CAAC,CAAC,CAAA;AAE3B/d,EAAAA,SAAS,CAAC,MAAM;IACd,IAAIme,OAAO,IAAItD,cAAc,EAAE;AAE7B;AACA,MAAA,MAAMtV,KAAK,GAAGT,KAAQ,CAAE,CAAkBlH,gBAAAA,EAAAA,EAAG,IAAG,CAAC,CAAA;;AAEjD;MACA,MAAMwgB,QAAQ,GAAG,OAAOvD,cAAe,KAAK,SAAS,GACnD,6BAA6B,GAC7BA,cAAc,CAAA;AAChB,MAAA,MAAME,cAAc,GAAGjW,KAAQ,CAACsZ,QAAQ,EAAE7Y,KAAK,CAAC,CAAA;;AAEhD;AACA,MAAA,IAAIwV,cAAc,EAAE;AAElB,QAAA,IAAIxW,UAAU,CAACwW,cAAc,CAACvW,MAAM,CAAC,EAAE;UACrCuW,cAAc,CAACvW,MAAM,EAAE,CAAA;SACxB,MAAM,IAAID,UAAU,CAACwW,cAAc,CAAC1W,KAAK,CAAC,EAAE;UAC3C0W,cAAc,CAAC1W,KAAK,EAAE,CAAA;AACxB,SAAA;AAEF,OAAA;AACF,KAAA;GACD,EAAE,CAAE8Z,OAAO,EAAEtD,cAAc,EAAEjd,EAAE,CAAE,CAAC,CAAA;AAEnC,EAAA,OAAO1B,GAAA,CAAA,IAAA,EAAA;IAAIF,KAAK,EAAGsL,UAAU,CAC3B,uCAAuC,EACvClB,IAAI,GAAG,MAAM,GAAG,EAClB,CAAG;IAAAnK,QAAA,EAECif,KAAK,CAACnY,GAAG,CAAC,CAAC+W,IAAI,EAAEC,KAAK,KAAK;AACzB,MAAA,MAAM5W,GAAG,GAAGD,MAAM,CAAC4W,IAAI,CAAC,CAAA;AAExB,MAAA,OAAQ/d,IAAA,CAAA,IAAA,EAAA;AAAIC,QAAAA,KAAK,EAAC,sCAAsC;QAAAC,QAAA,EAAA,CACtDC,GAAA,CAACyL,SAAS,EAAA;AAAA,UAAA,GACH+V,SAAS;AACdriB,UAAAA,OAAO,EAAGA,OAAS;AACnBuC,UAAAA,EAAE,EAAGA,EAAI;AACTmc,UAAAA,KAAK,EAAGA,KAAO;AACfD,UAAAA,IAAI,EAAGA,IAAM;UACb1T,IAAI,EAAG0T,IAAI,KAAKqE,OAAAA;AAAS,SAAE,CAAC,EAE5BX,QAAQ,IACNthB,GAAA,CAAA,QAAA,EAAA;AACEN,UAAAA,IAAI,EAAC,QAAQ;AACbU,UAAAA,KAAK,EAAC,aAAa;AACnBN,UAAAA,KAAK,EAAC,0EAA0E;UAChFkF,OAAO,EAAGA,MAAMsc,QAAQ,IAAIA,QAAQ,CAAC1D,IAAI,CAAG;AAAA7d,UAAAA,QAAA,EAC7CC,GAAA,CAACye,UAAU,EAAE,EAAA,CAAA;AAAC,SAAQ,CACxB,CAAA;AAAA,OAAA,EAhB0DxX,GAkB3D,CAAC,CAAA;KACN,CAAA;AAAC,GAEF,CAAC,CAAA;AACP,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS2a,cAAcA,CAACO,YAAY,EAAEZ,SAAS,EAAEG,WAAW,GAAG,KAAK,EAAE;EACpE,MAAMU,QAAQ,GAAGxf,MAAM,CAACuf,YAAY,CAAC7a,KAAK,EAAE,CAAC,CAAA;;AAE7C;AACA,EAAA,IAAIoa,WAAW,EAAE;AACfU,IAAAA,QAAQ,CAAC1e,OAAO,GAAGye,YAAY,CAAC7a,KAAK,EAAE,CAAA;AAEvC,IAAA,IAAIia,SAAS,EAAE;AACba,MAAAA,QAAQ,CAAC1e,OAAO,CAAC2e,IAAI,CAACd,SAAS,CAAC,CAAA;AAClC,KAAA;AACF,GAAC,MAAM;AACL,IAAA,MAAMvC,KAAK,GAAGoD,QAAQ,CAAC1e,OAAO,CAAA;;AAE9B;AACA,IAAA,KAAK,MAAMka,IAAI,IAAIuE,YAAY,EAAE;AAC/B,MAAA,IAAI,CAACnD,KAAK,CAACa,QAAQ,CAACjC,IAAI,CAAC,EAAE;AAEzB;AACA2D,QAAAA,SAAS,GAAGvC,KAAK,CAACiB,OAAO,CAACrC,IAAI,CAAC,GAAGoB,KAAK,CAACc,IAAI,CAAClC,IAAI,CAAC,CAAA;AACpD,OAAA;AACF,KAAA;;AAEA;AACAwE,IAAAA,QAAQ,CAAC1e,OAAO,GAAGsb,KAAK,CAACgB,MAAM,CAACpC,IAAI,IAAIuE,YAAY,CAACtC,QAAQ,CAACjC,IAAI,CAAC,CAAC,CAAA;AACtE,GAAA;EAEA,OAAOwE,QAAQ,CAAC1e,OAAO,CAAA;AACzB,CAAA;AAEA,SAASoe,WAAWA,CAAC9C,KAAK,GAAG,EAAE,EAAE0C,WAAW,EAAE;EAC5C,MAAMY,aAAa,GAAGva,WAAW,CAACiX,KAAK,CAAC1X,KAAK,EAAE,CAAC,IAAI,EAAE,CAAA;AAEtD,EAAA,IAAIoa,WAAW,EAAE;AACf,IAAA,OAAO,EAAE,CAAA;AACX,GAAA;AAEA,EAAA,OAAOY,aAAa,GAAGtD,KAAK,CAACgB,MAAM,CAACpC,IAAI,IAAI,CAAC0E,aAAa,CAACzC,QAAQ,CAACjC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAA;AACjF;;ACzPA,SAAS2E,MAAMA,CAACrjB,KAAK,EAAE;EACrB,MAAM;IACJwC,EAAE;IACFjC,KAAK;IACLkO,QAAQ;AACR6U,IAAAA,OAAO,GAAG,EAAE;AACZzgB,IAAAA,KAAK,GAAG,EAAE;IACV4K,QAAQ;IACRrH,OAAO;IACP6Q,MAAM;AACN5U,IAAAA,OAAAA;AACF,GAAC,GAAGrC,KAAK,CAAA;AAET,EAAA,MAAM6F,GAAG,GAAGiD,iBAAiB,CAACtG,EAAE,CAAC,CAAA;EAEjC,MAAM,CAAE4L,UAAU,EAAEC,aAAa,CAAE,GAAGhL,QAAQ,CAACR,KAAK,CAAC,CAAA;EAErD,MAAM8e,oBAAoB,GAAGA,CAAC;AAAEtgB,IAAAA,MAAAA;AAAO,GAAC,KAAK;AAC3CoN,IAAAA,QAAQ,CAACpN,MAAM,CAACwB,KAAK,CAAC,CAAA;GACvB,CAAA;EAED,MAAMqY,YAAY,GAAG/W,CAAC,IAAI;IACxBwd,oBAAoB,CAACxd,CAAC,CAAC,CAAA;AACvBkK,IAAAA,aAAa,CAAClK,CAAC,CAAC9C,MAAM,CAACwB,KAAK,CAAC,CAAA;GAC9B,CAAA;AAED+B,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI/B,KAAK,KAAKuL,UAAU,EAAE;AACxB,MAAA,OAAA;AACF,KAAA;IAEAC,aAAa,CAACxL,KAAK,CAAC,CAAA;AACtB,GAAC,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;AAEb,EAAA,OACElC,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,6BAA6B;AAAAC,IAAAA,QAAA,GACtCC,GAAA,CAAA,OAAA,EAAA;AAAOqW,MAAAA,GAAG,EAAGpU,UAAQ,CAACP,EAAE,CAAG;AAAC5B,MAAAA,KAAK,EAAC,4BAA4B;MAAAC,QAAA,EAC5DC,GAAA,CAACgC,cAAO,EAAA;AAACD,QAAAA,KAAK,EAAGR,OAAS;AAACM,QAAAA,KAAK,EAAGH,EAAI;QAACvC,OAAO,EAAGD,KAAK,CAACC,OAAS;AAAAY,QAAAA,QAAA,EAC9DN,KAAAA;OACM,CAAA;KACJ,CAAC,EACRO,GAAA,CAAA,QAAA,EAAA;AACE+E,MAAAA,GAAG,EAAGA,GAAK;AACXrD,MAAAA,EAAE,EAAGO,UAAQ,CAACP,EAAE,CAAG;AACnBsM,MAAAA,IAAI,EAAGtM,EAAI;AACX5B,MAAAA,KAAK,EAAC,4BAA4B;AAClC4M,MAAAA,OAAO,EAAG0N,YAAc;AACxB9U,MAAAA,OAAO,EAAGA,OAAS;AACnB6Q,MAAAA,MAAM,EAAGA,MAAQ;AACjBpU,MAAAA,KAAK,EAAGuL,UAAY;AACpBX,MAAAA,QAAQ,EAAGA,QAAU;MAAA5M,QAAA,EAEpByiB,OAAO,CAAC3b,GAAG,CAAC,CAAC4b,MAAM,EAAEC,GAAG,KAAK;QAC5B,IAAID,MAAM,CAAC1iB,QAAQ,EAAE;AACnB,UAAA,OACEC,GAAA,CAAA,UAAA,EAAA;YAAsBP,KAAK,EAAGgjB,MAAM,CAAChjB,KAAO;AAAAM,YAAAA,QAAA,EACzC0iB,MAAM,CAAC1iB,QAAQ,CAAC8G,GAAG,CAAC,CAAC8b,KAAK,EAAED,GAAG,KAC9B1iB,GAAA,CAAA,QAAA,EAAA;cAEE+B,KAAK,EAAG4gB,KAAK,CAAC5gB,KAAO;cACrB4K,QAAQ,EAAGgW,KAAK,CAAChW,QAAU;cAAA5M,QAAA,EAE1B4iB,KAAK,CAACljB,KAAAA;AAAK,aAAA,EAJNijB,GAKA,CACT,CAAA;AAAC,WAAA,EATYA,GAUN,CAAC,CAAA;AAEf,SAAA;AAEA,QAAA,OACE1iB,GAAA,CAAA,QAAA,EAAA;UAAoB+B,KAAK,EAAG0gB,MAAM,CAAC1gB,KAAO;UAAC4K,QAAQ,EAAG8V,MAAM,CAAC9V,QAAU;UAAA5M,QAAA,EACpE0iB,MAAM,CAAChjB,KAAAA;AAAK,SAAA,EADDijB,GAEN,CAAC,CAAA;OAEZ,CAAA;AAAC,KACI,CAAC,CAAA;AAAA,GACN,CAAC,CAAA;AAEV,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASE,WAAWA,CAAC1jB,KAAK,EAAE;EACzC,MAAM;IACJC,OAAO;IACPuC,EAAE;IACFf,WAAW;IACXlB,KAAK;IACL+W,QAAQ;IACR3I,QAAQ;IACRgV,UAAU;IACVlW,QAAQ;IACRrH,OAAO;IACP6Q,MAAM;IACNkB,QAAQ;AACR9V,IAAAA,OAAAA;AACF,GAAC,GAAGrC,KAAK,CAAA;AAET,EAAA,MAAMsjB,OAAO,GAAGK,UAAU,CAAC1jB,OAAO,CAAC,CAAA;AACnC,EAAA,MAAMmY,WAAW,GAAGpR,QAAQ,CAACxE,EAAE,CAAC,CAAA;EAChC,MAAM,CAAE6V,UAAU,EAAEC,aAAa,CAAE,GAAGjV,QAAQ,CAAC,IAAI,CAAC,CAAA;AAEpD,EAAA,IAAIR,KAAK,GAAGyU,QAAQ,CAACrX,OAAO,CAAC,CAAA;AAE7B2E,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAIuE,UAAU,CAACgP,QAAQ,CAAC,EAAE;AACxB,MAAA,MAAMI,kBAAkB,GAAGJ,QAAQ,CAACtV,KAAK,CAAC,IAAI,IAAI,CAAA;MAElDyV,aAAa,CAACC,kBAAkB,CAAC,CAAA;AACnC,KAAA;AACF,GAAC,EAAE,CAAE1V,KAAK,EAAEsV,QAAQ,CAAE,CAAC,CAAA;EAGvB,MAAM1J,QAAQ,GAAI7F,QAAQ,IAAK;IAC7B,IAAI2P,kBAAkB,GAAG,IAAI,CAAA;AAE7B,IAAA,IAAIpP,UAAU,CAACgP,QAAQ,CAAC,EAAE;AACxBI,MAAAA,kBAAkB,GAAGJ,QAAQ,CAACvP,QAAQ,CAAC,IAAI,IAAI,CAAA;AACjD,KAAA;AAEA+F,IAAAA,QAAQ,CAAC/F,QAAQ,EAAE2P,kBAAkB,CAAC,CAAA;IACtCD,aAAa,CAACC,kBAAkB,CAAC,CAAA;GAClC,CAAA;AAED,EAAA,MAAMC,KAAK,GAAGJ,WAAW,IAAIC,UAAU,CAAA;AAEvC,EAAA,OACE1X,IAAA,CAAA,KAAA,EAAA;IACEC,KAAK,EAAGiO,UAAU,CAChB,4BAA4B,EAC5B2J,KAAK,GAAG,WAAW,GAAG,EAAE,CACzB;AACD,IAAA,eAAA,EAAgBhW,EAAI;IAAA3B,QAAA,EAAA,CACpBC,GAAA,CAACuiB,MAAM,EAAA;AACL7gB,MAAAA,EAAE,EAAGA,EAAI;AAETjC,MAAAA,KAAK,EAAGA,KAAO;AACfsC,MAAAA,KAAK,EAAGA,KAAO;AACf4L,MAAAA,QAAQ,EAAGA,QAAU;AACrBrI,MAAAA,OAAO,EAAGA,OAAS;AACnB6Q,MAAAA,MAAM,EAAGA,MAAQ;AACjBqM,MAAAA,OAAO,EAAGA,OAAS;AACnB7V,MAAAA,QAAQ,EAAGA,QAAU;AACrBpL,MAAAA,OAAO,EAAGA,OAAS;AACnBpC,MAAAA,OAAO,EAAGA,OAAAA;AAAS,KAAA,EATbA,OASe,CAAC,EACtBuY,KAAK,IAAI1X,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,4BAA4B;AAAAC,MAAAA,QAAA,EAAG2X,KAAAA;AAAK,KAAO,CAAC,EAClE1X,GAAA,CAAC+L,WAAW,EAAA;AAAClK,MAAAA,KAAK,EAAGH,EAAI;AAACvC,MAAAA,OAAO,EAAGA,OAAS;AAAC4C,MAAAA,KAAK,EAAGpB,WAAAA;AAAa,KAAE,CAAC,CAAA;AAAA,GACnE,CAAC,CAAA;AAEV,CAAA;AAEO,SAASiK,UAAQA,CAACiJ,IAAI,EAAE;AAC7B,EAAA,OAAOA,IAAI,IAAI,CAAC,CAACA,IAAI,CAAC9R,KAAK,CAAA;AAC7B,CAAA;;AAEA;;AAEA,SAASE,UAAQA,CAACP,EAAE,EAAE;EACpB,OAAQ,CAAA,qBAAA,EAAwBA,EAAI,CAAC,CAAA,CAAA;AACvC;;AC9Le,SAASohB,MAAMA,CAAC5jB,KAAK,EAAE;EACpC,MAAM;IACJwX,QAAQ;IACR/J,QAAQ;IACRxN,OAAO;IACPqX,QAAQ;IACR9U,EAAE;IACFyU,MAAM;IACN7Q,OAAO;AACPuI,IAAAA,QAAAA;AACF,GAAC,GAAG3O,KAAK,CAAA;AAET,EAAA,MAAM6C,KAAK,GAAGyU,QAAQ,CAACrX,OAAO,CAAC,CAAA;EAE/B,MAAM,CAAEmO,UAAU,EAAEC,aAAa,CAAE,GAAGhL,QAAQ,CAACR,KAAK,CAAC,CAAA;AAErD,EAAA,MAAMqU,mBAAmB,GAAGtP,OAAO,CAAC,MAAM;AACxC,IAAA,OAAO4P,QAAQ,CAAEnW,MAAM,IAAKsN,QAAQ,CAACtN,MAAM,CAACwB,KAAK,CAACmX,MAAM,GAAG3Y,MAAM,CAACwB,KAAK,GAAGsK,SAAS,CAAC,CAAC,CAAA;AACvF,GAAC,EAAE,CAAEwB,QAAQ,EAAE6I,QAAQ,CAAE,CAAC,CAAA;EAE1B,MAAMlJ,WAAW,GAAGnK,CAAC,IAAI;AACvB+S,IAAAA,mBAAmB,CAAC/S,CAAC,CAAC9C,MAAM,CAAC,CAAA;AAC7BgN,IAAAA,aAAa,CAAClK,CAAC,CAAC9C,MAAM,CAACwB,KAAK,CAAC,CAAA;GAC9B,CAAA;AAED+B,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI/B,KAAK,KAAKuL,UAAU,EAAE;AACxB,MAAA,OAAA;AACF,KAAA;IAEAC,aAAa,CAACxL,KAAK,CAAC,CAAA;AACtB,GAAC,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;AAGb,EAAA,OACE/B,GAAA,CAAA,KAAA,EAAA;AAAKF,IAAAA,KAAK,EAAC,6BAA6B;AAAAC,IAAAA,QAAA,EACtCC,GAAA,CAAA,OAAA,EAAA;AACE0B,MAAAA,EAAE,EAAGO,UAAQ,CAACP,EAAE,CAAG;AAEnBhC,MAAAA,IAAI,EAAC,MAAM;AACXsO,MAAAA,IAAI,EAAGtM,EAAI;AACXwV,MAAAA,UAAU,EAAC,OAAO;AAClBC,MAAAA,YAAY,EAAC,KAAK;AAClBxK,MAAAA,QAAQ,EAAGA,QAAU;AACrB7M,MAAAA,KAAK,EAAC,4BAA4B;AAClC4M,MAAAA,OAAO,EAAGc,WAAa;MACvB,YAAaF,EAAAA,UAAU,IAAI,SAAW;AACtChI,MAAAA,OAAO,EAAGA,OAAS;AACnB6Q,MAAAA,MAAM,EAAGA,MAAQ;AACjBpU,MAAAA,KAAK,EAAGuL,UAAAA;AAAY,KAAA,EAXdnO,OAWgB,CAAA;AAAC,GACtB,CAAC,CAAA;AAEV,CAAA;AAEO,SAASyL,UAAQA,CAACiJ,IAAI,EAAE;AAC7B,EAAA,OAAOA,IAAI,IAAI,CAAC,CAACA,IAAI,CAAC9R,KAAK,CAAA;AAC7B,CAAA;;AAGA;;AAEA,SAASE,UAAQA,CAACP,EAAE,EAAE;EACpB,OAAQ,CAAA,qBAAA,EAAwBA,EAAI,CAAC,CAAA,CAAA;AACvC;;AC7DA,SAASqhB,gBAAgBA,CAAC5jB,OAAO,EAAE;AACjCA,EAAAA,OAAO,CAAC0F,KAAK,CAAC3E,MAAM,GAAG,MAAM,CAAA;;AAE7B;AACA;EACAf,OAAO,CAAC0F,KAAK,CAAC3E,MAAM,GAAI,CAAGf,EAAAA,OAAO,CAACgK,YAAY,GAAG,CAAG,CAAG,EAAA,CAAA,CAAA;AAC1D,CAAA;AAEA,SAAS6Z,QAAQA,CAAC9jB,KAAK,EAAE;EAEvB,MAAM;IACJwC,EAAE;IACFjC,KAAK;IACLiX,QAAQ;IACRhK,OAAO;AACP3K,IAAAA,KAAK,GAAG,EAAE;IACV4K,QAAQ;IACRsW,SAAS;IACT3d,OAAO;IACP6Q,MAAM;IACN+M,UAAU;AACVC,IAAAA,IAAI,GAAGD,UAAU,GAAG,CAAC,GAAG,CAAC;AACzB3hB,IAAAA,OAAAA;AACF,GAAC,GAAGrC,KAAK,CAAA;EAET,MAAM,CAAEoO,UAAU,EAAEC,aAAa,CAAE,GAAGhL,QAAQ,CAACR,KAAK,CAAC,CAAA;AAErD,EAAA,MAAMgD,GAAG,GAAGiD,iBAAiB,CAACtG,EAAE,CAAC,CAAA;AAEjC,EAAA,MAAM0U,mBAAmB,GAAGtP,OAAO,CAAC,MAAM;AACxC,IAAA,OAAO4P,QAAQ,CAAEnW,MAAM,IAAKmM,OAAO,CAACnM,MAAM,CAACwB,KAAK,CAACmX,MAAM,GAAG3Y,MAAM,CAACwB,KAAK,GAAGsK,SAAS,CAAC,CAAC,CAAA;AACtF,GAAC,EAAE,CAAEK,OAAO,EAAEgK,QAAQ,CAAE,CAAC,CAAA;EAEzB,MAAMlJ,WAAW,GAAGnK,CAAC,IAAI;AACvB+S,IAAAA,mBAAmB,CAAC/S,CAAC,CAAC9C,MAAM,CAAC,CAAA;AAE7B2iB,IAAAA,UAAU,IAAIH,gBAAgB,CAAC1f,CAAC,CAAC9C,MAAM,CAAC,CAAA;AAExCgN,IAAAA,aAAa,CAAClK,CAAC,CAAC9C,MAAM,CAACwB,KAAK,CAAC,CAAA;GAC9B,CAAA;AAEDob,EAAAA,eAAe,CAAC,MAAM;AACpB+F,IAAAA,UAAU,IAAIH,gBAAgB,CAAChe,GAAG,CAACrB,OAAO,CAAC,CAAA;GAC5C,EAAE,EAAE,CAAC,CAAA;AAENI,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI/B,KAAK,KAAKuL,UAAU,EAAE;AACxB,MAAA,OAAA;AACF,KAAA;IAEAC,aAAa,CAACxL,KAAK,CAAC,CAAA;AACtB,GAAC,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;AAEb,EAAA,OACElC,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,+BAA+B;AAAAC,IAAAA,QAAA,GACxCC,GAAA,CAAA,OAAA,EAAA;AAAOqW,MAAAA,GAAG,EAAGpU,UAAQ,CAACP,EAAE,CAAG;AAAC5B,MAAAA,KAAK,EAAC,4BAA4B;MAAAC,QAAA,EAC5DC,GAAA,CAACgC,cAAO,EAAA;AAACD,QAAAA,KAAK,EAAGR,OAAS;AAACM,QAAAA,KAAK,EAAGH,EAAI;QAACvC,OAAO,EAAGD,KAAK,CAACC,OAAS;AAAAY,QAAAA,QAAA,EAC7DN,KAAAA;OACK,CAAA;KACJ,CAAC,EACRO,GAAA,CAAA,UAAA,EAAA;AACE+E,MAAAA,GAAG,EAAGA,GAAK;AACXrD,MAAAA,EAAE,EAAGO,UAAQ,CAACP,EAAE,CAAG;AACnBsM,MAAAA,IAAI,EAAGtM,EAAI;AACXwV,MAAAA,UAAU,EAAC,OAAO;AAClBpX,MAAAA,KAAK,EAAGsL,UAAU,CAChB,4BAA4B,EAC5B6X,SAAS,GAAG,sCAAsC,GAAG,EAAE,EACvDC,UAAU,GAAG,aAAa,GAAG,EAAE,CAChC;AACDxW,MAAAA,OAAO,EAAGc,WAAa;AACvBlI,MAAAA,OAAO,EAAGA,OAAS;AACnB6Q,MAAAA,MAAM,EAAGA,MAAQ;AACjBgN,MAAAA,IAAI,EAAGA,IAAM;AACbphB,MAAAA,KAAK,EAAGuL,UAAY;AACpBX,MAAAA,QAAQ,EAAGA,QAAU;MACrB,YAAW,EAAA,OAAA;AAAO,KACnB,CAAC,CAAA;AAAA,GACC,CAAC,CAAA;AAEV,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASyW,aAAaA,CAAClkB,KAAK,EAAE;EAC3C,MAAM;IACJC,OAAO;IACPuC,EAAE;IACFf,WAAW;IACX+V,QAAQ;IACRjX,KAAK;IACL+W,QAAQ;IACR3I,QAAQ;IACRsV,IAAI;IACJF,SAAS;IACTtW,QAAQ;IACR0K,QAAQ;IACR/R,OAAO;IACP6Q,MAAM;IACN+M,UAAU;AACV3hB,IAAAA,OAAAA;AACF,GAAC,GAAGrC,KAAK,CAAA;AAET,EAAA,MAAMoY,WAAW,GAAGpR,QAAQ,CAACxE,EAAE,CAAC,CAAA;EAChC,MAAM,CAAE6V,UAAU,EAAEC,aAAa,CAAE,GAAGjV,QAAQ,CAAC,IAAI,CAAC,CAAA;AAEpD,EAAA,IAAIR,KAAK,GAAGyU,QAAQ,CAACrX,OAAO,CAAC,CAAA;AAE7B2E,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAIuE,UAAU,CAACgP,QAAQ,CAAC,EAAE;AACxB,MAAA,MAAMI,kBAAkB,GAAGJ,QAAQ,CAACtV,KAAK,CAAC,IAAI,IAAI,CAAA;MAElDyV,aAAa,CAACC,kBAAkB,CAAC,CAAA;AACnC,KAAA;AACF,GAAC,EAAE,CAAE1V,KAAK,EAAEsV,QAAQ,CAAE,CAAC,CAAA;EAEvB,MAAM3K,OAAO,GAAI5E,QAAQ,IAAK;IAC5B,IAAI2P,kBAAkB,GAAG,IAAI,CAAA;AAE7B,IAAA,IAAIpP,UAAU,CAACgP,QAAQ,CAAC,EAAE;AACxBI,MAAAA,kBAAkB,GAAGJ,QAAQ,CAACvP,QAAQ,CAAC,IAAI,IAAI,CAAA;AACjD,KAAA;AAEA+F,IAAAA,QAAQ,CAAC/F,QAAQ,EAAE2P,kBAAkB,CAAC,CAAA;IAEtCD,aAAa,CAACC,kBAAkB,CAAC,CAAA;GAClC,CAAA;AAGD,EAAA,MAAMC,KAAK,GAAGJ,WAAW,IAAIC,UAAU,CAAA;AAEvC,EAAA,OACE1X,IAAA,CAAA,KAAA,EAAA;IACEC,KAAK,EAAGsL,UAAU,CAChB,4BAA4B,EAC5BsM,KAAK,GAAG,WAAW,GAAG,EAAE,CACzB;AACD,IAAA,eAAA,EAAgBhW,EAAI;IAAA3B,QAAA,EAAA,CACpBC,GAAA,CAACgjB,QAAQ,EAAA;AACPthB,MAAAA,EAAE,EAAGA,EAAI;AAETjC,MAAAA,KAAK,EAAGA,KAAO;AACfsC,MAAAA,KAAK,EAAGA,KAAO;AACf2K,MAAAA,OAAO,EAAGA,OAAS;AACnBpH,MAAAA,OAAO,EAAGA,OAAS;AACnB6Q,MAAAA,MAAM,EAAGA,MAAQ;AACjBgN,MAAAA,IAAI,EAAGA,IAAM;AACbzM,MAAAA,QAAQ,EAAGA,QAAU;AACrBuM,MAAAA,SAAS,EAAGA,SAAW;AACvBtW,MAAAA,QAAQ,EAAGA,QAAU;AACrBuW,MAAAA,UAAU,EAAGA,UAAY;AACzB3hB,MAAAA,OAAO,EAAGA,OAAS;AACnBpC,MAAAA,OAAO,EAAGA,OAAAA;AAAS,KAAA,EAZbA,OAYe,CAAC,EACtBuY,KAAK,IAAI1X,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,4BAA4B;AAAAC,MAAAA,QAAA,EAAG2X,KAAAA;AAAK,KAAO,CAAC,EAClE1X,GAAA,CAAC+L,WAAW,EAAA;AAAClK,MAAAA,KAAK,EAAGH,EAAI;AAACvC,MAAAA,OAAO,EAAGA,OAAS;AAAC4C,MAAAA,KAAK,EAAGpB,WAAAA;AAAa,KAAE,CAAC,CAAA;AAAA,GACnE,CAAC,CAAA;AAEV,CAAA;AAEO,SAASiK,UAAQA,CAACiJ,IAAI,EAAE;AAC7B,EAAA,OAAOA,IAAI,IAAI,CAAC,CAACA,IAAI,CAAC9R,KAAK,CAAA;AAC7B,CAAA;;AAGA;;AAEA,SAASE,UAAQA,CAACP,EAAE,EAAE;EACpB,OAAQ,CAAA,qBAAA,EAAwBA,EAAI,CAAC,CAAA,CAAA;AACvC;;ACvLA,SAAS2hB,SAASA,CAACnkB,KAAK,EAAE;EAExB,MAAM;IACJwX,QAAQ;AACR/J,IAAAA,QAAQ,GAAG,KAAK;IAChBjL,EAAE;IACFjC,KAAK;IACLiN,OAAO;IACPpH,OAAO;IACP6Q,MAAM;AACNpU,IAAAA,KAAK,GAAG,EAAE;AACVR,IAAAA,OAAAA;AACF,GAAC,GAAGrC,KAAK,CAAA;EAET,MAAM,CAAEoO,UAAU,EAAEC,aAAa,CAAE,GAAGhL,QAAQ,CAACR,KAAK,IAAI,EAAE,CAAC,CAAA;AAE3D,EAAA,MAAMgD,GAAG,GAAGiD,iBAAiB,CAACtG,EAAE,CAAC,CAAA;AAEjC,EAAA,MAAM0U,mBAAmB,GAAGtP,OAAO,CAAC,MAAM;AACxC,IAAA,OAAO4P,QAAQ,CAAEnW,MAAM,IAAKmM,OAAO,CAACnM,MAAM,CAACwB,KAAK,CAACmX,MAAM,GAAG3Y,MAAM,CAACwB,KAAK,GAAGsK,SAAS,CAAC,CAAC,CAAA;AACtF,GAAC,EAAE,CAAEK,OAAO,EAAEgK,QAAQ,CAAE,CAAC,CAAA;EAEzB,MAAMlJ,WAAW,GAAGnK,CAAC,IAAI;AACvB+S,IAAAA,mBAAmB,CAAC/S,CAAC,CAAC9C,MAAM,CAAC,CAAA;AAC7BgN,IAAAA,aAAa,CAAClK,CAAC,CAAC9C,MAAM,CAACwB,KAAK,CAAC,CAAA;GAC9B,CAAA;AAED+B,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI/B,KAAK,KAAKuL,UAAU,EAAE;AACxB,MAAA,OAAA;AACF,KAAA;IAEAC,aAAa,CAACxL,KAAK,CAAC,CAAA;AACtB,GAAC,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;AAEb,EAAA,OACElC,IAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,gCAAgC;AAAAC,IAAAA,QAAA,GACzCC,GAAA,CAAA,OAAA,EAAA;AAAOqW,MAAAA,GAAG,EAAGpU,QAAQ,CAACP,EAAE,CAAG;AAAC5B,MAAAA,KAAK,EAAC,4BAA4B;MAAAC,QAAA,EAC5DC,GAAA,CAACgC,cAAO,EAAA;AAACD,QAAAA,KAAK,EAAGR,OAAS;AAACM,QAAAA,KAAK,EAAGH,EAAI;QAACvC,OAAO,EAAGD,KAAK,CAACC,OAAS;AAAAY,QAAAA,QAAA,EAC7DN,KAAAA;OACK,CAAA;KACJ,CAAC,EACRO,GAAA,CAAA,OAAA,EAAA;AACE+E,MAAAA,GAAG,EAAGA,GAAK;AACXrD,MAAAA,EAAE,EAAGO,QAAQ,CAACP,EAAE,CAAG;AACnBhC,MAAAA,IAAI,EAAC,MAAM;AACXsO,MAAAA,IAAI,EAAGtM,EAAI;AACXwV,MAAAA,UAAU,EAAC,OAAO;AAClBC,MAAAA,YAAY,EAAC,KAAK;AAClBxK,MAAAA,QAAQ,EAAGA,QAAU;AACrB7M,MAAAA,KAAK,EAAC,4BAA4B;AAClC4M,MAAAA,OAAO,EAAGc,WAAa;AACvBlI,MAAAA,OAAO,EAAGA,OAAS;AACnB6Q,MAAAA,MAAM,EAAGA,MAAQ;AACjBpU,MAAAA,KAAK,EAAGuL,UAAAA;AAAY,KAAE,CAAC,CAAA;AAAA,GACtB,CAAC,CAAA;AAEV,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASgW,cAAcA,CAACpkB,KAAK,EAAE;EAC5C,MAAM;IACJC,OAAO;IACPuC,EAAE;IACFf,WAAW;IACX+V,QAAQ;IACR/J,QAAQ;IACRlN,KAAK;IACL+W,QAAQ;IACR3I,QAAQ;IACRwJ,QAAQ;IACR/R,OAAO;IACP6Q,MAAM;AACN5U,IAAAA,OAAAA;AACF,GAAC,GAAGrC,KAAK,CAAA;AAET,EAAA,MAAMoY,WAAW,GAAGpR,QAAQ,CAACxE,EAAE,CAAC,CAAA;EAChC,MAAM,CAAE6V,UAAU,EAAEC,aAAa,CAAE,GAAGjV,QAAQ,CAAC,IAAI,CAAC,CAAA;AAEpD,EAAA,IAAIR,KAAK,GAAGyU,QAAQ,CAACrX,OAAO,CAAC,CAAA;AAE7B2E,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAIuE,UAAU,CAACgP,QAAQ,CAAC,EAAE;AACxB,MAAA,MAAMI,kBAAkB,GAAGJ,QAAQ,CAACtV,KAAK,CAAC,IAAI,IAAI,CAAA;MAElDyV,aAAa,CAACC,kBAAkB,CAAC,CAAA;AACnC,KAAA;AACF,GAAC,EAAE,CAAE1V,KAAK,EAAEsV,QAAQ,CAAE,CAAC,CAAA;EAEvB,MAAM3K,OAAO,GAAI5E,QAAQ,IAAK;IAC5B,IAAI2P,kBAAkB,GAAG,IAAI,CAAA;AAE7B,IAAA,IAAIpP,UAAU,CAACgP,QAAQ,CAAC,EAAE;AACxBI,MAAAA,kBAAkB,GAAGJ,QAAQ,CAACvP,QAAQ,CAAC,IAAI,IAAI,CAAA;AACjD,KAAA;AAEA+F,IAAAA,QAAQ,CAAC/F,QAAQ,EAAE2P,kBAAkB,CAAC,CAAA;IAEtCD,aAAa,CAACC,kBAAkB,CAAC,CAAA;GAClC,CAAA;AAGD,EAAA,MAAMC,KAAK,GAAGJ,WAAW,IAAIC,UAAU,CAAA;AAEvC,EAAA,OACE1X,IAAA,CAAA,KAAA,EAAA;IACEC,KAAK,EAAGsL,UAAU,CAChB,4BAA4B,EAC5BsM,KAAK,GAAG,WAAW,GAAG,EAAE,CACzB;AACD,IAAA,eAAA,EAAgBhW,EAAI;IAAA3B,QAAA,EAAA,CACpBC,GAAA,CAACqjB,SAAS,EAAA;AACR3M,MAAAA,QAAQ,EAAGA,QAAU;AACrB/J,MAAAA,QAAQ,EAAGA,QAAU;AACrBjL,MAAAA,EAAE,EAAGA,EAAI;AAETjC,MAAAA,KAAK,EAAGA,KAAO;AACfiN,MAAAA,OAAO,EAAGA,OAAS;AACnBpH,MAAAA,OAAO,EAAGA,OAAS;AACnB6Q,MAAAA,MAAM,EAAGA,MAAQ;AACjBpU,MAAAA,KAAK,EAAGA,KAAO;AACfR,MAAAA,OAAO,EAAGA,OAAS;AACnBpC,MAAAA,OAAO,EAAGA,OAAAA;AAAS,KAAA,EAPbA,OAOe,CAAC,EACtBuY,KAAK,IAAI1X,GAAA,CAAA,KAAA,EAAA;AAAKF,MAAAA,KAAK,EAAC,4BAA4B;AAAAC,MAAAA,QAAA,EAAG2X,KAAAA;AAAK,KAAO,CAAC,EAClE1X,GAAA,CAAC+L,WAAW,EAAA;AAAClK,MAAAA,KAAK,EAAGH,EAAI;AAACvC,MAAAA,OAAO,EAAGA,OAAS;AAAC4C,MAAAA,KAAK,EAAGpB,WAAAA;AAAa,KAAE,CAAC,CAAA;AAAA,GACnE,CAAC,CAAA;AAEV,CAAA;AAEO,SAASiK,QAAQA,CAACiJ,IAAI,EAAE;AAC7B,EAAA,OAAOA,IAAI,IAAI,CAAC,CAACA,IAAI,CAAC9R,KAAK,CAAA;AAC7B,CAAA;;AAGA;;AAEA,SAASE,QAAQA,CAACP,EAAE,EAAE;EACpB,OAAQ,CAAA,qBAAA,EAAwBA,EAAI,CAAC,CAAA,CAAA;AACvC;;ACrKA,MAAM6hB,qBAAqB,GAAG,GAAG,CAAA;AAElB,SAASC,aAAaA,CAACC,aAAa,EAAE;AACnD,EAAA,OAAO,SAASC,cAAcA,CAAC7T,EAAE,EAAE;IACjC,IAAI4T,aAAa,KAAK,KAAK,EAAE;MAE3B,IAAIE,YAAY,GACdC,QAAQ,CAACH,aAAa,CAAC,GACrBA,aAAa,GACbF,qBAAqB,CAAA;AAEzB,MAAA,OAAO7M,QAAQ,CAAC7G,EAAE,EAAE8T,YAAY,CAAC,CAAA;AACnC,KAAC,MAAM;AACL,MAAA,OAAO9T,EAAE,CAAA;AACX,KAAA;GACD,CAAA;AACH,CAAA;AAEA2T,aAAa,CAACK,OAAO,GAAG,CAAE,sBAAsB,CAAE;;ACrBlD,cAAe;AACbL,EAAAA,aAAa,EAAE,CAAE,SAAS,EAAEA,aAAa,CAAA;AAC3C,CAAC;;ACJc,MAAMM,eAAe,CAAC;EAEnCC,WAAWA,CAAC/iB,QAAQ,EAAE;IACpB,IAAI,CAACgjB,SAAS,GAAGhjB,QAAQ,CAAA;AAC3B,GAAA;;AAEA;AACF;AACA;AACA;AACEyT,EAAAA,MAAMA,GAAG;AACP,IAAA,OAAO,IAAI,CAACuP,SAAS,CAAC/P,IAAI,CAAC,mBAAmB,CAAC,CAAA;AACjD,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACE/J,EAAAA,IAAIA,CAAC0K,OAAO,EAAER,WAAW,EAAEG,aAAa,EAAE;AACxC,IAAA,OAAO,IAAI,CAACyP,SAAS,CAAC/P,IAAI,CAAC,iBAAiB,EAAE;MAC5CW,OAAO;MACPR,WAAW;AACXG,MAAAA,aAAAA;AACF,KAAC,CAAC,CAAA;AACJ,GAAA;;AAEA;AACF;AACA;AACE7E,EAAAA,KAAKA,GAAG;AACN,IAAA,OAAO,IAAI,CAACsU,SAAS,CAAC/P,IAAI,CAAC,kBAAkB,CAAC,CAAA;AAChD,GAAA;AACF,CAAA;AAEA6P,eAAe,CAACD,OAAO,GAAG,CAAE,UAAU,CAAE;;ACnCxC,YAAe;AACbI,EAAAA,SAAS,EAAE,CAAE,MAAM,EAAEA,eAAS,CAAA;AAChC,CAAC;;;;"}